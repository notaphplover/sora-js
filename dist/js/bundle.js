!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).sora=e()}}(function(){return function o(a,s,l){function u(t,e){if(!s[t]){if(!a[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(c)return c(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var i=s[t]={exports:{}};a[t][0].call(i.exports,function(e){return u(a[t][1][e]||e)},i,i.exports,o,a,s,l)}return s[t].exports}for(var c="function"==typeof require&&require,e=0;e<l.length;e++)u(l[e]);return u}({1:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.SingleAnimationEngine=void 0;var i=r(e("@babel/runtime/helpers/classCallCheck")),o=r(e("@babel/runtime/helpers/createClass")),a=r(e("@babel/runtime/helpers/possibleConstructorReturn")),s=r(e("@babel/runtime/helpers/getPrototypeOf")),l=r(e("@babel/runtime/helpers/get")),u=r(e("@babel/runtime/helpers/inherits")),f=e("../carousel/carousel-base"),c=e("../task/operation/operation-manager"),h=e("../task/task-engine"),p=e("./animation-operation-events"),_=e("./animation-play-state"),v=function(e){function r(){var e;return(0,i.default)(this,r),(e=(0,a.default)(this,(0,s.default)(r).call(this))).animationCancelManager=new c.OperationManager(p.ANIMATION_OPERATION_EVENTS.ANIMATION_CANCEL,e.eventEmitter),e.animationStateChangeManager=new c.OperationManager(p.ANIMATION_OPERATION_EVENTS.ANIMATION_STATE_CHANGE,e.eventEmitter),e}return(0,u.default)(r,e),(0,o.default)(r,[{key:"dispose",value:function(){this.animationCancelManager.dispose(),this.animationStateChangeManager.dispose()}},{key:"cancelAnimation",value:function(e){this.eventEmitter.emit(p.ANIMATION_OPERATION_EVENTS.ANIMATION_CANCEL,{aliases:e})}},{key:"pause",value:function(e){this.eventEmitter.emit(p.ANIMATION_OPERATION_EVENTS.ANIMATION_STATE_CHANGE,{aliases:e,value:_.AnimationPlayStateValue.paused})}},{key:"resume",value:function(e){this.eventEmitter.emit(p.ANIMATION_OPERATION_EVENTS.ANIMATION_STATE_CHANGE,{aliases:e,value:_.AnimationPlayStateValue.running})}},{key:"handleTaskPart",value:function(t){var n=this;return t.pendingOperations={cancel:{isPending:!1,operationToken:this.animationCancelManager.subscribe(t.alias,function(e){t.pendingOperations.cancel.isPending=!0,n.animationCancelManager.unsubscribe(t.alias,t.pendingOperations.cancel.operationToken)})},pause:{isPending:!1,operationToken:this.animationStateChangeManager.subscribe(t.alias,function(e){t.pendingOperations.pause.isPending=e.value===_.AnimationPlayStateValue.paused})}},(0,l.default)((0,s.default)(r.prototype),"handleTaskPart",this).call(this,t)}},{key:"performTask",value:function(e){e.pendingOperations&&(this.animationCancelManager.unsubscribe(e.alias,e.pendingOperations.cancel.operationToken),this.animationStateChangeManager.unsubscribe(e.alias,e.pendingOperations.pause.operationToken));for(var t=new Array(e.elements.length),n=0;n<e.elements.length;++n)t[n]=this.handleAnimationOverElement(e.elements[n],e);return e.pendingOperations&&(e.pendingOperations.pause.isPending&&(this.pause([e.alias]),e.pendingOperations.pause.isPending=!1),e.pendingOperations.cancel.isPending&&(this.cancelAnimation([e.alias]),e.pendingOperations.cancel.isPending=!1)),Promise.all(t)}},{key:"handleAnimationOverElement",value:function(s,l){var u=l.styles;if(!u)throw new Error("It's required to have an array of styles to generate an animation.");if(u.length<1)throw new Error("It's required to have at least one class to generate an animation.");var c=this;return new Promise(function(o,t){try{var a,e;!function(){var n=new Array;a=null;var t=c.animationCancelManager.subscribe(l.alias,function(e){r({aliases:e.aliases,value:_.AnimationPlayStateValue.running}),s.classList.add(f.CAROUSEL_STYLES.CLEAR_ANIMATION),null!=a&&s.classList.remove(u[a]),c.unregisterAnimationListener(s,n[a]),s.classList.remove(f.CAROUSEL_STYLES.CLEAR_ANIMATION),c.animationCancelManager.unsubscribe(l.alias,t),c.animationStateChangeManager.unsubscribe(l.alias,i),o()}),r=function(e){_.AnimationPlayStateValue.paused===e.value?s.classList.contains(f.CAROUSEL_STYLES.ANIMATION_PAUSED)||s.classList.add(f.CAROUSEL_STYLES.ANIMATION_PAUSED):_.AnimationPlayStateValue.running===e.value&&s.classList.contains(f.CAROUSEL_STYLES.ANIMATION_PAUSED)&&s.classList.remove(f.CAROUSEL_STYLES.ANIMATION_PAUSED)},i=c.animationStateChangeManager.subscribe(l.alias,r);for(e=1;e<u.length;++e)n.push(function(t){return function(e){s.classList.remove(u[t-1]),c.unregisterAnimationListener(s,n[t-1]),c.registerAnimationListener(s,n[t]),s.classList.add(u[t]),a=t}}(e));n.push(function(e){s.classList.add(f.CAROUSEL_STYLES.CLEAR_ANIMATION),s.classList.remove(u[u.length-1]),s.classList.remove(f.CAROUSEL_STYLES.CLEAR_ANIMATION),c.unregisterAnimationListener(s,n[n.length-1]),a=null,c.animationCancelManager.unsubscribe(l.alias,t),c.animationStateChangeManager.unsubscribe(l.alias,i),o()}),c.registerAnimationListener(s,n[0]),s.classList.add(u[0]),a=0}()}catch(e){t(e)}})}},{key:"registerAnimationListener",value:function(e,t){e.addEventListener("animationend",t),e.addEventListener("webkitAnimationEnd",t)}},{key:"unregisterAnimationListener",value:function(e,t){e.removeEventListener("animationend",t),e.removeEventListener("webkitAnimationEnd",t)}}]),r}(h.TaskEngine);n.SingleAnimationEngine=v},{"../carousel/carousel-base":4,"../task/operation/operation-manager":14,"../task/task-engine":15,"./animation-operation-events":2,"./animation-play-state":3,"@babel/runtime/helpers/classCallCheck":19,"@babel/runtime/helpers/createClass":20,"@babel/runtime/helpers/get":21,"@babel/runtime/helpers/getPrototypeOf":22,"@babel/runtime/helpers/inherits":23,"@babel/runtime/helpers/interopRequireDefault":24,"@babel/runtime/helpers/possibleConstructorReturn":25}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ANIMATION_OPERATION_EVENTS=void 0;n.ANIMATION_OPERATION_EVENTS={ANIMATION_CANCEL:"anim.cancel",ANIMATION_STATE_CHANGE:"anim.state.change"}},{}],3:[function(e,t,n){"use strict";var r,i;Object.defineProperty(n,"__esModule",{value:!0}),n.AnimationPlayStateValue=void 0,n.AnimationPlayStateValue=r,(i=r||(n.AnimationPlayStateValue=r={}))[i.paused=0]="paused",i[i.running=1]="running"},{}],4:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.CarouselBase=n.CAROUSEL_STYLES=void 0;var i=r(e("@babel/runtime/helpers/classCallCheck"));n.CAROUSEL_STYLES={ANIMATION_PAUSED:"sora-animation-paused",CAROUSEL:"sora-carousel",CLEAR_ANIMATION:"sora-clear-animations",SLIDE:"sora-slide",WRAPPER:"sora-wrapper"};n.CarouselBase=function e(){(0,i.default)(this,e)}},{"@babel/runtime/helpers/classCallCheck":19,"@babel/runtime/helpers/interopRequireDefault":24}],5:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.SingleSlideCarousel=n.SINGLE_SLIDE_CAROUSEL_STYLES=n.SINGLE_SLIDE_CAROUSEL_PARTS_ALIASES=n.SINGLE_SLIDE_CAROUSEL_EVENTS=n.SINGLE_SLIDE_CAROUSEL_ACTIONS=void 0;var l=r(e("@babel/runtime/helpers/classCallCheck")),i=r(e("@babel/runtime/helpers/createClass")),u=r(e("@babel/runtime/helpers/possibleConstructorReturn")),c=r(e("@babel/runtime/helpers/getPrototypeOf")),o=r(e("@babel/runtime/helpers/inherits")),f=r(e("@babel/runtime/helpers/assertThisInitialized")),h=e("events"),p=e("../../animation/animation-engine"),_=e("../../animation/animation-play-state"),v=e("../../collection/collection-manager"),d=e("../../collection/html-children-manager"),m=e("../carousel-base"),a={GO_TO:"to",GO_TO_NEXT:"next",GO_TO_PREVIOUS:"prev"};n.SINGLE_SLIDE_CAROUSEL_ACTIONS=a;var b={ON_ANIMATION_END:"car.anim.out",ON_ANIMATION_PLAY_STATE_CHANGE:"car.anim.state.ch",ON_ANIMATION_START:"car.anim.in",ON_CANCEL_ANIMATION:"car.anim.cancel"};n.SINGLE_SLIDE_CAROUSEL_EVENTS=b;var g={ENTER:"enter-part",LEAVE:"leave-part"};n.SINGLE_SLIDE_CAROUSEL_PARTS_ALIASES=g;var y={SLIDE_HIDDEN:"sora-hidden",SORA_RELATIVE:"sora-relative"};n.SINGLE_SLIDE_CAROUSEL_STYLES=y;var s=function(e){function s(e,t){var n;if((0,l.default)(this,s),n=(0,u.default)(this,(0,c.default)(s).call(this)),null==e)throw new Error("The element must not be null.");if(!e.classList.contains(m.CAROUSEL_STYLES.CAROUSEL))throw new Error('The carousel element must contain the class "'+m.CAROUSEL_STYLES.CAROUSEL+'".');var r=e.querySelector("."+m.CAROUSEL_STYLES.WRAPPER);if(null==r)throw new Error("The element has no child with class 'sora-wrapper'.");for(var i=new Array,o=0;o<r.children.length;++o)r.children[o].classList.contains(m.CAROUSEL_STYLES.SLIDE)&&i.push(r.children[o]);if(n.activeIndex=t.index||0,n.currentAnimation=null,n.eventEmitter=new h.EventEmitter,n.elementsManager=new d.HtmlChildrenManager(i,n.eventEmitter,r),n.activeIndex<0||n.activeIndex>=n.elementsManager.getLength())throw new Error("Invalid options.index. There is no element with index "+t.index+".");for(o=0;o<i.length;++o)o===n.activeIndex?i[o].classList.add(y.SORA_RELATIVE):i[o].classList.add(y.SLIDE_HIDDEN);var a=(0,f.default)((0,f.default)(n));return n.addListener(v.COLLECTION_MANAGER_EVENTS.collectionBeforeChange,function(e){null==e.getIndexMap()[a.activeIndex]&&e.setPreventDefault()}),n.addListener(v.COLLECTION_MANAGER_EVENTS.collectionAfterChange,function(e){if(!e.getPreventDefault()){var t=e.getIndexMap();a.activeIndex=t[a.activeIndex]}}),n.engineAnimation=new p.SingleAnimationEngine,n}return(0,o.default)(s,e),(0,i.default)(s,[{key:"addListener",value:function(e,t){this.eventEmitter.addListener(e,t)}},{key:"createWaitPromise",value:function(l){var u=this;return new Promise(function(n,e){var r,i=l.millis;if(u.paused)r=null;else{var o=setInterval(function(){s(),n()},i);r=(new Date).getTime()}var a=null;l.stopOnCancelAnimation&&(a=function(){s(),n()},u.addListener(b.ON_CANCEL_ANIMATION,a));var t=function e(t){_.AnimationPlayStateValue.paused===t.value?(i-=(new Date).getTime()-r,clearInterval(o)):_.AnimationPlayStateValue.running===t.value&&(r=(new Date).getTime(),0<i?o=setInterval(function(){u.removeListener(b.ON_ANIMATION_PLAY_STATE_CHANGE,e),null!=a&&u.removeListener(b.ON_CANCEL_ANIMATION,a),n()},i):(s(),n()))},s=function(){u.removeListener(b.ON_ANIMATION_PLAY_STATE_CHANGE,t),null!=a&&u.removeListener(b.ON_CANCEL_ANIMATION,a)};u.addListener(b.ON_ANIMATION_PLAY_STATE_CHANGE,t)})}},{key:"forceActiveSlide",value:function(e){var t={activeIndex:e};this.engineAnimation.cancelAnimation(null),this.paused=!1,this.activeIndex=e,this.resetCarouselStructure(e),this.eventEmitter.emit(b.ON_CANCEL_ANIMATION,t)}},{key:"getActiveElement",value:function(){return this.elementsManager.getCollection()[this.activeIndex]}},{key:"getActiveIndex",value:function(){return this.activeIndex}},{key:"getElementsManager",value:function(){return this.elementsManager}},{key:"hasActiveAnimation",value:function(){return null!=this.currentAnimation}},{key:"handle",value:function(e,t){switch(e){case a.GO_TO:if(null==t||"number"!=typeof t.index)throw new Error("Invalid options for '"+a.GO_TO+"'.");return this.handleGoTo(t);case a.GO_TO_NEXT:return t.index=(this.activeIndex+1)%this.elementsManager.getLength(),this.handle(a.GO_TO,t);case a.GO_TO_PREVIOUS:var n=this.elementsManager.getLength();return t.index=((this.activeIndex-1)%n+n)%n,this.handle(a.GO_TO,t)}}},{key:"isPaused",value:function(){return this.paused}},{key:"pause",value:function(){this.paused||(this.engineAnimation.pause(null),this.paused=!0,this.eventEmitter.emit(b.ON_ANIMATION_PLAY_STATE_CHANGE,{value:_.AnimationPlayStateValue.paused}))}},{key:"removeListener",value:function(e,t){this.eventEmitter.removeListener(e,t)}},{key:"resume",value:function(){this.paused&&(this.engineAnimation.resume(null),this.paused=!1,this.eventEmitter.emit(b.ON_ANIMATION_PLAY_STATE_CHANGE,{value:_.AnimationPlayStateValue.running}))}},{key:"generateGoToAnimationFlow",value:function(e,t,n){var r=[{alias:g.ENTER,elements:[e],styles:n.enterAnimation.slideStyles,when:null},{alias:g.LEAVE,elements:[t],styles:n.leaveAnimation.slideStyles,when:null}],i=function(u,c,e){if(c)for(var f=0;f<c.length;++f)r.push({alias:e+f.toString(),elements:function(){var e=new Array,t=c[f],n=u.querySelectorAll(t.selector),r=!0,i=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;e.push(l)}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return e}(),styles:c[f].styles,when:null})};i(e,n.enterAnimation.childrenStyles,g.ENTER),i(t,n.leaveAnimation.childrenStyles,g.LEAVE);for(var o={},a=0;a<r.length;a++){var s=r[a];o[s.alias]=s}return{parts:r}}},{key:"resetCarouselStructure",value:function(e){for(var t=this.elementsManager.getCollection(),n=0;n<t.length;++n){for(;0<t[n].classList.length;)t[n].classList.remove(t[n].classList.item(0));t[n].classList.add(m.CAROUSEL_STYLES.SLIDE),n===e?t[n].classList.add(y.SORA_RELATIVE):t[n].classList.add(y.SLIDE_HIDDEN)}}},{key:"handleGoTo",value:function(e){if(e.index<0||e.index>=this.elementsManager.getLength())throw new Error("Invalid index. There is no element with index "+e.index+".");if(e.index===this.activeIndex)throw new Error("Invalid index. It's not allowed to go to the current active slide");if(null!=this.currentAnimation)throw new Error("It's not allowed to start an animation while an existing animation over an slide element is active");this.currentAnimation=e;var r=this.elementsManager.getCollection()[this.activeIndex],n=e.index;this.eventEmitter.emit(b.ON_ANIMATION_START,{options:e});var i=this,o=function(e){null==e.getIndexMap()[n]&&e.setPreventDefault()},a=function(e){if(!e.getPreventDefault()){var t=e.getIndexMap();n=t[n]}};this.addListener(v.COLLECTION_MANAGER_EVENTS.collectionBeforeChange,o),this.addListener(v.COLLECTION_MANAGER_EVENTS.collectionAfterChange,a);var s=this.elementsManager.getCollection()[n];s.classList.remove(y.SLIDE_HIDDEN);var l=!1,u=function(){l=!0,i.currentAnimation=null},t=this.generateGoToAnimationFlow(s,r,e),c=this.engineAnimation.handle(t),f=new Promise(function(t,n){c[1].then(function(e){l||(r.classList.add(y.SLIDE_HIDDEN),r.classList.remove(y.SORA_RELATIVE),s.classList.add(y.SORA_RELATIVE)),t()}).catch(function(e){n(e)})});this.addListener(b.ON_CANCEL_ANIMATION,u);var h=new Promise(function(e,t){Promise.all([c[0],f]).then(function(){l||(i.activeIndex=n,i.currentAnimation=null),i.removeListener(v.COLLECTION_MANAGER_EVENTS.collectionBeforeChange,o),i.removeListener(v.COLLECTION_MANAGER_EVENTS.collectionAfterChange,a),i.removeListener(b.ON_CANCEL_ANIMATION,u),i.eventEmitter.emit(b.ON_ANIMATION_END,{}),e()}).catch(function(e){t(e)})});return{animationPromises:c,partEndEventAccess:i.engineAnimation.getPartEndListenerAccess(),partStartEventAccess:i.engineAnimation.getPartStartListenerAccess(),soraHandlerStatus:h}}}]),s}(m.CarouselBase);n.SingleSlideCarousel=s},{"../../animation/animation-engine":1,"../../animation/animation-play-state":3,"../../collection/collection-manager":8,"../../collection/html-children-manager":9,"../carousel-base":4,"@babel/runtime/helpers/assertThisInitialized":18,"@babel/runtime/helpers/classCallCheck":19,"@babel/runtime/helpers/createClass":20,"@babel/runtime/helpers/getPrototypeOf":22,"@babel/runtime/helpers/inherits":23,"@babel/runtime/helpers/interopRequireDefault":24,"@babel/runtime/helpers/possibleConstructorReturn":25,events:99}],6:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.CancelableCollectionChangeEventArgs=void 0;var i=r(e("@babel/runtime/helpers/classCallCheck")),o=r(e("@babel/runtime/helpers/createClass")),a=r(e("@babel/runtime/helpers/possibleConstructorReturn")),s=r(e("@babel/runtime/helpers/getPrototypeOf")),l=r(e("@babel/runtime/helpers/inherits")),u=function(e){function n(e,t){return(0,i.default)(this,n),(0,a.default)(this,(0,s.default)(n).call(this,e,t,!1))}return(0,l.default)(n,e),(0,o.default)(n,[{key:"setPreventDefault",value:function(){this.preventDefault=!0}}]),n}(e("./collection-change-args").CollectionChangeEventArgs);n.CancelableCollectionChangeEventArgs=u},{"./collection-change-args":7,"@babel/runtime/helpers/classCallCheck":19,"@babel/runtime/helpers/createClass":20,"@babel/runtime/helpers/getPrototypeOf":22,"@babel/runtime/helpers/inherits":23,"@babel/runtime/helpers/interopRequireDefault":24,"@babel/runtime/helpers/possibleConstructorReturn":25}],7:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.CollectionChangeEventArgs=void 0;var i=r(e("@babel/runtime/helpers/classCallCheck")),o=r(e("@babel/runtime/helpers/createClass")),a=function(){function r(e,t,n){(0,i.default)(this,r),this.indexMap=e,this.newElements=t,this.preventDefault=n}return(0,o.default)(r,[{key:"getIndexMap",value:function(){return Object.assign({},this.indexMap)}},{key:"getNewElements",value:function(){return Object.assign({},this.newElements)}},{key:"getPreventDefault",value:function(){return this.preventDefault}}]),r}();n.CollectionChangeEventArgs=a},{"@babel/runtime/helpers/classCallCheck":19,"@babel/runtime/helpers/createClass":20,"@babel/runtime/helpers/interopRequireDefault":24}],8:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.CollectionManager=n.COLLECTION_MANAGER_EVENTS=void 0;var i=r(e("@babel/runtime/helpers/classCallCheck")),o=r(e("@babel/runtime/helpers/createClass")),a=e("./cancelable-collection-change-args"),s=e("./collection-change-args"),l={collectionAfterChange:"coll.ch.a",collectionBeforeChange:"coll.ch.b"};n.COLLECTION_MANAGER_EVENTS=l;var u=function(){function n(e,t){(0,i.default)(this,n),this.collection=e,this.eventEmitter=t}return(0,o.default)(n,[{key:"getCollection",value:function(){return this.collection}},{key:"getLength",value:function(){return this.collection.length}},{key:"insertElements",value:function(e){this.internalInsertElements(e)}},{key:"removeElements",value:function(e){this.internalRemoveElements(e)}},{key:"internalInsertElements",value:function(e){var t=new Array;for(var n in e)if(e.hasOwnProperty(n)){var r=Number(n);if(r<0)throw new Error("The index param should be greater or equals zero.");if(r>this.collection.length)throw new Error("The index param should be less or equals the number of elements of the collection.");t.push(r)}if(0!==(t=t.sort(function(e,t){return e-t})).length){var i=new Array(this.collection.length+t.length),o={};if(1===t.length){for(var a=t[0],s=e[a],l=0;l<a;++l)i[l]=this.collection[l],o[l]=l;i[a]=s;for(l=a+1;l<i.length;++l)i[l]=this.collection[l-1],o[l-1]=l}else{for(l=0;l<t[0];++l)i[l]=this.collection[l],o[l]=l;i[t[0]]=e[t[0]];for(l=1;l<t.length;++l){for(var u=t[l-1],c=t[l],f=u+1;f<c;++f)i[f]=this.collection[f-l],o[f-l]=f;i[c]=e[c]}for(l=t[t.length-1]+1;l<i.length;++l)i[l]=this.collection[l-t.length],o[l-t.length]=l}this.internalTryToChangeCollection(o,i)}}},{key:"internalRemoveElements",value:function(e){e=e.sort(function(e,t){return e-t});for(var t={},n=new Array,r=0,i=0;i<this.collection.length;++i)i===e[r]?++r:(n[i-r]=this.collection[i],t[i]=i-r);this.internalTryToChangeCollection(t,n)}},{key:"internalTryToChangeCollection",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0,n=new a.CancelableCollectionChangeEventArgs(e,t);this.eventEmitter.emit(l.collectionBeforeChange,n),n.getPreventDefault()||(this.collection=t);var r=new s.CollectionChangeEventArgs(e,t,n.getPreventDefault());return this.eventEmitter.emit(l.collectionAfterChange,r),r}}]),n}();n.CollectionManager=u},{"./cancelable-collection-change-args":6,"./collection-change-args":7,"@babel/runtime/helpers/classCallCheck":19,"@babel/runtime/helpers/createClass":20,"@babel/runtime/helpers/interopRequireDefault":24}],9:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.HtmlChildrenManager=void 0;var i=r(e("@babel/runtime/helpers/classCallCheck")),o=r(e("@babel/runtime/helpers/createClass")),a=r(e("@babel/runtime/helpers/possibleConstructorReturn")),h=r(e("@babel/runtime/helpers/getPrototypeOf")),p=r(e("@babel/runtime/helpers/get")),s=r(e("@babel/runtime/helpers/inherits")),l=function(e){function f(e,t,n){var r;return(0,i.default)(this,f),(r=(0,a.default)(this,(0,h.default)(f).call(this,e,t))).parentElement=n,r}return(0,s.default)(f,e),(0,o.default)(f,[{key:"internalTryToChangeCollection",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0,n=(0,p.default)((0,h.default)(f.prototype),"internalTryToChangeCollection",this).call(this,e,t);if(!n.getPreventDefault()){var r=0,i=0,o=0,a=0;for(var s in e)if(e.hasOwnProperty(s)){for(var l=Number(s),u=o;u<l;++u)this.parentElement.removeChild(this.parentElement.children[u+i-r]),++r;var c=e[s];for(u=a;u<c;++u)this.parentElement.insertBefore(t[u],this.parentElement.children[u]),++i;o=l+1,a=c+1}for(u=a;u<t.length;++u)this.parentElement.appendChild(t[u])}return n}}]),f}(e("./collection-manager").CollectionManager);n.HtmlChildrenManager=l},{"./collection-manager":8,"@babel/runtime/helpers/classCallCheck":19,"@babel/runtime/helpers/createClass":20,"@babel/runtime/helpers/get":21,"@babel/runtime/helpers/getPrototypeOf":22,"@babel/runtime/helpers/inherits":23,"@babel/runtime/helpers/interopRequireDefault":24,"@babel/runtime/helpers/possibleConstructorReturn":25}],10:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.TokenMap=void 0;var i=r(e("@babel/runtime/helpers/classCallCheck")),o=r(e("@babel/runtime/helpers/createClass")),a=function(){function e(){(0,i.default)(this,e),this.innerMap=new Map,this.unusedIndexes=new Array}return(0,o.default)(e,[{key:"add",value:function(e){if(0===this.unusedIndexes.length){var t=this.innerMap.size;return this.innerMap.set(t,e),t}var n=this.unusedIndexes[this.unusedIndexes.length-1];return--this.unusedIndexes.length,this.innerMap.set(n,e),n}},{key:"count",value:function(){return this.innerMap.size}},{key:"foreach",value:function(n){this.innerMap.forEach(function(e,t){n(e,t)})}},{key:"get",value:function(e){return this.innerMap.get(e)}},{key:"remove",value:function(e){return!!this.innerMap.has(e)&&(this.innerMap.delete(e),this.unusedIndexes[this.unusedIndexes.length]=e,!0)}}]),e}();n.TokenMap=a},{"@babel/runtime/helpers/classCallCheck":19,"@babel/runtime/helpers/createClass":20,"@babel/runtime/helpers/interopRequireDefault":24}],11:[function(e,t,n){"use strict";var r=e("./carousel/single-slide/single-slide-carousel");e("core-js/fn/promise");var i={SingleSlideCarousel:r.SingleSlideCarousel,actions:{SINGLE_SLIDE_CAROUSEL_ACTIONS:r.SINGLE_SLIDE_CAROUSEL_ACTIONS},events:{SINGLE_SLIDE_CAROUSEL_EVENTS:r.SINGLE_SLIDE_CAROUSEL_EVENTS},styles:{SINGLE_SLIDE_CAROUSEL_STYLES:r.SINGLE_SLIDE_CAROUSEL_STYLES}};t.exports=i},{"./carousel/single-slide/single-slide-carousel":5,"core-js/fn/promise":29}],12:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.TaskPartWhenConstraint=void 0;var i=r(e("@babel/runtime/helpers/classCallCheck"));n.TaskPartWhenConstraint=function e(t,n){(0,i.default)(this,e),this.after=t,this.constraintType=n}},{"@babel/runtime/helpers/classCallCheck":19,"@babel/runtime/helpers/interopRequireDefault":24}],13:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.TaskPartConstraint=n.TASK_CONSTRAINT_TYPES=void 0;var o=r(e("@babel/runtime/helpers/classCallCheck")),a=r(e("@babel/runtime/helpers/possibleConstructorReturn")),s=r(e("@babel/runtime/helpers/getPrototypeOf")),l=r(e("@babel/runtime/helpers/inherits")),i=e("./task-flow-when");n.TASK_CONSTRAINT_TYPES={END:"anim.end",GROUP:"group",START:"anim.start",WAIT_FOR:"wait"};var u=function(e){function i(e,t,n){var r;return(0,o.default)(this,i),(r=(0,a.default)(this,(0,s.default)(i).call(this,e,n))).alias=t,r}return(0,l.default)(i,e),i}(i.TaskPartWhenConstraint);n.TaskPartConstraint=u},{"./task-flow-when":12,"@babel/runtime/helpers/classCallCheck":19,"@babel/runtime/helpers/getPrototypeOf":22,"@babel/runtime/helpers/inherits":23,"@babel/runtime/helpers/interopRequireDefault":24,"@babel/runtime/helpers/possibleConstructorReturn":25}],14:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.OperationManager=void 0;var i=r(e("@babel/runtime/helpers/classCallCheck")),o=r(e("@babel/runtime/helpers/createClass")),a=e("../../collection/token-map"),s=function(){function n(e,t){(0,i.default)(this,n);var c=this;this.callFunction=function(t){if(null==t.aliases){for(var e in c.subscriptionStorage)if(c.subscriptionStorage.hasOwnProperty(e)){var n=c.subscriptionStorage[e];null!=n&&n.foreach(function(e){e(t)})}}else{var r=!0,i=!1,o=void 0;try{for(var a,s=t.aliases[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value,u=c.subscriptionStorage[l];null!=u&&u.foreach(function(e){e(t)})}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}}},this.eventAlias=e,this.eventEmitter=t,this.subscriptionStorage={},this.eventEmitter.addListener(this.eventAlias,this.callFunction)}return(0,o.default)(n,[{key:"dispose",value:function(){this.eventEmitter.removeListener(this.eventAlias,this.callFunction)}},{key:"subscribe",value:function(e,t){return null==this.subscriptionStorage[e]&&(this.subscriptionStorage[e]=new a.TokenMap),this.subscriptionStorage[e].add(t)}},{key:"unsubscribe",value:function(e,t){return null!=this.subscriptionStorage[e]&&this.subscriptionStorage[e].remove(t)}}]),n}();n.OperationManager=s},{"../../collection/token-map":10,"@babel/runtime/helpers/classCallCheck":19,"@babel/runtime/helpers/createClass":20,"@babel/runtime/helpers/interopRequireDefault":24}],15:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.TaskEngine=void 0;var i=r(e("@babel/runtime/helpers/classCallCheck")),o=r(e("@babel/runtime/helpers/createClass")),a=e("events"),s=e("./flow/task-part-constraint"),l=e("./operation/operation-manager"),u=e("./task-part-when-events"),c=e("./task-part-when-operator"),f=function(){function e(){(0,i.default)(this,e),this.eventEmitter=new a.EventEmitter,this.partEndManager=new l.OperationManager(u.TASK_PART_WHEN_EVENTS.END,this.eventEmitter),this.partStartManager=new l.OperationManager(u.TASK_PART_WHEN_EVENTS.START,this.eventEmitter)}return(0,o.default)(e,[{key:"getPartEndListenerAccess",value:function(){var n=this;return{subscribe:function(e,t){return n.partEndManager.subscribe(e,t)},unsubscribe:function(e,t){return n.partEndManager.unsubscribe(e,t)}}}},{key:"getPartStartListenerAccess",value:function(){var n=this;return{subscribe:function(e,t){return n.partStartManager.subscribe(e,t)},unsubscribe:function(e,t){return n.partStartManager.unsubscribe(e,t)}}}},{key:"handle",value:function(e){if(null==e)throw new Error("It's required a task flow.");if(null==e.parts)throw new Error("It's required a task flow with parts.");this.currentTask=e;for(var t=new Array(e.parts.length),n=0;n<e.parts.length;++n)t[n]=this.handleTaskPart(e.parts[n]);return t}},{key:"handleTaskPart",value:function(n){var r=this;return new Promise(function(e,t){r.handleTaskPartWhen(n.when).then(function(){r.eventEmitter.emit(u.TASK_PART_WHEN_EVENTS.START,{aliases:[n.alias],part:n}),r.performTask(n).then(function(){r.eventEmitter.emit(u.TASK_PART_WHEN_EVENTS.END,{aliases:[n.alias],part:n}),e()})}).catch(function(e){t(e)})})}},{key:"handleTaskPartWhen",value:function(n){var r=this;return new Promise(function(e,t){if(null==n)e();else switch(n.constraintType){case s.TASK_CONSTRAINT_TYPES.START:r.handleTaskPartWhenPartBegins(n).then(e);break;case s.TASK_CONSTRAINT_TYPES.END:r.handleTaskPartWhenPartEnds(n).then(e);break;case s.TASK_CONSTRAINT_TYPES.GROUP:r.handleTaskPartWhenPartGroup(n).then(e);break;case s.TASK_CONSTRAINT_TYPES.WAIT_FOR:r.handleTaskPartWhenWaitFor(n).then(e);break;default:throw new Error("Unexpected when entity type.")}})}},{key:"handleTaskPartWhenPartBegins",value:function(r){var i=this;return new Promise(function(e,t){var n=i.partStartManager.subscribe(r.alias,function(){i.partStartManager.unsubscribe(r.alias,n),null==r.after?e():i.handleTaskPartWhen(r.after).then(e)})})}},{key:"handleTaskPartWhenPartEnds",value:function(r){var i=this;return new Promise(function(e,t){var n=i.partEndManager.subscribe(r.alias,function(){i.partEndManager.unsubscribe(r.alias,n),null==r.after?e():i.handleTaskPartWhen(r.after).then(e)})})}},{key:"handleTaskPartWhenPartGroup",value:function(i){var o=this;return new Promise(function(e,t){for(var n=new Array(i.constraints.length),r=0;r<i.constraints.length;++r)n[r]=new Promise(function(e,t){o.handleTaskPartWhen(i.constraints[r]).then(e)});c.TaskPartWhenOperator.AND===i.operator?Promise.all(n).then(function(){e()}):c.TaskPartWhenOperator.OR===i.operator?Promise.race(n).then(function(){e()}):t("Unexpected operator.")})}},{key:"handleTaskPartWhenWaitFor",value:function(n){var r=this;return new Promise(function(e,t){setTimeout(function(){null==n.after?e():r.handleTaskPartWhen(n.after).then(e)},n.millis)})}}]),e}();n.TaskEngine=f},{"./flow/task-part-constraint":13,"./operation/operation-manager":14,"./task-part-when-events":16,"./task-part-when-operator":17,"@babel/runtime/helpers/classCallCheck":19,"@babel/runtime/helpers/createClass":20,"@babel/runtime/helpers/interopRequireDefault":24,events:99}],16:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.TASK_PART_WHEN_EVENTS=void 0;n.TASK_PART_WHEN_EVENTS={END:"part.end",START:"part.start"}},{}],17:[function(e,t,n){"use strict";var r,i;Object.defineProperty(n,"__esModule",{value:!0}),n.TaskPartWhenOperator=void 0,n.TaskPartWhenOperator=r,(i=r||(n.TaskPartWhenOperator=r={}))[i.AND=0]="AND",i[i.OR=1]="OR"},{}],18:[function(e,t,n){t.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},{}],19:[function(e,t,n){t.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},{}],20:[function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}t.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}},{}],21:[function(e,r,t){e("./getPrototypeOf");var o=e("./superPropBase");function i(e,t,n){return"undefined"!=typeof Reflect&&Reflect.get?r.exports=i=Reflect.get:r.exports=i=function(e,t,n){var r=o(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},i(e,t,n||e)}r.exports=i},{"./getPrototypeOf":22,"./superPropBase":27}],22:[function(e,t,n){function r(e){return t.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}t.exports=r},{}],23:[function(e,t,n){var r=e("./setPrototypeOf");t.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},{"./setPrototypeOf":26}],24:[function(e,t,n){t.exports=function(e){return e&&e.__esModule?e:{default:e}}},{}],25:[function(e,t,n){var r=e("../helpers/typeof"),i=e("./assertThisInitialized");t.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?i(e):t}},{"../helpers/typeof":28,"./assertThisInitialized":18}],26:[function(e,n,t){function r(e,t){return n.exports=r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}n.exports=r},{}],27:[function(e,t,n){var r=e("./getPrototypeOf");t.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e}},{"./getPrototypeOf":22}],28:[function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return"function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?t.exports=i=function(e){return r(e)}:t.exports=i=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)},i(e)}t.exports=i},{}],29:[function(e,t,n){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.promise"),e("../modules/es7.promise.finally"),e("../modules/es7.promise.try"),t.exports=e("../modules/_core").Promise},{"../modules/_core":37,"../modules/es6.object.to-string":93,"../modules/es6.promise":94,"../modules/es6.string.iterator":95,"../modules/es7.promise.finally":96,"../modules/es7.promise.try":97,"../modules/web.dom.iterable":98}],30:[function(e,t,n){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],31:[function(e,t,n){var r=e("./_wks")("unscopables"),i=Array.prototype;null==i[r]&&e("./_hide")(i,r,{}),t.exports=function(e){i[r][e]=!0}},{"./_hide":48,"./_wks":90}],32:[function(e,t,n){t.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},{}],33:[function(e,t,n){var r=e("./_is-object");t.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":54}],34:[function(e,t,n){var l=e("./_to-iobject"),u=e("./_to-length"),c=e("./_to-absolute-index");t.exports=function(s){return function(e,t,n){var r,i=l(e),o=u(i.length),a=c(n,o);if(s&&t!=t){for(;a<o;)if((r=i[a++])!=r)return!0}else for(;a<o;a++)if((s||a in i)&&i[a]===t)return s||a||0;return!s&&-1}}},{"./_to-absolute-index":82,"./_to-iobject":84,"./_to-length":85}],35:[function(e,t,n){var i=e("./_cof"),o=e("./_wks")("toStringTag"),a="Arguments"==i(function(){return arguments}());t.exports=function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:a?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},{"./_cof":36,"./_wks":90}],36:[function(e,t,n){var r={}.toString;t.exports=function(e){return r.call(e).slice(8,-1)}},{}],37:[function(e,t,n){var r=t.exports={version:"2.6.0"};"number"==typeof __e&&(__e=r)},{}],38:[function(e,t,n){var o=e("./_a-function");t.exports=function(r,i,e){if(o(r),void 0===i)return r;switch(e){case 1:return function(e){return r.call(i,e)};case 2:return function(e,t){return r.call(i,e,t)};case 3:return function(e,t,n){return r.call(i,e,t,n)}}return function(){return r.apply(i,arguments)}}},{"./_a-function":30}],39:[function(e,t,n){t.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},{}],40:[function(e,t,n){t.exports=!e("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":44}],41:[function(e,t,n){var r=e("./_is-object"),i=e("./_global").document,o=r(i)&&r(i.createElement);t.exports=function(e){return o?i.createElement(e):{}}},{"./_global":46,"./_is-object":54}],42:[function(e,t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],43:[function(e,t,n){var v=e("./_global"),d=e("./_core"),m=e("./_hide"),b=e("./_redefine"),g=e("./_ctx"),y="prototype",E=function(e,t,n){var r,i,o,a,s=e&E.F,l=e&E.G,u=e&E.S,c=e&E.P,f=e&E.B,h=l?v:u?v[t]||(v[t]={}):(v[t]||{})[y],p=l?d:d[t]||(d[t]={}),_=p[y]||(p[y]={});for(r in l&&(n=t),n)o=((i=!s&&h&&void 0!==h[r])?h:n)[r],a=f&&i?g(o,v):c&&"function"==typeof o?g(Function.call,o):o,h&&b(h,r,o,e&E.U),p[r]!=o&&m(p,r,a),c&&_[r]!=o&&(_[r]=o)};v.core=d,E.F=1,E.G=2,E.S=4,E.P=8,E.B=16,E.W=32,E.U=64,E.R=128,t.exports=E},{"./_core":37,"./_ctx":38,"./_global":46,"./_hide":48,"./_redefine":74}],44:[function(e,t,n){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],45:[function(e,t,n){var h=e("./_ctx"),p=e("./_iter-call"),_=e("./_is-array-iter"),v=e("./_an-object"),d=e("./_to-length"),m=e("./core.get-iterator-method"),b={},g={};(n=t.exports=function(e,t,n,r,i){var o,a,s,l,u=i?function(){return e}:m(e),c=h(n,r,t?2:1),f=0;if("function"!=typeof u)throw TypeError(e+" is not iterable!");if(_(u)){for(o=d(e.length);f<o;f++)if((l=t?c(v(a=e[f])[0],a[1]):c(e[f]))===b||l===g)return l}else for(s=u.call(e);!(a=s.next()).done;)if((l=p(s,c,a.value,t))===b||l===g)return l}).BREAK=b,n.RETURN=g},{"./_an-object":33,"./_ctx":38,"./_is-array-iter":53,"./_iter-call":55,"./_to-length":85,"./core.get-iterator-method":91}],46:[function(e,t,n){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},{}],47:[function(e,t,n){var r={}.hasOwnProperty;t.exports=function(e,t){return r.call(e,t)}},{}],48:[function(e,t,n){var r=e("./_object-dp"),i=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},{"./_descriptors":40,"./_object-dp":65,"./_property-desc":72}],49:[function(e,t,n){var r=e("./_global").document;t.exports=r&&r.documentElement},{"./_global":46}],50:[function(e,t,n){t.exports=!e("./_descriptors")&&!e("./_fails")(function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":40,"./_dom-create":41,"./_fails":44}],51:[function(e,t,n){t.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},{}],52:[function(e,t,n){var r=e("./_cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},{"./_cof":36}],53:[function(e,t,n){var r=e("./_iterators"),i=e("./_wks")("iterator"),o=Array.prototype;t.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},{"./_iterators":60,"./_wks":90}],54:[function(e,t,n){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],55:[function(e,t,n){var o=e("./_an-object");t.exports=function(t,e,n,r){try{return r?e(o(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&o(i.call(t)),e}}},{"./_an-object":33}],56:[function(e,t,n){"use strict";var r=e("./_object-create"),i=e("./_property-desc"),o=e("./_set-to-string-tag"),a={};e("./_hide")(a,e("./_wks")("iterator"),function(){return this}),t.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},{"./_hide":48,"./_object-create":64,"./_property-desc":72,"./_set-to-string-tag":76,"./_wks":90}],57:[function(e,t,n){"use strict";var g=e("./_library"),y=e("./_export"),E=e("./_redefine"),A=e("./_hide"),S=e("./_iterators"),T=e("./_iter-create"),O=e("./_set-to-string-tag"),C=e("./_object-gpo"),L=e("./_wks")("iterator"),N=!([].keys&&"next"in[].keys()),w="values",k=function(){return this};t.exports=function(e,t,n,r,i,o,a){T(n,t,r);var s,l,u,c=function(e){if(!N&&e in _)return _[e];switch(e){case"keys":case w:return function(){return new n(this,e)}}return function(){return new n(this,e)}},f=t+" Iterator",h=i==w,p=!1,_=e.prototype,v=_[L]||_["@@iterator"]||i&&_[i],d=v||c(i),m=i?h?c("entries"):d:void 0,b="Array"==t&&_.entries||v;if(b&&(u=C(b.call(new e)))!==Object.prototype&&u.next&&(O(u,f,!0),g||"function"==typeof u[L]||A(u,L,k)),h&&v&&v.name!==w&&(p=!0,d=function(){return v.call(this)}),g&&!a||!N&&!p&&_[L]||A(_,L,d),S[t]=d,S[f]=k,i)if(s={values:h?d:c(w),keys:o?d:c("keys"),entries:m},a)for(l in s)l in _||E(_,l,s[l]);else y(y.P+y.F*(N||p),t,s);return s}},{"./_export":43,"./_hide":48,"./_iter-create":56,"./_iterators":60,"./_library":61,"./_object-gpo":67,"./_redefine":74,"./_set-to-string-tag":76,"./_wks":90}],58:[function(e,t,n){var o=e("./_wks")("iterator"),a=!1;try{var r=[7][o]();r.return=function(){a=!0},Array.from(r,function(){throw 2})}catch(e){}t.exports=function(e,t){if(!t&&!a)return!1;var n=!1;try{var r=[7],i=r[o]();i.next=function(){return{done:n=!0}},r[o]=function(){return i},e(r)}catch(e){}return n}},{"./_wks":90}],59:[function(e,t,n){t.exports=function(e,t){return{value:t,done:!!e}}},{}],60:[function(e,t,n){t.exports={}},{}],61:[function(e,t,n){t.exports=!1},{}],62:[function(e,t,n){var s=e("./_global"),l=e("./_task").set,u=s.MutationObserver||s.WebKitMutationObserver,c=s.process,f=s.Promise,h="process"==e("./_cof")(c);t.exports=function(){var n,r,i,e=function(){var e,t;for(h&&(e=c.domain)&&e.exit();n;){t=n.fn,n=n.next;try{t()}catch(e){throw n?i():r=void 0,e}}r=void 0,e&&e.enter()};if(h)i=function(){c.nextTick(e)};else if(!u||s.navigator&&s.navigator.standalone)if(f&&f.resolve){var t=f.resolve(void 0);i=function(){t.then(e)}}else i=function(){l.call(s,e)};else{var o=!0,a=document.createTextNode("");new u(e).observe(a,{characterData:!0}),i=function(){a.data=o=!o}}return function(e){var t={fn:e,next:void 0};r&&(r.next=t),n||(n=t,i()),r=t}}},{"./_cof":36,"./_global":46,"./_task":81}],63:[function(e,t,n){"use strict";var i=e("./_a-function");function r(e){var n,r;this.promise=new e(function(e,t){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=e,r=t}),this.resolve=i(n),this.reject=i(r)}t.exports.f=function(e){return new r(e)}},{"./_a-function":30}],64:[function(r,e,t){var i=r("./_an-object"),o=r("./_object-dps"),a=r("./_enum-bug-keys"),s=r("./_shared-key")("IE_PROTO"),l=function(){},u="prototype",c=function(){var e,t=r("./_dom-create")("iframe"),n=a.length;for(t.style.display="none",r("./_html").appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;n--;)delete c[u][a[n]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(l[u]=i(e),n=new l,l[u]=null,n[s]=e):n=c(),void 0===t?n:o(n,t)}},{"./_an-object":33,"./_dom-create":41,"./_enum-bug-keys":42,"./_html":49,"./_object-dps":66,"./_shared-key":77}],65:[function(e,t,n){var r=e("./_an-object"),i=e("./_ie8-dom-define"),o=e("./_to-primitive"),a=Object.defineProperty;n.f=e("./_descriptors")?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},{"./_an-object":33,"./_descriptors":40,"./_ie8-dom-define":50,"./_to-primitive":87}],66:[function(e,t,n){var a=e("./_object-dp"),s=e("./_an-object"),l=e("./_object-keys");t.exports=e("./_descriptors")?Object.defineProperties:function(e,t){s(e);for(var n,r=l(t),i=r.length,o=0;o<i;)a.f(e,n=r[o++],t[n]);return e}},{"./_an-object":33,"./_descriptors":40,"./_object-dp":65,"./_object-keys":69}],67:[function(e,t,n){var r=e("./_has"),i=e("./_to-object"),o=e("./_shared-key")("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},{"./_has":47,"./_shared-key":77,"./_to-object":86}],68:[function(e,t,n){var a=e("./_has"),s=e("./_to-iobject"),l=e("./_array-includes")(!1),u=e("./_shared-key")("IE_PROTO");t.exports=function(e,t){var n,r=s(e),i=0,o=[];for(n in r)n!=u&&a(r,n)&&o.push(n);for(;t.length>i;)a(r,n=t[i++])&&(~l(o,n)||o.push(n));return o}},{"./_array-includes":34,"./_has":47,"./_shared-key":77,"./_to-iobject":84}],69:[function(e,t,n){var r=e("./_object-keys-internal"),i=e("./_enum-bug-keys");t.exports=Object.keys||function(e){return r(e,i)}},{"./_enum-bug-keys":42,"./_object-keys-internal":68}],70:[function(e,t,n){t.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},{}],71:[function(e,t,n){var r=e("./_an-object"),i=e("./_is-object"),o=e("./_new-promise-capability");t.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},{"./_an-object":33,"./_is-object":54,"./_new-promise-capability":63}],72:[function(e,t,n){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],73:[function(e,t,n){var i=e("./_redefine");t.exports=function(e,t,n){for(var r in t)i(e,r,t[r],n);return e}},{"./_redefine":74}],74:[function(e,t,n){var o=e("./_global"),a=e("./_hide"),s=e("./_has"),l=e("./_uid")("src"),r="toString",i=Function[r],u=(""+i).split(r);e("./_core").inspectSource=function(e){return i.call(e)},(t.exports=function(e,t,n,r){var i="function"==typeof n;i&&(s(n,"name")||a(n,"name",t)),e[t]!==n&&(i&&(s(n,l)||a(n,l,e[t]?""+e[t]:u.join(String(t)))),e===o?e[t]=n:r?e[t]?e[t]=n:a(e,t,n):(delete e[t],a(e,t,n)))})(Function.prototype,r,function(){return"function"==typeof this&&this[l]||i.call(this)})},{"./_core":37,"./_global":46,"./_has":47,"./_hide":48,"./_uid":88}],75:[function(e,t,n){"use strict";var r=e("./_global"),i=e("./_object-dp"),o=e("./_descriptors"),a=e("./_wks")("species");t.exports=function(e){var t=r[e];o&&t&&!t[a]&&i.f(t,a,{configurable:!0,get:function(){return this}})}},{"./_descriptors":40,"./_global":46,"./_object-dp":65,"./_wks":90}],76:[function(e,t,n){var r=e("./_object-dp").f,i=e("./_has"),o=e("./_wks")("toStringTag");t.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},{"./_has":47,"./_object-dp":65,"./_wks":90}],77:[function(e,t,n){var r=e("./_shared")("keys"),i=e("./_uid");t.exports=function(e){return r[e]||(r[e]=i(e))}},{"./_shared":78,"./_uid":88}],78:[function(e,t,n){var r=e("./_core"),i=e("./_global"),o="__core-js_shared__",a=i[o]||(i[o]={});(t.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:e("./_library")?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},{"./_core":37,"./_global":46,"./_library":61}],79:[function(e,t,n){var i=e("./_an-object"),o=e("./_a-function"),a=e("./_wks")("species");t.exports=function(e,t){var n,r=i(e).constructor;return void 0===r||null==(n=i(r)[a])?t:o(n)}},{"./_a-function":30,"./_an-object":33,"./_wks":90}],80:[function(e,t,n){var l=e("./_to-integer"),u=e("./_defined");t.exports=function(s){return function(e,t){var n,r,i=String(u(e)),o=l(t),a=i.length;return o<0||a<=o?s?"":void 0:(n=i.charCodeAt(o))<55296||56319<n||o+1===a||(r=i.charCodeAt(o+1))<56320||57343<r?s?i.charAt(o):n:s?i.slice(o,o+2):r-56320+(n-55296<<10)+65536}}},{"./_defined":39,"./_to-integer":83}],81:[function(e,t,n){var r,i,o,a=e("./_ctx"),s=e("./_invoke"),l=e("./_html"),u=e("./_dom-create"),c=e("./_global"),f=c.process,h=c.setImmediate,p=c.clearImmediate,_=c.MessageChannel,v=c.Dispatch,d=0,m={},b="onreadystatechange",g=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},y=function(e){g.call(e.data)};h&&p||(h=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return m[++d]=function(){s("function"==typeof e?e:Function(e),t)},r(d),d},p=function(e){delete m[e]},"process"==e("./_cof")(f)?r=function(e){f.nextTick(a(g,e,1))}:v&&v.now?r=function(e){v.now(a(g,e,1))}:_?(o=(i=new _).port2,i.port1.onmessage=y,r=a(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(e){c.postMessage(e+"","*")},c.addEventListener("message",y,!1)):r=b in u("script")?function(e){l.appendChild(u("script"))[b]=function(){l.removeChild(this),g.call(e)}}:function(e){setTimeout(a(g,e,1),0)}),t.exports={set:h,clear:p}},{"./_cof":36,"./_ctx":38,"./_dom-create":41,"./_global":46,"./_html":49,"./_invoke":51}],82:[function(e,t,n){var r=e("./_to-integer"),i=Math.max,o=Math.min;t.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},{"./_to-integer":83}],83:[function(e,t,n){var r=Math.ceil,i=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(0<e?i:r)(e)}},{}],84:[function(e,t,n){var r=e("./_iobject"),i=e("./_defined");t.exports=function(e){return r(i(e))}},{"./_defined":39,"./_iobject":52}],85:[function(e,t,n){var r=e("./_to-integer"),i=Math.min;t.exports=function(e){return 0<e?i(r(e),9007199254740991):0}},{"./_to-integer":83}],86:[function(e,t,n){var r=e("./_defined");t.exports=function(e){return Object(r(e))}},{"./_defined":39}],87:[function(e,t,n){var i=e("./_is-object");t.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":54}],88:[function(e,t,n){var r=0,i=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+i).toString(36))}},{}],89:[function(e,t,n){var r=e("./_global").navigator;t.exports=r&&r.userAgent||""},{"./_global":46}],90:[function(e,t,n){var r=e("./_shared")("wks"),i=e("./_uid"),o=e("./_global").Symbol,a="function"==typeof o;(t.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},{"./_global":46,"./_shared":78,"./_uid":88}],91:[function(e,t,n){var r=e("./_classof"),i=e("./_wks")("iterator"),o=e("./_iterators");t.exports=e("./_core").getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[r(e)]}},{"./_classof":35,"./_core":37,"./_iterators":60,"./_wks":90}],92:[function(e,t,n){"use strict";var r=e("./_add-to-unscopables"),i=e("./_iter-step"),o=e("./_iterators"),a=e("./_to-iobject");t.exports=e("./_iter-define")(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},{"./_add-to-unscopables":31,"./_iter-define":57,"./_iter-step":59,"./_iterators":60,"./_to-iobject":84}],93:[function(e,t,n){"use strict";var r=e("./_classof"),i={};i[e("./_wks")("toStringTag")]="z",i+""!="[object z]"&&e("./_redefine")(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},{"./_classof":35,"./_redefine":74,"./_wks":90}],94:[function(n,e,t){"use strict";var r,i,o,a,s=n("./_library"),l=n("./_global"),u=n("./_ctx"),c=n("./_classof"),f=n("./_export"),h=n("./_is-object"),p=n("./_a-function"),_=n("./_an-instance"),v=n("./_for-of"),d=n("./_species-constructor"),m=n("./_task").set,b=n("./_microtask")(),g=n("./_new-promise-capability"),y=n("./_perform"),E=n("./_user-agent"),A=n("./_promise-resolve"),S="Promise",T=l.TypeError,O=l.process,C=O&&O.versions,L=C&&C.v8||"",N=l[S],w="process"==c(O),k=function(){},I=i=g.f,P=!!function(){try{var e=N.resolve(1),t=(e.constructor={})[n("./_wks")("species")]=function(e){e(k,k)};return(w||"function"==typeof PromiseRejectionEvent)&&e.then(k)instanceof t&&0!==L.indexOf("6.6")&&-1===E.indexOf("Chrome/66")}catch(e){}}(),x=function(e){var t;return!(!h(e)||"function"!=typeof(t=e.then))&&t},M=function(c,n){if(!c._n){c._n=!0;var r=c._c;b(function(){for(var l=c._v,u=1==c._s,e=0,t=function(e){var t,n,r,i=u?e.ok:e.fail,o=e.resolve,a=e.reject,s=e.domain;try{i?(u||(2==c._h&&D(c),c._h=1),!0===i?t=l:(s&&s.enter(),t=i(l),s&&(s.exit(),r=!0)),t===e.promise?a(T("Promise-chain cycle")):(n=x(t))?n.call(t,o,a):o(t)):a(l)}catch(e){s&&!r&&s.exit(),a(e)}};r.length>e;)t(r[e++]);c._c=[],c._n=!1,n&&!c._h&&R(c)})}},R=function(o){m.call(l,function(){var e,t,n,r=o._v,i=j(o);if(i&&(e=y(function(){w?O.emit("unhandledRejection",r,o):(t=l.onunhandledrejection)?t({promise:o,reason:r}):(n=l.console)&&n.error&&n.error("Unhandled promise rejection",r)}),o._h=w||j(o)?2:1),o._a=void 0,i&&e.e)throw e.v})},j=function(e){return 1!==e._h&&0===(e._a||e._c).length},D=function(t){m.call(l,function(){var e;w?O.emit("rejectionHandled",t):(e=l.onrejectionhandled)&&e({promise:t,reason:t._v})})},G=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),M(t,!0))},V=function(e){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw T("Promise can't be resolved itself");(n=x(e))?b(function(){var t={_w:r,_d:!1};try{n.call(e,u(V,t,1),u(G,t,1))}catch(e){G.call(t,e)}}):(r._v=e,r._s=1,M(r,!1))}catch(e){G.call({_w:r,_d:!1},e)}}};P||(N=function(e){_(this,N,S,"_h"),p(e),r.call(this);try{e(u(V,this,1),u(G,this,1))}catch(e){G.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n("./_redefine-all")(N.prototype,{then:function(e,t){var n=I(d(this,N));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=w?O.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&M(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=u(V,e,1),this.reject=u(G,e,1)},g.f=I=function(e){return e===N||e===a?new o(e):i(e)}),f(f.G+f.W+f.F*!P,{Promise:N}),n("./_set-to-string-tag")(N,S),n("./_set-species")(S),a=n("./_core")[S],f(f.S+f.F*!P,S,{reject:function(e){var t=I(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(s||!P),S,{resolve:function(e){return A(s&&this===a?N:this,e)}}),f(f.S+f.F*!(P&&n("./_iter-detect")(function(e){N.all(e).catch(k)})),S,{all:function(e){var a=this,t=I(a),s=t.resolve,l=t.reject,n=y(function(){var r=[],i=0,o=1;v(e,!1,function(e){var t=i++,n=!1;r.push(void 0),o++,a.resolve(e).then(function(e){n||(n=!0,r[t]=e,--o||s(r))},l)}),--o||s(r)});return n.e&&l(n.v),t.promise},race:function(e){var t=this,n=I(t),r=n.reject,i=y(function(){v(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},{"./_a-function":30,"./_an-instance":32,"./_classof":35,"./_core":37,"./_ctx":38,"./_export":43,"./_for-of":45,"./_global":46,"./_is-object":54,"./_iter-detect":58,"./_library":61,"./_microtask":62,"./_new-promise-capability":63,"./_perform":70,"./_promise-resolve":71,"./_redefine-all":73,"./_set-species":75,"./_set-to-string-tag":76,"./_species-constructor":79,"./_task":81,"./_user-agent":89,"./_wks":90}],95:[function(e,t,n){"use strict";var r=e("./_string-at")(!0);e("./_iter-define")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},{"./_iter-define":57,"./_string-at":80}],96:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_core"),o=e("./_global"),a=e("./_species-constructor"),s=e("./_promise-resolve");r(r.P+r.R,"Promise",{finally:function(t){var n=a(this,i.Promise||o.Promise),e="function"==typeof t;return this.then(e?function(e){return s(n,t()).then(function(){return e})}:t,e?function(e){return s(n,t()).then(function(){throw e})}:t)}})},{"./_core":37,"./_export":43,"./_global":46,"./_promise-resolve":71,"./_species-constructor":79}],97:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_new-promise-capability"),o=e("./_perform");r(r.S,"Promise",{try:function(e){var t=i.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},{"./_export":43,"./_new-promise-capability":63,"./_perform":70}],98:[function(e,t,n){for(var r=e("./es6.array.iterator"),i=e("./_object-keys"),o=e("./_redefine"),a=e("./_global"),s=e("./_hide"),l=e("./_iterators"),u=e("./_wks"),c=u("iterator"),f=u("toStringTag"),h=l.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},_=i(p),v=0;v<_.length;v++){var d,m=_[v],b=p[m],g=a[m],y=g&&g.prototype;if(y&&(y[c]||s(y,c,h),y[f]||s(y,f,m),l[m]=h,b))for(d in r)y[d]||o(y,d,r[d],!0)}},{"./_global":46,"./_hide":48,"./_iterators":60,"./_object-keys":69,"./_redefine":74,"./_wks":90,"./es6.array.iterator":92}],99:[function(e,t,n){var l=Object.create||function(e){var t=function(){};return t.prototype=e,new t},a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return n},o=Function.prototype.bind||function(e){var t=this;return function(){return t.apply(e,arguments)}};function r(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=l(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}((t.exports=r).EventEmitter=r).prototype._events=void 0,r.prototype._maxListeners=void 0;var i,s=10;try{var u={};Object.defineProperty&&Object.defineProperty(u,"x",{value:0}),i=0===u.x}catch(e){i=!1}function c(e){return void 0===e._maxListeners?r.defaultMaxListeners:e._maxListeners}function f(e,t,n,r){var i,o,a;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if((o=e._events)?(o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]):(o=e._events=l(null),e._eventsCount=0),a){if("function"==typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),!a.warned&&(i=c(e))&&0<i&&a.length>i){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+' "'+String(t)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=a.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",s.name,s.message)}}else a=o[t]=n,++e._eventsCount;return e}function h(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];this.listener.apply(this.target,e)}}function p(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=o.call(h,r);return i.listener=n,r.wrapFn=i}function _(e,t,n){var r=e._events;if(!r)return[];var i=r[t];return i?"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):d(i,i.length):[]}function v(e){var t=this._events;if(t){var n=t[e];if("function"==typeof n)return 1;if(n)return n.length}return 0}function d(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}i?Object.defineProperty(r,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||e!=e)throw new TypeError('"defaultMaxListeners" must be a positive number');s=e}}):r.defaultMaxListeners=s,r.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},r.prototype.getMaxListeners=function(){return c(this)},r.prototype.emit=function(e){var t,n,r,i,o,a,s="error"===e;if(a=this._events)s=s&&null==a.error;else if(!s)return!1;if(s){if(1<arguments.length&&(t=arguments[1]),t instanceof Error)throw t;var l=new Error('Unhandled "error" event. ('+t+")");throw l.context=t,l}if(!(n=a[e]))return!1;var u="function"==typeof n;switch(r=arguments.length){case 1:!function(e,t,n){if(t)e.call(n);else for(var r=e.length,i=d(e,r),o=0;o<r;++o)i[o].call(n)}(n,u,this);break;case 2:!function(e,t,n,r){if(t)e.call(n,r);else for(var i=e.length,o=d(e,i),a=0;a<i;++a)o[a].call(n,r)}(n,u,this,arguments[1]);break;case 3:!function(e,t,n,r,i){if(t)e.call(n,r,i);else for(var o=e.length,a=d(e,o),s=0;s<o;++s)a[s].call(n,r,i)}(n,u,this,arguments[1],arguments[2]);break;case 4:!function(e,t,n,r,i,o){if(t)e.call(n,r,i,o);else for(var a=e.length,s=d(e,a),l=0;l<a;++l)s[l].call(n,r,i,o)}(n,u,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(r-1),o=1;o<r;o++)i[o-1]=arguments[o];!function(e,t,n,r){if(t)e.apply(n,r);else for(var i=e.length,o=d(e,i),a=0;a<i;++a)o[a].apply(n,r)}(n,u,this,i)}return!0},r.prototype.on=r.prototype.addListener=function(e,t){return f(this,e,t,!1)},r.prototype.prependListener=function(e,t){return f(this,e,t,!0)},r.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,p(this,e,t)),this},r.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,p(this,e,t)),this},r.prototype.removeListener=function(e,t){var n,r,i,o,a;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=l(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;0<=o;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),r.removeListener&&this.emit("removeListener",e,a||t)}return this},r.prototype.removeAllListeners=function(e){var t,n,r;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=l(null),this._eventsCount=0):n[e]&&(0==--this._eventsCount?this._events=l(null):delete n[e]),this;if(0===arguments.length){var i,o=a(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=l(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(t)for(r=t.length-1;0<=r;r--)this.removeListener(e,t[r]);return this},r.prototype.listeners=function(e){return _(this,e,!0)},r.prototype.rawListeners=function(e){return _(this,e,!1)},r.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):v.call(e,t)},r.prototype.listenerCount=v,r.prototype.eventNames=function(){return 0<this._eventsCount?Reflect.ownKeys(this._events):[]}},{}]},{},[11])(11)});