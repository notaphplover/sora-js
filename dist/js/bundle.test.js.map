{"version":3,"sources":["dist/js/node_modules/browser-pack/_prelude.js","dist/js/dist/js/tmp/src/carousel/animation/animation-engine.js","dist/js/dist/js/tmp/src/carousel/animation/animation-play-state.js","dist/js/dist/js/tmp/src/carousel/animation/operation-manager.js","dist/js/dist/js/tmp/src/carousel/carousel-base.js","dist/js/dist/js/tmp/src/carousel/carousel-basic.js","dist/js/dist/js/tmp/src/collection/collection-manager.js","dist/js/dist/js/tmp/src/collection/html-children-manager.js","dist/js/dist/js/tmp/src/main.test.js","dist/js/dist/js/tmp/src/test/carousel/carousel-basic.test.js","dist/js/dist/js/tmp/src/test/collection/collection-manager.test.js","dist/js/node_modules/babel-runtime/core-js/object/assign.js","dist/js/node_modules/babel-runtime/core-js/object/create.js","dist/js/node_modules/babel-runtime/core-js/object/define-property.js","dist/js/node_modules/babel-runtime/core-js/object/get-own-property-descriptor.js","dist/js/node_modules/babel-runtime/core-js/object/get-prototype-of.js","dist/js/node_modules/babel-runtime/core-js/object/set-prototype-of.js","dist/js/node_modules/babel-runtime/core-js/promise.js","dist/js/node_modules/babel-runtime/core-js/symbol.js","dist/js/node_modules/babel-runtime/core-js/symbol/iterator.js","dist/js/node_modules/babel-runtime/helpers/classCallCheck.js","dist/js/node_modules/babel-runtime/helpers/createClass.js","dist/js/node_modules/babel-runtime/helpers/get.js","dist/js/node_modules/babel-runtime/helpers/inherits.js","dist/js/node_modules/babel-runtime/helpers/possibleConstructorReturn.js","dist/js/node_modules/babel-runtime/helpers/typeof.js","dist/js/node_modules/core-js/library/fn/object/assign.js","dist/js/node_modules/core-js/library/fn/object/create.js","dist/js/node_modules/core-js/library/fn/object/define-property.js","dist/js/node_modules/core-js/library/fn/object/get-own-property-descriptor.js","dist/js/node_modules/core-js/library/fn/object/get-prototype-of.js","dist/js/node_modules/core-js/library/fn/object/set-prototype-of.js","dist/js/node_modules/core-js/library/fn/promise.js","dist/js/node_modules/core-js/library/fn/symbol/index.js","dist/js/node_modules/core-js/library/fn/symbol/iterator.js","dist/js/node_modules/core-js/library/modules/_a-function.js","dist/js/node_modules/core-js/library/modules/_add-to-unscopables.js","dist/js/node_modules/core-js/library/modules/_an-instance.js","dist/js/node_modules/core-js/library/modules/_an-object.js","dist/js/node_modules/core-js/library/modules/_array-includes.js","dist/js/node_modules/core-js/library/modules/_classof.js","dist/js/node_modules/core-js/library/modules/_cof.js","dist/js/node_modules/core-js/library/modules/_core.js","dist/js/node_modules/core-js/library/modules/_ctx.js","dist/js/node_modules/core-js/library/modules/_defined.js","dist/js/node_modules/core-js/library/modules/_descriptors.js","dist/js/node_modules/core-js/library/modules/_dom-create.js","dist/js/node_modules/core-js/library/modules/_enum-bug-keys.js","dist/js/node_modules/core-js/library/modules/_enum-keys.js","dist/js/node_modules/core-js/library/modules/_export.js","dist/js/node_modules/core-js/library/modules/_fails.js","dist/js/node_modules/core-js/library/modules/_for-of.js","dist/js/node_modules/core-js/library/modules/_global.js","dist/js/node_modules/core-js/library/modules/_has.js","dist/js/node_modules/core-js/library/modules/_hide.js","dist/js/node_modules/core-js/library/modules/_html.js","dist/js/node_modules/core-js/library/modules/_ie8-dom-define.js","dist/js/node_modules/core-js/library/modules/_invoke.js","dist/js/node_modules/core-js/library/modules/_iobject.js","dist/js/node_modules/core-js/library/modules/_is-array-iter.js","dist/js/node_modules/core-js/library/modules/_is-array.js","dist/js/node_modules/core-js/library/modules/_is-object.js","dist/js/node_modules/core-js/library/modules/_iter-call.js","dist/js/node_modules/core-js/library/modules/_iter-create.js","dist/js/node_modules/core-js/library/modules/_iter-define.js","dist/js/node_modules/core-js/library/modules/_iter-detect.js","dist/js/node_modules/core-js/library/modules/_iter-step.js","dist/js/node_modules/core-js/library/modules/_iterators.js","dist/js/node_modules/core-js/library/modules/_library.js","dist/js/node_modules/core-js/library/modules/_meta.js","dist/js/node_modules/core-js/library/modules/_microtask.js","dist/js/node_modules/core-js/library/modules/_new-promise-capability.js","dist/js/node_modules/core-js/library/modules/_object-assign.js","dist/js/node_modules/core-js/library/modules/_object-create.js","dist/js/node_modules/core-js/library/modules/_object-dp.js","dist/js/node_modules/core-js/library/modules/_object-dps.js","dist/js/node_modules/core-js/library/modules/_object-gopd.js","dist/js/node_modules/core-js/library/modules/_object-gopn-ext.js","dist/js/node_modules/core-js/library/modules/_object-gopn.js","dist/js/node_modules/core-js/library/modules/_object-gops.js","dist/js/node_modules/core-js/library/modules/_object-gpo.js","dist/js/node_modules/core-js/library/modules/_object-keys-internal.js","dist/js/node_modules/core-js/library/modules/_object-keys.js","dist/js/node_modules/core-js/library/modules/_object-pie.js","dist/js/node_modules/core-js/library/modules/_object-sap.js","dist/js/node_modules/core-js/library/modules/_perform.js","dist/js/node_modules/core-js/library/modules/_promise-resolve.js","dist/js/node_modules/core-js/library/modules/_property-desc.js","dist/js/node_modules/core-js/library/modules/_redefine-all.js","dist/js/node_modules/core-js/library/modules/_redefine.js","dist/js/node_modules/core-js/library/modules/_set-proto.js","dist/js/node_modules/core-js/library/modules/_set-species.js","dist/js/node_modules/core-js/library/modules/_set-to-string-tag.js","dist/js/node_modules/core-js/library/modules/_shared-key.js","dist/js/node_modules/core-js/library/modules/_shared.js","dist/js/node_modules/core-js/library/modules/_species-constructor.js","dist/js/node_modules/core-js/library/modules/_string-at.js","dist/js/node_modules/core-js/library/modules/_task.js","dist/js/node_modules/core-js/library/modules/_to-absolute-index.js","dist/js/node_modules/core-js/library/modules/_to-integer.js","dist/js/node_modules/core-js/library/modules/_to-iobject.js","dist/js/node_modules/core-js/library/modules/_to-length.js","dist/js/node_modules/core-js/library/modules/_to-object.js","dist/js/node_modules/core-js/library/modules/_to-primitive.js","dist/js/node_modules/core-js/library/modules/_uid.js","dist/js/node_modules/core-js/library/modules/_user-agent.js","dist/js/node_modules/core-js/library/modules/_wks-define.js","dist/js/node_modules/core-js/library/modules/_wks-ext.js","dist/js/node_modules/core-js/library/modules/_wks.js","dist/js/node_modules/core-js/library/modules/core.get-iterator-method.js","dist/js/node_modules/core-js/library/modules/es6.array.iterator.js","dist/js/node_modules/core-js/library/modules/es6.object.assign.js","dist/js/node_modules/core-js/library/modules/es6.object.create.js","dist/js/node_modules/core-js/library/modules/es6.object.define-property.js","dist/js/node_modules/core-js/library/modules/es6.object.get-own-property-descriptor.js","dist/js/node_modules/core-js/library/modules/es6.object.get-prototype-of.js","dist/js/node_modules/core-js/library/modules/es6.object.set-prototype-of.js","dist/js/node_modules/core-js/library/modules/es6.object.to-string.js","dist/js/node_modules/core-js/library/modules/es6.promise.js","dist/js/node_modules/core-js/library/modules/es6.string.iterator.js","dist/js/node_modules/core-js/library/modules/es6.symbol.js","dist/js/node_modules/core-js/library/modules/es7.promise.finally.js","dist/js/node_modules/core-js/library/modules/es7.promise.try.js","dist/js/node_modules/core-js/library/modules/es7.symbol.async-iterator.js","dist/js/node_modules/core-js/library/modules/es7.symbol.observable.js","dist/js/node_modules/core-js/library/modules/web.dom.iterable.js","dist/js/node_modules/events/events.js"],"names":[],"mappings":"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B,CAAiC,kBAAjC;AACA,uBAAO,mBAAmB,cAA1B,EAA0C,IAA1C,CAA+C,IAA/C;AACA,oBAAI,SAAS,kBAAkB,aAAlB,EAAb;AACA,uBAAO,OAAO,MAAd,EAAsB,IAAtB,CAA2B,SAAS,MAApC;AACA,qBAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,SAAS,MAA7B,EAAqC,EAAE,CAAvC;AACI,2BAAO,OAAO,CAAP,CAAP,EAAkB,IAAlB,CAAuB,SAAS,CAAT,CAAvB;AADJ;AAEH,aAvBD;AAwBH;;;;;AAGL;;;ACnIA;;ACAA;;ACAA;;ACAA;;ACAA;;ACAA;;ACAA;;ACAA;;ACAA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpBA;AACA;AACA;;ACFA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;AACA;;ACFA;AACA;AACA;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;AACA;AACA;;ACHA;AACA;AACA;AACA;AACA;;ACJA;AACA;;ACDA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvBA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;AACA;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpBA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;AACA;AACA;AACA;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;AACA;AACA;AACA;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;;ACNA;AACA;AACA;AACA;AACA;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACRA;AACA;AACA;;ACFA;AACA;AACA;AACA;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACRA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;AACA;AACA;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtBA;AACA;AACA;AACA;;ACHA;AACA;;ACDA;AACA;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;;ACNA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACZA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;AACA;AACA;AACA;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACTA;AACA;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClCA;AACA;AACA;AACA;AACA;;ACJA;AACA;AACA;AACA;;ACHA;AACA;AACA;AACA;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACTA;AACA;AACA;AACA;;ACHA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9RA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACZA;AACA;;ACDA;AACA;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"bundle.test.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","import { EventEmitter } from \"events\";\nimport { CarouselBase } from \"../carousel-base\";\nimport { AnimationPlayStateValue } from \"./animation-play-state\";\nimport { OperationManager } from \"./operation-manager\";\nexport const ANIMATION_CONSTRAINT_TYPES = {\n    ANIMATION_END: 'anim.end',\n    ANIMATION_START: 'anim.start',\n    GROUP: 'group',\n    WAIT_FOR: 'wait',\n};\nexport const ANIMATION_OPERATION_EVENTS = {\n    ANIMATION_CANCEL: 'anim.cancel',\n    ANIMATION_STATE_CHANGE: 'anim.state.change',\n};\nconst ANIMATION_PART_WHEN_EVENT_PREFIXES = {\n    ANIMATION_START: 'anim.start.',\n    ANIMATION_END: 'anim.end.',\n};\nexport var AnimationPartWhenOperator;\n(function (AnimationPartWhenOperator) {\n    AnimationPartWhenOperator[AnimationPartWhenOperator[\"AND\"] = 0] = \"AND\";\n    AnimationPartWhenOperator[AnimationPartWhenOperator[\"OR\"] = 1] = \"OR\";\n})(AnimationPartWhenOperator || (AnimationPartWhenOperator = {}));\nexport class AnimationPartWhenConstraint {\n    constructor(after, constraintType) {\n        this.after = after;\n        this.constraintType = constraintType;\n    }\n}\nexport class AnimationPartConstraint extends AnimationPartWhenConstraint {\n    constructor(after, alias, constraintType) {\n        super(after, constraintType);\n        this.alias = alias;\n    }\n}\nexport class AnimationPartBeginConstraint extends AnimationPartConstraint {\n    constructor(after, alias) {\n        super(after, alias, ANIMATION_CONSTRAINT_TYPES.ANIMATION_START);\n    }\n}\nexport class AnimationPartEndConstraint extends AnimationPartConstraint {\n    constructor(after, alias) {\n        super(after, alias, ANIMATION_CONSTRAINT_TYPES.ANIMATION_END);\n    }\n}\nexport class AnimationTimeConstraint extends AnimationPartWhenConstraint {\n    constructor(after, millis) {\n        super(after, ANIMATION_CONSTRAINT_TYPES.WAIT_FOR);\n        this.millis = millis;\n    }\n}\nexport class AnimationGroupConstraint extends AnimationPartWhenConstraint {\n    constructor(after, constraints, operator) {\n        super(after, ANIMATION_CONSTRAINT_TYPES.GROUP);\n        this.constraints = constraints;\n        this.operator = operator;\n    }\n}\nexport class SingleAnimationEngine {\n    constructor() {\n        this.eventEmitter = new EventEmitter();\n        this.animationCancelManager = new OperationManager(ANIMATION_OPERATION_EVENTS.ANIMATION_CANCEL, this.eventEmitter);\n        this.animationStateChangeManager = new OperationManager(ANIMATION_OPERATION_EVENTS.ANIMATION_STATE_CHANGE, this.eventEmitter);\n    }\n    dispose() {\n        this.animationCancelManager.dispose();\n        this.animationStateChangeManager.dispose();\n    }\n    handle(animationFlow) {\n        if (animationFlow == null)\n            throw new Error('It\\'s required an animation flow.');\n        if (animationFlow.parts == null)\n            throw new Error('It\\'s required an animation flow with parts.');\n        this.animation = animationFlow;\n        var partPromises = new Array(animationFlow.parts.length);\n        for (var i = 0; i < animationFlow.parts.length; ++i)\n            partPromises[i] = this.handleAnimationPart(animationFlow.parts[i]);\n        return partPromises;\n    }\n    handleAnimationPart(part) {\n        var that = this;\n        var isCanceled = false;\n        var isPaused = false;\n        this.animationCancelManager.subscribe(part.alias, function (eventArgs) {\n            isCanceled = true;\n            that.animationCancelManager.unsubscribe(part.alias);\n        });\n        this.animationStateChangeManager.subscribe(part.alias, function (eventArgs) { isPaused = eventArgs.value == AnimationPlayStateValue.paused; });\n        return new Promise(function (resolve, reject) {\n            that.handleAnimationPartWhen(part.when).then(function () {\n                that.eventEmitter.emit(ANIMATION_PART_WHEN_EVENT_PREFIXES.ANIMATION_START + part.alias, {});\n                that.animationCancelManager.unsubscribe(part.alias);\n                that.animationStateChangeManager.unsubscribe(part.alias);\n                var promises = new Array(part.elements.length);\n                for (var i = 0; i < part.elements.length; ++i)\n                    promises[i] = that.handleAnimationOverElement(part.elements[i], part);\n                Promise.all(promises).then(function () {\n                    that.eventEmitter.emit(ANIMATION_PART_WHEN_EVENT_PREFIXES.ANIMATION_END + part.alias, {});\n                    resolve();\n                });\n                if (isPaused)\n                    that.pause([part.alias]);\n                if (isCanceled)\n                    that.cancelAnimation([part.alias]);\n            }).catch(function (err) {\n                reject(err);\n            });\n        });\n    }\n    handleAnimationOverElement(element, part) {\n        var styles = part.styles;\n        if (styles) {\n            if (styles.length < 1)\n                throw new Error('It\\'s required to have at least one class to generate an animation.');\n        }\n        else\n            throw new Error('It\\'s required to have an array of styles to generate an animation.');\n        var that = this;\n        return new Promise(function (resolve, reject) {\n            try {\n                var animationFunctions = new Array();\n                var currentAnimationIndex = null;\n                var onAnimationCancel = function (args) {\n                    element.classList.add(CarouselBase.CAROUSEL_STYLES.CLEAR_ANIMATION);\n                    if (currentAnimationIndex != null)\n                        element.classList.remove(styles[currentAnimationIndex]);\n                    that.unregisterAnimationListener(element, animationFunctions[currentAnimationIndex]);\n                    element.classList.remove(CarouselBase.CAROUSEL_STYLES.CLEAR_ANIMATION);\n                    that.animationCancelManager.unsubscribe(part.alias);\n                    that.animationStateChangeManager.unsubscribe(part.alias);\n                    resolve();\n                };\n                that.animationCancelManager.subscribe(part.alias, onAnimationCancel);\n                var onAnimationPlayStateChange = function (args) {\n                    if (AnimationPlayStateValue.paused == args.value) {\n                        if (!element.classList.contains(CarouselBase.CAROUSEL_STYLES.ANIMATION_PAUSED))\n                            element.classList.add(CarouselBase.CAROUSEL_STYLES.ANIMATION_PAUSED);\n                    }\n                    else if (AnimationPlayStateValue.running == args.value) {\n                        if (element.classList.contains(CarouselBase.CAROUSEL_STYLES.ANIMATION_PAUSED))\n                            element.classList.remove(CarouselBase.CAROUSEL_STYLES.ANIMATION_PAUSED);\n                    }\n                };\n                that.animationStateChangeManager.subscribe(part.alias, onAnimationPlayStateChange);\n                for (var i = 1; i < styles.length; ++i) {\n                    animationFunctions.push(function (index) {\n                        return function (event) {\n                            element.classList.remove(styles[index - 1]);\n                            that.unregisterAnimationListener(element, animationFunctions[index - 1]);\n                            that.registerAnimationListener(element, animationFunctions[index]);\n                            element.classList.add(styles[index]);\n                            currentAnimationIndex = index;\n                        };\n                    }(i));\n                }\n                animationFunctions.push(function (event) {\n                    element.classList.add(CarouselBase.CAROUSEL_STYLES.CLEAR_ANIMATION);\n                    element.classList.remove(styles[styles.length - 1]);\n                    element.classList.remove(CarouselBase.CAROUSEL_STYLES.CLEAR_ANIMATION);\n                    that.unregisterAnimationListener(element, animationFunctions[animationFunctions.length - 1]);\n                    currentAnimationIndex = null;\n                    that.animationCancelManager.unsubscribe(part.alias);\n                    that.animationStateChangeManager.unsubscribe(part.alias);\n                    resolve();\n                });\n                that.registerAnimationListener(element, animationFunctions[0]);\n                element.classList.add(styles[0]);\n                currentAnimationIndex = 0;\n            }\n            catch (ex) {\n                reject(ex);\n            }\n        });\n    }\n    registerAnimationListener(element, listener) {\n        element.addEventListener('animationend', listener);\n        element.addEventListener('webkitAnimationEnd', listener);\n    }\n    unregisterAnimationListener(element, listener) {\n        element.removeEventListener('animationend', listener);\n        element.removeEventListener('webkitAnimationEnd', listener);\n    }\n    handleAnimationPartWhen(whenEntity) {\n        var that = this;\n        return new Promise(function (resolve, reject) {\n            if (whenEntity == null)\n                resolve();\n            else\n                switch (whenEntity.constraintType) {\n                    case ANIMATION_CONSTRAINT_TYPES.ANIMATION_START:\n                        that.handleAnimationPartWhenAnimationBegin(whenEntity)\n                            .then(resolve);\n                        break;\n                    case ANIMATION_CONSTRAINT_TYPES.ANIMATION_END:\n                        that.handleAnimationPartWhenAnimationEnd(whenEntity)\n                            .then(resolve);\n                        break;\n                    case ANIMATION_CONSTRAINT_TYPES.GROUP:\n                        that.handleAnimationPartWhenAnimationGroup(whenEntity)\n                            .then(resolve);\n                        break;\n                    case ANIMATION_CONSTRAINT_TYPES.WAIT_FOR:\n                        that.handleAnimationPartWhenWaitFor(whenEntity)\n                            .then(resolve);\n                        break;\n                    default:\n                        throw new Error('Unexpected when entity type.');\n                }\n        });\n    }\n    handleAnimationPartWhenAnimationBegin(whenEntity) {\n        var that = this;\n        return new Promise(function (resolve, reject) {\n            var eventName = ANIMATION_PART_WHEN_EVENT_PREFIXES.ANIMATION_START + whenEntity.alias;\n            var eventHandler = function () {\n                that.eventEmitter.removeListener(eventName, eventHandler);\n                if (whenEntity.after == null)\n                    resolve();\n                else\n                    that.handleAnimationPartWhen(whenEntity.after)\n                        .then(resolve);\n            };\n            that.eventEmitter.addListener(eventName, eventHandler);\n        });\n    }\n    handleAnimationPartWhenAnimationEnd(whenEntity) {\n        var that = this;\n        return new Promise(function (resolve, reject) {\n            var eventName = ANIMATION_PART_WHEN_EVENT_PREFIXES.ANIMATION_END + whenEntity.alias;\n            var eventHandler = function () {\n                that.eventEmitter.removeListener(eventName, eventHandler);\n                if (whenEntity.after == null)\n                    resolve();\n                else\n                    that.handleAnimationPartWhen(whenEntity.after)\n                        .then(resolve);\n            };\n            that.eventEmitter.addListener(eventName, eventHandler);\n        });\n    }\n    handleAnimationPartWhenAnimationGroup(whenEntity) {\n        var that = this;\n        return new Promise(function (resolve, reject) {\n            var childPromises = new Array(whenEntity.constraints.length);\n            for (var i = 0; i < whenEntity.constraints.length; ++i) {\n                childPromises[i] = new Promise(function (resolve, reject) {\n                    that.handleAnimationPartWhen(whenEntity.constraints[i])\n                        .then(resolve);\n                });\n            }\n            if (AnimationPartWhenOperator.AND == whenEntity.operator)\n                Promise.all(childPromises)\n                    .then(function () {\n                    resolve();\n                });\n            else if (AnimationPartWhenOperator.OR == whenEntity.operator)\n                Promise.race(childPromises)\n                    .then(function () {\n                    resolve();\n                });\n            else\n                reject('Unexpected operator.');\n        });\n    }\n    handleAnimationPartWhenWaitFor(whenEntity) {\n        var that = this;\n        return new Promise(function (resolve, reject) {\n            setTimeout(function () {\n                if (whenEntity.after == null) {\n                    resolve();\n                }\n                else {\n                    that.handleAnimationPartWhen(whenEntity.after)\n                        .then(resolve);\n                }\n            }, whenEntity.millis);\n        });\n    }\n    cancelAnimation(aliases) {\n        this.eventEmitter.emit(ANIMATION_OPERATION_EVENTS.ANIMATION_CANCEL, {\n            aliases: aliases,\n        });\n    }\n    pause(aliases) {\n        this.eventEmitter.emit(ANIMATION_OPERATION_EVENTS.ANIMATION_STATE_CHANGE, {\n            aliases: aliases,\n            value: AnimationPlayStateValue.paused,\n        });\n    }\n    resume(aliases) {\n        this.eventEmitter.emit(ANIMATION_OPERATION_EVENTS.ANIMATION_STATE_CHANGE, {\n            aliases: aliases,\n            value: AnimationPlayStateValue.running,\n        });\n    }\n}\n\n//# sourceMappingURL=animation-engine.js.map\n","export var AnimationPlayStateValue;\n(function (AnimationPlayStateValue) {\n    AnimationPlayStateValue[AnimationPlayStateValue[\"paused\"] = 0] = \"paused\";\n    AnimationPlayStateValue[AnimationPlayStateValue[\"running\"] = 1] = \"running\";\n})(AnimationPlayStateValue || (AnimationPlayStateValue = {}));\n\n//# sourceMappingURL=animation-play-state.js.map\n","export class OperationManager {\n    constructor(eventAlias, eventEmitter) {\n        var that = this;\n        this.callFunction = function (eventArgs) {\n            if (eventArgs.aliases == null)\n                for (var alias in that.suscriptionStorage) {\n                    var subscriber = that.suscriptionStorage[alias];\n                    if (subscriber != null)\n                        subscriber(eventArgs);\n                }\n            else\n                for (var i = 0; i < eventArgs.aliases.length; ++i) {\n                    var subscriber = that.suscriptionStorage[eventArgs.aliases[i]];\n                    if (subscriber != null)\n                        subscriber(eventArgs);\n                }\n        };\n        this.eventAlias = eventAlias;\n        this.eventEmitter = eventEmitter;\n        this.suscriptionStorage = {};\n        this.eventEmitter.addListener(this.eventAlias, this.callFunction);\n    }\n    dispose() {\n        this.eventEmitter.removeListener(this.eventAlias, this.callFunction);\n    }\n    subscribe(alias, handler) {\n        this.suscriptionStorage[alias] = handler;\n    }\n    unsubscribe(alias) {\n        delete this.suscriptionStorage[alias];\n    }\n}\n\n//# sourceMappingURL=operation-manager.js.map\n","export var CarouselBase;\n(function (CarouselBase_1) {\n    CarouselBase_1.CAROUSEL_STYLES = {\n        ANIMATION_PAUSED: 'sora-animation-paused',\n        CLEAR_ANIMATION: 'sora-clear-animations',\n        CAROUSEL: 'sora-carousel',\n        SLIDE: 'sora-slide',\n        WRAPPER: 'sora-wrapper',\n    };\n    class CarouselBase {\n        constructor() { }\n    }\n    CarouselBase_1.CarouselBase = CarouselBase;\n})(CarouselBase || (CarouselBase = {}));\n\n//# sourceMappingURL=carousel-base.js.map\n","import { CarouselBase } from './carousel-base';\nimport { AnimationPlayStateValue } from './animation/animation-play-state';\nimport { EventEmitter } from 'events';\nimport { COLLECTION_MANAGER_EVENTS, } from '../collection/collection-manager';\nimport { HtmlChildrenManager } from '../collection/html-children-manager';\nimport { SingleAnimationEngine } from './animation/animation-engine';\nexport var CarouselBasic;\n(function (CarouselBasic) {\n    CarouselBasic.SINGLE_SLIDE_CAROUSEL_ACTIONS = {\n        GO_TO: 'to',\n        GO_TO_NEXT: 'next',\n        GO_TO_PREVIOUS: 'prev',\n    };\n    CarouselBasic.SINGLE_SLIDE_CAROUSEL_EVENTS = {\n        ON_ANIMATION_END: 'car.anim.out',\n        ON_ANIMATION_PLAY_STATE_CHANGE: 'car.anim.state.ch',\n        ON_ANIMATION_START: 'car.anim.in',\n        ON_CANCEL_ANIMATION: 'car.anim.cancel',\n        ON_SLIDE_ENTER: 'car.sl.in',\n        ON_SLIDE_LEAVE: 'car.sl.out',\n    };\n    const SINGLE_SLIDE_CAROUSEL_PARTS_ALIASES = {\n        ENTER: 'enter-part',\n        LEAVE: 'leave-part',\n    };\n    CarouselBasic.SINGLE_SLIDE_CAROUSEL_STYLES = {\n        SLIDE_HIDDEN: 'sora-hidden',\n        SLIDE_ACTIVE: 'sora-slide-active',\n    };\n    class SingleSlideCarousel extends CarouselBase.CarouselBase {\n        constructor(element, options) {\n            super();\n            if (element == null)\n                throw new Error('The element must not be null.');\n            if (!element.classList.contains(CarouselBase.CAROUSEL_STYLES.CAROUSEL))\n                throw new Error('The carousel element must contain the class \"' + CarouselBase.CAROUSEL_STYLES.CAROUSEL + '\".');\n            var soraWrapper = element.querySelector('.' + CarouselBase.CAROUSEL_STYLES.WRAPPER);\n            if (soraWrapper == null)\n                throw new Error('The element has no child with class \\'sora-wrapper\\'.');\n            var children = new Array();\n            for (var i = 0; i < soraWrapper.children.length; ++i) {\n                if (soraWrapper.children[i].classList.contains(CarouselBase.CAROUSEL_STYLES.SLIDE))\n                    children.push(soraWrapper.children[i]);\n            }\n            this.activeIndex = options.index || 0;\n            this.currentAnimation = null;\n            this.eventEmitter = new EventEmitter();\n            this.elementsManager = new HtmlChildrenManager(children, this.eventEmitter, soraWrapper);\n            if (this.activeIndex < 0 || this.activeIndex >= this.elementsManager.getLength())\n                throw new Error('Invalid options.index. There is no element with index ' + options.index + '.');\n            for (var i = 0; i < children.length; ++i) {\n                if (i == this.activeIndex)\n                    children[i].classList.add(CarouselBasic.SINGLE_SLIDE_CAROUSEL_STYLES.SLIDE_ACTIVE);\n                else\n                    children[i].classList.add(CarouselBasic.SINGLE_SLIDE_CAROUSEL_STYLES.SLIDE_HIDDEN);\n            }\n            var that = this;\n            var onBeforeChange = function (eventArgs) {\n                var indexMap = eventArgs.getIndexMap();\n                if (indexMap[that.activeIndex] == null)\n                    eventArgs.setPreventDefault();\n            };\n            var onAfterChange = function (eventArgs) {\n                if (!eventArgs.getPreventDefault()) {\n                    var indexMap = eventArgs.getIndexMap();\n                    that.activeIndex = indexMap[that.activeIndex];\n                }\n            };\n            this.addListener(COLLECTION_MANAGER_EVENTS.collectionBeforeChange, onBeforeChange);\n            this.addListener(COLLECTION_MANAGER_EVENTS.collectionAfterChange, onAfterChange);\n            this.engineAnimation = new SingleAnimationEngine();\n        }\n        addListener(event, listener) {\n            this.eventEmitter.addListener(event, listener);\n        }\n        createWaitPromise(options) {\n            var that = this;\n            return new Promise(function (resolve, reject) {\n                var lastTimeRun;\n                var timeToWait = options.millis;\n                if (that.paused) {\n                    lastTimeRun = null;\n                }\n                else {\n                    var waitInterval = setInterval(function () {\n                        removeListeners();\n                        resolve();\n                    }, timeToWait);\n                    lastTimeRun = new Date().getTime();\n                }\n                var onCancelAnimation = null;\n                if (options.stopOnCancelAnimation) {\n                    onCancelAnimation = function () {\n                        removeListeners();\n                        resolve();\n                    };\n                    that.addListener(CarouselBasic.SINGLE_SLIDE_CAROUSEL_EVENTS.ON_CANCEL_ANIMATION, onCancelAnimation);\n                }\n                var onPlayStateChange = function (args) {\n                    if (AnimationPlayStateValue.paused == args.value) {\n                        timeToWait = timeToWait - (new Date().getTime() - lastTimeRun);\n                        clearInterval(waitInterval);\n                    }\n                    else if (AnimationPlayStateValue.running == args.value) {\n                        lastTimeRun = new Date().getTime();\n                        if (timeToWait > 0)\n                            waitInterval = setInterval(function () {\n                                that.removeListener(CarouselBasic.SINGLE_SLIDE_CAROUSEL_EVENTS.ON_ANIMATION_PLAY_STATE_CHANGE, onPlayStateChange);\n                                if (onCancelAnimation != null)\n                                    that.removeListener(CarouselBasic.SINGLE_SLIDE_CAROUSEL_EVENTS.ON_CANCEL_ANIMATION, onCancelAnimation);\n                                resolve();\n                            }, timeToWait);\n                        else {\n                            removeListeners();\n                            resolve();\n                        }\n                    }\n                };\n                var removeListeners = function () {\n                    that.removeListener(CarouselBasic.SINGLE_SLIDE_CAROUSEL_EVENTS.ON_ANIMATION_PLAY_STATE_CHANGE, onPlayStateChange);\n                    if (onCancelAnimation != null)\n                        that.removeListener(CarouselBasic.SINGLE_SLIDE_CAROUSEL_EVENTS.ON_CANCEL_ANIMATION, onCancelAnimation);\n                };\n                that.addListener(CarouselBasic.SINGLE_SLIDE_CAROUSEL_EVENTS.ON_ANIMATION_PLAY_STATE_CHANGE, onPlayStateChange);\n            });\n        }\n        forceActiveSlide(activeIndex) {\n            var eventArgs = {\n                activeIndex: activeIndex,\n            };\n            if (this.isPaused())\n                this.resume();\n            this.engineAnimation.cancelAnimation(null);\n            this.activeIndex = activeIndex;\n            this.resetCarouselStructure(activeIndex);\n            this.eventEmitter.emit(CarouselBasic.SINGLE_SLIDE_CAROUSEL_EVENTS.ON_CANCEL_ANIMATION, eventArgs);\n        }\n        generateGoToAnimationFlow(enterElement, leaveElement, options) {\n            var innerParts = [\n                {\n                    alias: SINGLE_SLIDE_CAROUSEL_PARTS_ALIASES.ENTER,\n                    elements: [enterElement,],\n                    styles: options.enterAnimation.slideStyles,\n                    when: null,\n                },\n                {\n                    alias: SINGLE_SLIDE_CAROUSEL_PARTS_ALIASES.LEAVE,\n                    elements: [leaveElement,],\n                    styles: options.leaveAnimation.slideStyles,\n                    when: null,\n                },\n            ];\n            var generateChildrenParts = function (parentElement, childrenStyles, aliasBase) {\n                if (childrenStyles) {\n                    for (var i = 0; i < childrenStyles.length; ++i) {\n                        innerParts.push({\n                            alias: aliasBase + i.toString(),\n                            elements: function () {\n                                var elements = new Array();\n                                var animationObject = childrenStyles[i];\n                                var childrenElements = parentElement.querySelectorAll(animationObject.selector);\n                                for (var j = 0; j < childrenElements.length; ++j)\n                                    elements.push(childrenElements[j]);\n                                return elements;\n                            }(),\n                            styles: childrenStyles[i].styles,\n                            when: null,\n                        });\n                    }\n                }\n            };\n            generateChildrenParts(enterElement, options.enterAnimation.childrenStyles, SINGLE_SLIDE_CAROUSEL_PARTS_ALIASES.ENTER);\n            generateChildrenParts(leaveElement, options.leaveAnimation.childrenStyles, SINGLE_SLIDE_CAROUSEL_PARTS_ALIASES.LEAVE);\n            var innerPartsMap = {};\n            for (var i = 0; i < innerParts.length; ++i)\n                innerPartsMap[innerParts[i].alias] = innerParts[i];\n            var innerGetPartByAlias = function (alias) {\n                return innerPartsMap[alias];\n            };\n            var animationFlow = {\n                parts: innerParts,\n                getPartByAlias: innerGetPartByAlias,\n            };\n            return animationFlow;\n        }\n        getActiveElement() {\n            return this.elementsManager.getCollection()[this.activeIndex];\n        }\n        getActiveIndex() {\n            return this.activeIndex;\n        }\n        getElementsManager() {\n            return this.elementsManager;\n        }\n        hasActiveAnimation() {\n            return this.currentAnimation != null;\n        }\n        isPaused() {\n            return this.paused;\n        }\n        handle(action, options) {\n            switch (action) {\n                case CarouselBasic.SINGLE_SLIDE_CAROUSEL_ACTIONS.GO_TO:\n                    if (options == null || typeof options.index !== 'number')\n                        throw new Error('Invalid options for \\'' + CarouselBasic.SINGLE_SLIDE_CAROUSEL_ACTIONS.GO_TO + '\\'.');\n                    return this.handleGoTo(options);\n                case CarouselBasic.SINGLE_SLIDE_CAROUSEL_ACTIONS.GO_TO_NEXT:\n                    options.index = (this.activeIndex + 1) % this.elementsManager.getLength();\n                    return this.handle(CarouselBasic.SINGLE_SLIDE_CAROUSEL_ACTIONS.GO_TO, options);\n                case CarouselBasic.SINGLE_SLIDE_CAROUSEL_ACTIONS.GO_TO_PREVIOUS:\n                    var elementsLength = this.elementsManager.getLength();\n                    options.index = ((this.activeIndex - 1) % elementsLength + elementsLength) % elementsLength;\n                    return this.handle(CarouselBasic.SINGLE_SLIDE_CAROUSEL_ACTIONS.GO_TO, options);\n            }\n        }\n        pause() {\n            if (!this.paused) {\n                this.engineAnimation.pause(null);\n                this.paused = true;\n                this.eventEmitter.emit(CarouselBasic.SINGLE_SLIDE_CAROUSEL_EVENTS.ON_ANIMATION_PLAY_STATE_CHANGE, { value: AnimationPlayStateValue.paused, });\n            }\n        }\n        removeListener(event, listener) {\n            this.eventEmitter.removeListener(event, listener);\n        }\n        resume() {\n            if (this.paused) {\n                this.engineAnimation.resume(null);\n                this.paused = false;\n                this.eventEmitter.emit(CarouselBasic.SINGLE_SLIDE_CAROUSEL_EVENTS.ON_ANIMATION_PLAY_STATE_CHANGE, { value: AnimationPlayStateValue.running, });\n            }\n        }\n        handleGoTo(options) {\n            if (options.index < 0 || options.index >= this.elementsManager.getLength())\n                throw new Error('Invalid index. There is no element with index ' + options.index + '.');\n            if (options.index == this.activeIndex)\n                throw new Error('Invalid index. It\\'s not allowed to go to the current active slide');\n            if (null == this.currentAnimation)\n                this.currentAnimation = options;\n            else {\n                throw new Error('It\\'s not allowed to start an animation while an existing animation over an slide element is active');\n            }\n            var oldActiveElement = this.elementsManager.getCollection()[this.activeIndex];\n            var newActiveIndex = options.index;\n            this.eventEmitter.emit(CarouselBasic.SINGLE_SLIDE_CAROUSEL_EVENTS.ON_ANIMATION_START, {\n                options: options\n            });\n            var that = this;\n            var onBeforeChange = function (eventArgs) {\n                var indexMap = eventArgs.getIndexMap();\n                if (indexMap[newActiveIndex] == null)\n                    eventArgs.setPreventDefault();\n            };\n            var onAfterChange = function (eventArgs) {\n                if (!eventArgs.getPreventDefault()) {\n                    var indexMap = eventArgs.getIndexMap();\n                    newActiveIndex = indexMap[newActiveIndex];\n                }\n            };\n            this.addListener(COLLECTION_MANAGER_EVENTS.collectionBeforeChange, onBeforeChange);\n            this.addListener(COLLECTION_MANAGER_EVENTS.collectionAfterChange, onAfterChange);\n            var newActiveElement = this.elementsManager.getCollection()[newActiveIndex];\n            newActiveElement.classList.remove(CarouselBasic.SINGLE_SLIDE_CAROUSEL_STYLES.SLIDE_HIDDEN);\n            var animationCanceled = false;\n            var cancelAnimationHandler = function () {\n                animationCanceled = true;\n                that.currentAnimation = null;\n            };\n            var animationFlow = this.generateGoToAnimationFlow(newActiveElement, oldActiveElement, options);\n            var animationPromises = this.engineAnimation.handle(animationFlow);\n            const ANIMATION_LEAVE_INDEX = 1;\n            var hideLeaveSlideAfterAnimationEnds = new Promise(function (resolve, reject) {\n                animationPromises[ANIMATION_LEAVE_INDEX].then(function (animationOptions) {\n                    if (!animationCanceled)\n                        oldActiveElement.classList.add(CarouselBasic.SINGLE_SLIDE_CAROUSEL_STYLES.SLIDE_HIDDEN);\n                    resolve();\n                }).catch(function (err) {\n                    reject(err);\n                });\n            });\n            this.addListener(CarouselBasic.SINGLE_SLIDE_CAROUSEL_EVENTS.ON_CANCEL_ANIMATION, cancelAnimationHandler);\n            var soraHandlerStatus = new Promise(function (resolve, reject) {\n                Promise.all([\n                    animationPromises[0],\n                    hideLeaveSlideAfterAnimationEnds,\n                ]).then(function () {\n                    if (!animationCanceled) {\n                        oldActiveElement.classList.remove(CarouselBasic.SINGLE_SLIDE_CAROUSEL_STYLES.SLIDE_ACTIVE);\n                        newActiveElement.classList.add(CarouselBasic.SINGLE_SLIDE_CAROUSEL_STYLES.SLIDE_ACTIVE);\n                        that.activeIndex = newActiveIndex;\n                        that.currentAnimation = null;\n                    }\n                    that.removeListener(COLLECTION_MANAGER_EVENTS.collectionBeforeChange, onBeforeChange);\n                    that.removeListener(COLLECTION_MANAGER_EVENTS.collectionAfterChange, onAfterChange);\n                    that.removeListener(CarouselBasic.SINGLE_SLIDE_CAROUSEL_EVENTS.ON_CANCEL_ANIMATION, cancelAnimationHandler);\n                    that.eventEmitter.emit(CarouselBasic.SINGLE_SLIDE_CAROUSEL_EVENTS.ON_ANIMATION_END, {});\n                    resolve();\n                }).catch(function (err) {\n                    reject(err);\n                });\n            });\n            return {\n                animationPromises: animationPromises,\n                soraHandlerStatus: soraHandlerStatus,\n            };\n        }\n        resetCarouselStructure(activeIndex) {\n            var collection = this.elementsManager.getCollection();\n            for (var i = 0; i < collection.length; ++i) {\n                while (collection[i].classList.length > 0)\n                    collection[i].classList.remove(collection[i].classList.item(0));\n                collection[i].classList.add(CarouselBase.CAROUSEL_STYLES.SLIDE);\n                if (activeIndex === i)\n                    collection[i].classList.add(CarouselBasic.SINGLE_SLIDE_CAROUSEL_STYLES.SLIDE_ACTIVE);\n                else\n                    collection[i].classList.add(CarouselBasic.SINGLE_SLIDE_CAROUSEL_STYLES.SLIDE_HIDDEN);\n            }\n        }\n    }\n    CarouselBasic.SingleSlideCarousel = SingleSlideCarousel;\n})(CarouselBasic || (CarouselBasic = {}));\n\n//# sourceMappingURL=carousel-basic.js.map\n","export const COLLECTION_MANAGER_EVENTS = {\n    collectionAfterChange: 'coll.ch.a',\n    collectionBeforeChange: 'coll.ch.b',\n};\nexport class CollectionChangeEventArgs {\n    constructor(indexMap, newElements, preventDefault) {\n        this.indexMap = indexMap;\n        this.newElements = newElements;\n        this.preventDefault = preventDefault;\n    }\n    getIndexMap() {\n        return Object.assign({}, this.indexMap);\n    }\n    getNewElements() {\n        return Object.assign({}, this.newElements);\n    }\n    getPreventDefault() {\n        return this.preventDefault;\n    }\n}\nexport class CancelableCollectionChangeEventArgs extends CollectionChangeEventArgs {\n    constructor(indexMap, newElements) {\n        super(indexMap, newElements, false);\n    }\n    setPreventDefault() {\n        this.preventDefault = true;\n    }\n}\nexport class CollectionManager {\n    constructor(collection, eventEmitter) {\n        this.collection = collection;\n        this.eventEmitter = eventEmitter;\n    }\n    getCollection() {\n        return this.collection;\n    }\n    getLength() {\n        return this.collection.length;\n    }\n    insertElements(elements) {\n        this.internalInsertElements(elements);\n    }\n    internalInsertElements(elements) {\n        var keys = new Array();\n        for (var elemIndex in elements) {\n            var numberElemIndex = Number(elemIndex);\n            if (numberElemIndex < 0)\n                throw new Error('The index param should be greater or equals zero.');\n            if (numberElemIndex > this.collection.length)\n                throw new Error('The index param should be less or equals the number of elements of the collection.');\n            keys.push(numberElemIndex);\n        }\n        keys = keys.sort(function (number1, number2) {\n            return number1 - number2;\n        });\n        if (keys.length == 0)\n            return;\n        var newElements = new Array(this.collection.length + keys.length);\n        var indexMap = {};\n        if (keys.length == 1) {\n            var index = keys[0];\n            var element = elements[index];\n            for (var i = 0; i < index; ++i) {\n                newElements[i] = this.collection[i];\n                indexMap[i] = i;\n            }\n            newElements[index] = element;\n            for (var i = index + 1; i < newElements.length; ++i) {\n                newElements[i] = this.collection[i - 1];\n                indexMap[i - 1] = i;\n            }\n        }\n        else {\n            for (var i = 0; i < keys[0]; ++i) {\n                newElements[i] = this.collection[i];\n                indexMap[i] = i;\n            }\n            newElements[keys[0]] = elements[keys[0]];\n            for (var i = 1; i < keys.length; ++i) {\n                var indexPrevious = keys[i - 1];\n                var index = keys[i];\n                for (var j = indexPrevious + 1; j < index; ++j) {\n                    newElements[j] = this.collection[j - i];\n                    indexMap[j - i] = j;\n                }\n                newElements[index] = elements[index];\n            }\n            for (var i = keys[keys.length - 1] + 1; i < newElements.length; ++i) {\n                newElements[i] = this.collection[i - keys.length];\n                indexMap[i - keys.length] = i;\n            }\n        }\n        this.internalTryToChangeCollection(indexMap, newElements);\n    }\n    internalRemoveElements(indexes) {\n        indexes = indexes.sort(function (number1, number2) {\n            return number1 - number2;\n        });\n        var indexMap = {};\n        var newElements = new Array();\n        var counter = 0;\n        for (var i = 0; i < this.collection.length; ++i) {\n            if (indexes[counter] == i)\n                ++counter;\n            else {\n                newElements[i - counter] = this.collection[i];\n                indexMap[i] = i - counter;\n            }\n        }\n        this.internalTryToChangeCollection(indexMap, newElements);\n    }\n    internalTryToChangeCollection(indexMap = {}, newElements) {\n        var cancelableChangeEventArgs = new CancelableCollectionChangeEventArgs(indexMap, newElements);\n        this.eventEmitter.emit(COLLECTION_MANAGER_EVENTS.collectionBeforeChange, cancelableChangeEventArgs);\n        if (!cancelableChangeEventArgs.getPreventDefault())\n            this.collection = newElements;\n        var changeEventArgs = new CollectionChangeEventArgs(indexMap, newElements, cancelableChangeEventArgs.getPreventDefault());\n        this.eventEmitter.emit(COLLECTION_MANAGER_EVENTS.collectionAfterChange, changeEventArgs);\n        return changeEventArgs;\n    }\n    removeElements(indexes) {\n        this.internalRemoveElements(indexes);\n    }\n}\n\n//# sourceMappingURL=collection-manager.js.map\n","import { CollectionManager } from \"./collection-manager\";\nexport class HtmlChildrenManager extends CollectionManager {\n    constructor(collection, eventEmitter, parentElement) {\n        super(collection, eventEmitter);\n        this.parentElement = parentElement;\n    }\n    internalTryToChangeCollection(indexMap = {}, newElements) {\n        var eventArgs = super.internalTryToChangeCollection(indexMap, newElements);\n        if (!eventArgs.getPreventDefault()) {\n            var deletionPivot = 0;\n            var insertionPivot = 0;\n            var oldIndexesCounter = 0;\n            var newIndexesCounter = 0;\n            for (var key in indexMap) {\n                var keyNumber = Number(key);\n                for (var i = oldIndexesCounter; i < keyNumber; ++i) {\n                    this.parentElement.removeChild(this.parentElement.children[i + insertionPivot - deletionPivot]);\n                    ++deletionPivot;\n                }\n                var newIndex = indexMap[key];\n                for (var i = newIndexesCounter; i < newIndex; ++i) {\n                    this.parentElement.insertBefore(newElements[i], this.parentElement.children[i]);\n                    ++insertionPivot;\n                }\n                oldIndexesCounter = keyNumber + 1;\n                newIndexesCounter = newIndex + 1;\n            }\n            for (var i = newIndexesCounter; i < newElements.length; ++i)\n                this.parentElement.appendChild(newElements[i]);\n        }\n        return eventArgs;\n    }\n}\n\n//# sourceMappingURL=html-children-manager.js.map\n","import { SingleSlideCarouselTests } from './test/carousel/carousel-basic.test';\nimport { CollectionManagerTests } from './test/collection/collection-manager.test';\nvar soraTest = function () {\n    return {\n        performTests: function () {\n            new SingleSlideCarouselTests().performTests();\n            new CollectionManagerTests().performTests();\n        },\n    };\n}();\nmodule.exports = soraTest;\n\n//# sourceMappingURL=main.test.js.map\n","import { CarouselBase } from '../../../src/carousel/carousel-base';\nimport { CarouselBasic } from '../../../src/carousel/carousel-basic';\nexport class SingleSlideCarouselTests {\n    constructor() {\n        this.longTimeLimit = 100000000;\n    }\n    generateBasicCarousel() {\n        var divElement = document.createElement('div');\n        divElement.classList.add(CarouselBase.CAROUSEL_STYLES.CAROUSEL);\n        divElement.innerHTML =\n            `<div class=\"sora-wrapper\">\r\n    <div class=\"sora-slide\">\r\n        <span>Content 1</span>\r\n    </div>\r\n    <div class=\"sora-slide\">\r\n        <span>Content 2</span>\r\n    </div>\r\n    <div class=\"sora-slide\">\r\n        <span>Content 3</span>\r\n    </div>\r\n</div>`;\n        return divElement;\n    }\n    performTests() {\n        describe('SingleSlideCarousel Tests', () => {\n            this.itMustBeInitializable();\n            this.itMustBeAbleToCancelAnimation();\n            this.itMustBeAbleToGoToSlides();\n            this.itMustBeAbleToGoToSlidesWhileAddingElements();\n            this.itMustBeAbleToGoToSlidesWhileRemovingAnimationElements();\n            this.itMustBeAbleToGoToSlidesWhileRemovingOtherElements();\n            this.itMustBeAbleToHandleChildrenAnimations();\n            this.itMustBeAbleToPauseAndResumeAnimation();\n            this.itMustBeAbleToRunComplexAnimations();\n        });\n    }\n    performGoAndCheck(action, carousel, enterAnimation, leaveAnimation, shouldCheck = true) {\n        expect([\n            CarouselBasic.SINGLE_SLIDE_CAROUSEL_ACTIONS.GO_TO_NEXT,\n            CarouselBasic.SINGLE_SLIDE_CAROUSEL_ACTIONS.GO_TO_PREVIOUS,\n        ]).toContain(action);\n        var currentActiveElement = carousel.getActiveElement();\n        var activeIndex = carousel.getActiveIndex();\n        var indexes = carousel.getElementsManager().getLength();\n        var nextIndex = function (action) {\n            if (CarouselBasic.SINGLE_SLIDE_CAROUSEL_ACTIONS.GO_TO_NEXT == action)\n                return (activeIndex + 1) % indexes;\n            else if (CarouselBasic.SINGLE_SLIDE_CAROUSEL_ACTIONS.GO_TO_PREVIOUS == action) {\n                return ((activeIndex - 1) + indexes) % indexes;\n            }\n            else\n                throw new Error('Unexpected action');\n        }(action);\n        var nextElement = carousel.getElementsManager().getCollection()[nextIndex];\n        var goActionStatus = carousel.handle(action, {\n            enterAnimation: enterAnimation,\n            leaveAnimation: leaveAnimation,\n        });\n        if (shouldCheck)\n            goActionStatus.soraHandlerStatus.then(function () {\n                expect(currentActiveElement.classList).not.toContain(CarouselBasic.SINGLE_SLIDE_CAROUSEL_STYLES.SLIDE_ACTIVE);\n                expect(currentActiveElement.classList).toContain(CarouselBasic.SINGLE_SLIDE_CAROUSEL_STYLES.SLIDE_HIDDEN);\n                expect(nextElement.classList).toContain(CarouselBasic.SINGLE_SLIDE_CAROUSEL_STYLES.SLIDE_ACTIVE);\n                expect(nextElement.classList).not.toContain(CarouselBasic.SINGLE_SLIDE_CAROUSEL_STYLES.SLIDE_HIDDEN);\n            });\n        return {\n            goActionStatus: goActionStatus,\n            newElement: nextElement,\n            oldElement: currentActiveElement,\n        };\n    }\n    performGoNext(carousel, enterAnimation, leaveAnimation, shouldCheck = true) {\n        return this.performGoAndCheck(CarouselBasic.SINGLE_SLIDE_CAROUSEL_ACTIONS.GO_TO_NEXT, carousel, enterAnimation, leaveAnimation, shouldCheck);\n    }\n    performGoPrevious(carousel, enterAnimation, leaveAnimation, shouldCheck = true) {\n        return this.performGoAndCheck(CarouselBasic.SINGLE_SLIDE_CAROUSEL_ACTIONS.GO_TO_PREVIOUS, carousel, enterAnimation, leaveAnimation, shouldCheck);\n    }\n    itMustBeInitializable() {\n        var that = this;\n        it('mustBeInitializable', () => {\n            var divElement = that.generateBasicCarousel();\n            var carousel = new CarouselBasic.SingleSlideCarousel(divElement, { index: 0 });\n            expect(carousel).not.toBeNull();\n            var wrapper = divElement.querySelectorAll('.' + CarouselBase.CAROUSEL_STYLES.WRAPPER);\n            expect(wrapper.length).toBe(1);\n            var children = divElement.querySelectorAll('.' + CarouselBase.CAROUSEL_STYLES.WRAPPER + ' > .' + CarouselBase.CAROUSEL_STYLES.SLIDE);\n            expect(children.length).toBe(3);\n            expect(children[0].classList).toContain(CarouselBasic.SINGLE_SLIDE_CAROUSEL_STYLES.SLIDE_ACTIVE);\n            expect(children[0].classList).not.toContain(CarouselBasic.SINGLE_SLIDE_CAROUSEL_STYLES.SLIDE_HIDDEN);\n            for (var i = 1; i < children.length; ++i) {\n                expect(children[i].classList).not.toContain(CarouselBasic.SINGLE_SLIDE_CAROUSEL_STYLES.SLIDE_ACTIVE);\n                expect(children[i].classList).toContain(CarouselBasic.SINGLE_SLIDE_CAROUSEL_STYLES.SLIDE_HIDDEN);\n            }\n        });\n    }\n    itMustBeAbleToCancelAnimation() {\n        var that = this;\n        it('mustBeAbleToCancelAnimation', (done) => {\n            function goNext(carousel) {\n                return that.performGoNext(carousel, { slideStyles: ['sora-fade-in-animation',] }, { slideStyles: ['sora-fade-out-animation',] }, false);\n            }\n            var divElement = that.generateBasicCarousel();\n            var carousel = new CarouselBasic.SingleSlideCarousel(divElement, { index: 0 });\n            document.body.appendChild(divElement);\n            var executionPromise = new Promise(function (resolve, reject) {\n                var animationStatus = goNext(carousel);\n                carousel.forceActiveSlide(2);\n                var thirdElement = carousel.getElementsManager().getCollection()[2];\n                expect(thirdElement.classList).not.toContain(CarouselBasic.SINGLE_SLIDE_CAROUSEL_STYLES.SLIDE_HIDDEN);\n                expect(thirdElement.classList).toContain(CarouselBasic.SINGLE_SLIDE_CAROUSEL_STYLES.SLIDE_ACTIVE);\n                Promise.all([\n                    animationStatus.goActionStatus.soraHandlerStatus,\n                ]).then(function () {\n                    var oldActiveElement = animationStatus.oldElement;\n                    var newActiveElement = animationStatus.newElement;\n                    expect(newActiveElement).toBe(carousel.getElementsManager().getCollection()[1]);\n                    expect(newActiveElement.classList).not.toContain(CarouselBasic.SINGLE_SLIDE_CAROUSEL_STYLES.SLIDE_ACTIVE);\n                    expect(newActiveElement.classList).toContain(CarouselBasic.SINGLE_SLIDE_CAROUSEL_STYLES.SLIDE_HIDDEN);\n                    expect(oldActiveElement).toBe(carousel.getElementsManager().getCollection()[0]);\n                    expect(oldActiveElement.classList).not.toContain(CarouselBasic.SINGLE_SLIDE_CAROUSEL_STYLES.SLIDE_ACTIVE);\n                    expect(oldActiveElement.classList).toContain(CarouselBasic.SINGLE_SLIDE_CAROUSEL_STYLES.SLIDE_HIDDEN);\n                    resolve();\n                }).catch(function (err) {\n                    reject(err);\n                });\n            });\n            executionPromise.then(function () {\n                document.body.removeChild(divElement);\n                done();\n            }).catch(function (err) {\n                done.fail(err);\n            });\n        });\n    }\n    itMustBeAbleToGoToSlides() {\n        var that = this;\n        it('mustBeAbleToGoToSlides', function (done) {\n            function goNext(carousel) {\n                return that.performGoNext(carousel, { slideStyles: ['sora-fade-in-animation',] }, { slideStyles: ['sora-fade-out-animation',] });\n            }\n            function goPrevious(carousel) {\n                return that.performGoPrevious(carousel, { slideStyles: ['sora-fade-in-animation',] }, { slideStyles: ['sora-fade-out-animation',] });\n            }\n            var divElement = that.generateBasicCarousel();\n            var carousel = new CarouselBasic.SingleSlideCarousel(divElement, { index: 0 });\n            document.body.appendChild(divElement);\n            var executionPromise = new Promise(function (resolve, reject) {\n                var animationStatus = goNext(carousel);\n                var oldActiveElement = animationStatus.oldElement;\n                var newActiveElement = animationStatus.newElement;\n                expect(oldActiveElement).toBe(carousel.getElementsManager().getCollection()[0]);\n                expect(newActiveElement).toBe(carousel.getElementsManager().getCollection()[1]);\n                Promise.all([\n                    animationStatus.goActionStatus.soraHandlerStatus,\n                ]).then(function () {\n                    var animationStatus = goPrevious(carousel);\n                    var oldActiveElement = animationStatus.oldElement;\n                    var newActiveElement = animationStatus.newElement;\n                    expect(oldActiveElement).toBe(carousel.getElementsManager().getCollection()[1]);\n                    expect(newActiveElement).toBe(carousel.getElementsManager().getCollection()[0]);\n                    Promise.all([\n                        animationStatus.goActionStatus.soraHandlerStatus,\n                    ]).then(function () {\n                        resolve();\n                    }).catch(function (err) {\n                        reject(err);\n                    });\n                }).catch(function (err) {\n                    reject(err);\n                });\n            });\n            executionPromise.then(function () {\n                document.body.removeChild(divElement);\n                done();\n            }).catch(function (err) {\n                done.fail(err);\n            });\n        }, this.longTimeLimit);\n    }\n    itMustBeAbleToGoToSlidesWhileAddingElements() {\n        var that = this;\n        it('mustBeAbleToGoToSlidesWhileAddingElements', function (done) {\n            function goNext(carousel) {\n                return that.performGoNext(carousel, { slideStyles: ['sora-fade-in-animation',] }, { slideStyles: ['sora-fade-out-animation',] });\n            }\n            function goPrevious(carousel) {\n                return that.performGoPrevious(carousel, { slideStyles: ['sora-fade-in-animation',] }, { slideStyles: ['sora-fade-out-animation',] });\n            }\n            var divElement = that.generateBasicCarousel();\n            var carousel = new CarouselBasic.SingleSlideCarousel(divElement, { index: 0 });\n            document.body.appendChild(divElement);\n            var executionPromise = new Promise(function (resolve, reject) {\n                var animationStatus = goNext(carousel);\n                var element0 = document.createElement('div');\n                element0.classList.add(CarouselBase.CAROUSEL_STYLES.SLIDE);\n                element0.classList.add(CarouselBasic.SINGLE_SLIDE_CAROUSEL_STYLES.SLIDE_HIDDEN);\n                element0.innerHTML = 'New Content 0';\n                var element1 = document.createElement('div');\n                element1.classList.add(CarouselBase.CAROUSEL_STYLES.SLIDE);\n                element1.classList.add(CarouselBasic.SINGLE_SLIDE_CAROUSEL_STYLES.SLIDE_HIDDEN);\n                element1.innerHTML = 'New Content 1';\n                var element2 = document.createElement('div');\n                element2.classList.add(CarouselBase.CAROUSEL_STYLES.SLIDE);\n                element2.classList.add(CarouselBasic.SINGLE_SLIDE_CAROUSEL_STYLES.SLIDE_HIDDEN);\n                element2.innerHTML = 'New Content 2';\n                var element3 = document.createElement('div');\n                element3.classList.add(CarouselBase.CAROUSEL_STYLES.SLIDE);\n                element3.classList.add(CarouselBasic.SINGLE_SLIDE_CAROUSEL_STYLES.SLIDE_HIDDEN);\n                element3.innerHTML = 'New Content 3';\n                carousel.getElementsManager().insertElements({\n                    0: element0,\n                    1: element1,\n                    2: element2,\n                    3: element3,\n                });\n                expect(carousel.getElementsManager().getLength()).toBe(7);\n                Promise.all([\n                    animationStatus.goActionStatus.soraHandlerStatus,\n                ]).then(function () {\n                    var oldActiveElement = animationStatus.oldElement;\n                    var newActiveElement = animationStatus.newElement;\n                    expect(newActiveElement).toBe(carousel.getElementsManager().getCollection()[5]);\n                    expect(oldActiveElement).toBe(carousel.getElementsManager().getCollection()[4]);\n                    animationStatus = goPrevious(carousel);\n                    Promise.all([\n                        animationStatus.goActionStatus.soraHandlerStatus,\n                    ]).then(function () {\n                        var oldActiveElement = animationStatus.oldElement;\n                        var newActiveElement = animationStatus.newElement;\n                        expect(newActiveElement).toBe(carousel.getElementsManager().getCollection()[4]);\n                        expect(oldActiveElement).toBe(carousel.getElementsManager().getCollection()[5]);\n                        animationStatus = goPrevious(carousel);\n                        Promise.all([\n                            animationStatus.goActionStatus.soraHandlerStatus,\n                        ]).then(function () {\n                            var oldActiveElement = animationStatus.oldElement;\n                            var newActiveElement = animationStatus.newElement;\n                            expect(newActiveElement).toBe(carousel.getElementsManager().getCollection()[3]);\n                            expect(oldActiveElement).toBe(carousel.getElementsManager().getCollection()[4]);\n                            resolve();\n                        }).catch(function (err) {\n                            reject(err);\n                        });\n                    }).catch(function (err) {\n                        reject(err);\n                    });\n                }).catch(function (err) {\n                    reject(err);\n                });\n            });\n            executionPromise.then(function () {\n                document.body.removeChild(divElement);\n                done();\n            }).catch(function (err) {\n                done.fail(err);\n            });\n        }, this.longTimeLimit);\n    }\n    itMustBeAbleToGoToSlidesWhileRemovingAnimationElements() {\n        var that = this;\n        it('mustBeAbleToGoToSlidesWhileRemovingAnimationElements', function (done) {\n            function goNext(carousel) {\n                return that.performGoNext(carousel, { slideStyles: ['sora-fade-in-animation',] }, { slideStyles: ['sora-fade-out-animation',] });\n            }\n            var divElement = that.generateBasicCarousel();\n            var carousel = new CarouselBasic.SingleSlideCarousel(divElement, { index: 0 });\n            document.body.appendChild(divElement);\n            var executionPromise = new Promise(function (resolve, reject) {\n                var animationStatus = goNext(carousel);\n                carousel.getElementsManager().removeElements([0, 1]);\n                expect(carousel.getElementsManager().getCollection().length).toBe(3);\n                Promise.all([\n                    animationStatus.goActionStatus.soraHandlerStatus,\n                ]).then(function () {\n                    var oldActiveElement = animationStatus.oldElement;\n                    var newActiveElement = animationStatus.newElement;\n                    expect(oldActiveElement).toBe(carousel.getElementsManager().getCollection()[0]);\n                    expect(newActiveElement).toBe(carousel.getElementsManager().getCollection()[1]);\n                    resolve();\n                }).catch(function (err) {\n                    reject(err);\n                });\n            });\n            executionPromise.then(function () {\n                document.body.removeChild(divElement);\n                done();\n            }).catch(function (err) {\n                done.fail(err);\n            });\n        }, this.longTimeLimit);\n    }\n    itMustBeAbleToGoToSlidesWhileRemovingOtherElements() {\n        var that = this;\n        it('mustBeAbleToGoToSlidesWhileRemovingOtherElements', function (done) {\n            function goNext(carousel) {\n                return that.performGoNext(carousel, { slideStyles: ['sora-fade-in-animation',] }, { slideStyles: ['sora-fade-out-animation',] });\n            }\n            var divElement = that.generateBasicCarousel();\n            var carousel = new CarouselBasic.SingleSlideCarousel(divElement, { index: 0 });\n            document.body.appendChild(divElement);\n            var executionPromise = new Promise(function (resolve, reject) {\n                var animationStatus = goNext(carousel);\n                carousel.getElementsManager().removeElements([2]);\n                expect(carousel.getElementsManager().getCollection().length).toBe(2);\n                Promise.all([\n                    animationStatus.goActionStatus.soraHandlerStatus,\n                ]).then(function () {\n                    var oldActiveElement = animationStatus.oldElement;\n                    var newActiveElement = animationStatus.newElement;\n                    expect(oldActiveElement).toBe(carousel.getElementsManager().getCollection()[0]);\n                    expect(newActiveElement).toBe(carousel.getElementsManager().getCollection()[1]);\n                    resolve();\n                }).catch(function (err) {\n                    reject(err);\n                });\n            });\n            executionPromise.then(function () {\n                document.body.removeChild(divElement);\n                done();\n            }).catch(function (err) {\n                done.fail(err);\n            });\n        }, this.longTimeLimit);\n    }\n    itMustBeAbleToHandleChildrenAnimations() {\n        var that = this;\n        it('mustBeAbleToHandleChildrenAnimations', function (done) {\n            function goNext(carousel) {\n                return that.performGoNext(carousel, {\n                    slideStyles: ['sora-fade-in-animation',],\n                    childrenStyles: [{\n                            selector: 'span',\n                            styles: ['sora-fade-in-animation',],\n                        }],\n                }, {\n                    slideStyles: ['sora-fade-out-animation',],\n                    childrenStyles: [{\n                            selector: 'span',\n                            styles: ['sora-fade-out-animation',],\n                        }],\n                });\n            }\n            function goPrevious(carousel) {\n                return that.performGoPrevious(carousel, {\n                    slideStyles: ['sora-fade-in-animation',],\n                    childrenStyles: [{\n                            selector: 'span',\n                            styles: ['sora-fade-in-animation',],\n                        }],\n                }, {\n                    slideStyles: ['sora-fade-out-animation',],\n                    childrenStyles: [{\n                            selector: 'span',\n                            styles: ['sora-fade-out-animation',],\n                        }],\n                });\n            }\n            var divElement = that.generateBasicCarousel();\n            var carousel = new CarouselBasic.SingleSlideCarousel(divElement, { index: 0 });\n            document.body.appendChild(divElement);\n            var executionPromise = new Promise(function (resolve, reject) {\n                var animationStatus = goNext(carousel);\n                Promise.all([\n                    animationStatus.goActionStatus.soraHandlerStatus,\n                ]).then(function () {\n                    var oldActiveElement = animationStatus.oldElement;\n                    var newActiveElement = animationStatus.newElement;\n                    expect(oldActiveElement).toBe(carousel.getElementsManager().getCollection()[0]);\n                    expect(newActiveElement).toBe(carousel.getElementsManager().getCollection()[1]);\n                    animationStatus = goPrevious(carousel);\n                    Promise.all([\n                        animationStatus.goActionStatus.soraHandlerStatus,\n                    ]).then(function () {\n                        var oldActiveElement = animationStatus.oldElement;\n                        var newActiveElement = animationStatus.newElement;\n                        expect(oldActiveElement).toBe(carousel.getElementsManager().getCollection()[1]);\n                        expect(newActiveElement).toBe(carousel.getElementsManager().getCollection()[0]);\n                        resolve();\n                    }).catch(function (err) {\n                        reject(err);\n                    });\n                }).catch(function (err) {\n                    reject(err);\n                });\n            });\n            executionPromise.then(function () {\n                document.body.removeChild(divElement);\n                done();\n            }).catch(function (err) {\n                done.fail(err);\n            });\n        }, this.longTimeLimit);\n    }\n    itMustBeAbleToPauseAndResumeAnimation() {\n        var that = this;\n        it('mustBeAbleToPauseAndResumeAnimation', function (done) {\n            function goNext(carousel) {\n                return that.performGoNext(carousel, { slideStyles: ['sora-fade-in-animation', 'sora-offset-left-in-animation',] }, { slideStyles: ['sora-fade-out-animation', 'sora-offset-left-out-animation',] });\n            }\n            var divElement = that.generateBasicCarousel();\n            var carousel = new CarouselBasic.SingleSlideCarousel(divElement, { index: 0 });\n            document.body.appendChild(divElement);\n            var executionPromise = new Promise(function (resolve, reject) {\n                var currentIndex = carousel.getActiveIndex();\n                var animationStatus = goNext(carousel);\n                var oldActiveElement = animationStatus.oldElement;\n                var newActiveElement = animationStatus.newElement;\n                expect(oldActiveElement).toBe(carousel.getElementsManager().getCollection()[0]);\n                expect(newActiveElement).toBe(carousel.getElementsManager().getCollection()[1]);\n                carousel.pause();\n                expect(carousel.isPaused()).toBe(true);\n                expect(carousel.getActiveIndex()).toBe(currentIndex);\n                new Promise(function (resolveCh, reject) {\n                    setTimeout(() => {\n                        expect(carousel.isPaused()).toBe(true);\n                        expect(carousel.getActiveIndex()).toBe(currentIndex);\n                        resolveCh();\n                    }, 2000);\n                }).then(function () {\n                    carousel.resume();\n                });\n                Promise.all([\n                    animationStatus.goActionStatus.soraHandlerStatus,\n                ]).then(function () {\n                    resolve();\n                }).catch(function (err) {\n                    reject(err);\n                });\n            });\n            executionPromise.then(function () {\n                document.body.removeChild(divElement);\n                done();\n            }).catch(function (err) {\n                done.fail(err);\n            });\n        }, this.longTimeLimit);\n    }\n    itMustBeAbleToRunComplexAnimations() {\n        var that = this;\n        it('mustBeAbleToRunComplexAnimations', function (done) {\n            function goNext(carousel) {\n                return that.performGoNext(carousel, { slideStyles: ['sora-fade-in-animation', 'sora-offset-left-in-animation',] }, { slideStyles: ['sora-fade-out-animation', 'sora-offset-left-out-animation',] });\n            }\n            function goPrevious(carousel) {\n                return that.performGoPrevious(carousel, { slideStyles: ['sora-fade-in-animation', 'sora-offset-left-in-animation',] }, { slideStyles: ['sora-fade-out-animation', 'sora-offset-left-out-animation',] });\n            }\n            var divElement = that.generateBasicCarousel();\n            var carousel = new CarouselBasic.SingleSlideCarousel(divElement, { index: 0 });\n            document.body.appendChild(divElement);\n            var executionPromise = new Promise(function (resolve, reject) {\n                var animationStatus = goNext(carousel);\n                var oldActiveElement = animationStatus.oldElement;\n                var newActiveElement = animationStatus.newElement;\n                expect(oldActiveElement).toBe(carousel.getElementsManager().getCollection()[0]);\n                expect(newActiveElement).toBe(carousel.getElementsManager().getCollection()[1]);\n                Promise.all([\n                    animationStatus.goActionStatus.soraHandlerStatus,\n                ]).then(function () {\n                    var animationStatus = goPrevious(carousel);\n                    var oldActiveElement = animationStatus.oldElement;\n                    var newActiveElement = animationStatus.newElement;\n                    expect(oldActiveElement).toBe(carousel.getElementsManager().getCollection()[1]);\n                    expect(newActiveElement).toBe(carousel.getElementsManager().getCollection()[0]);\n                    Promise.all([\n                        animationStatus.goActionStatus.soraHandlerStatus,\n                    ]).then(function () {\n                        resolve();\n                    }).catch(function (err) {\n                        reject(err);\n                    });\n                }).catch(function (err) {\n                    reject(err);\n                });\n            });\n            executionPromise.then(function () {\n                document.body.removeChild(divElement);\n                done();\n            }).catch(function (err) {\n                done.fail(err);\n            });\n        }, this.longTimeLimit);\n    }\n}\n\n//# sourceMappingURL=carousel-basic.test.js.map\n","import { CollectionManager, COLLECTION_MANAGER_EVENTS } from '../../../src/collection/collection-manager';\nimport { EventEmitter } from 'events';\nexport class CollectionManagerTests {\n    constructor() {\n    }\n    performTests() {\n        describe('Collection Manager Tests', () => {\n            this.itMustBeInitializable();\n            this.itMustBeAbleToAddElements();\n            this.itMustBeAbleToPreventDefaultActionWhenAddingElements();\n            this.itMustBeAbleToPreventDefaultActionWhenRemovingElements();\n            this.itMustBeAbleToRemoveElements();\n        });\n    }\n    itMustBeInitializable() {\n        it('mustBeInitializable', () => {\n            var collection = new Array();\n            var eventEmitter = new EventEmitter();\n            var collectionManager = new CollectionManager(collection, eventEmitter);\n            expect(collectionManager).not.toBeNull();\n            expect(collectionManager.getCollection()).toBe(collection);\n        });\n    }\n    itMustBeAbleToAddElements() {\n        it('mustBeAbleToAddElements', () => {\n            var collection = [2, 5, 7];\n            var eventEmitter = new EventEmitter();\n            var beforeIsEmitted = false;\n            var afterIsEmitted = false;\n            var expected = [2, 10, 5, 8, 7];\n            var collectionManager = new CollectionManager(collection, eventEmitter);\n            eventEmitter.on(COLLECTION_MANAGER_EVENTS.collectionBeforeChange, function (eventArgs) {\n                var indexMap = eventArgs.getIndexMap();\n                for (var i = 0; i < collection.length; ++i)\n                    expect(indexMap[i]).not.toBeNull();\n                beforeIsEmitted = true;\n            });\n            eventEmitter.on(COLLECTION_MANAGER_EVENTS.collectionAfterChange, function (eventArgs) {\n                afterIsEmitted = true;\n            });\n            collectionManager.insertElements({\n                1: 10,\n                3: 8,\n            });\n            expect(beforeIsEmitted && afterIsEmitted).toBe(true);\n            var actual = collectionManager.getCollection();\n            expect(actual.length).toBe(expected.length);\n            for (var i = 0; i < expected.length; ++i)\n                expect(actual[i]).toBe(expected[i]);\n        });\n    }\n    itMustBeAbleToPreventDefaultActionWhenAddingElements() {\n        it('mustBeAbleToPreventDefaultActionWhenAddingElements', () => {\n            var collection = [2, 5, 7];\n            var eventEmitter = new EventEmitter();\n            var beforeIsEmitted = false;\n            var afterIsEmitted = false;\n            var expected = [2, 5, 7];\n            var collectionManager = new CollectionManager(collection, eventEmitter);\n            eventEmitter.on(COLLECTION_MANAGER_EVENTS.collectionBeforeChange, function (eventArgs) {\n                beforeIsEmitted = true;\n                eventArgs.setPreventDefault();\n            });\n            eventEmitter.on(COLLECTION_MANAGER_EVENTS.collectionAfterChange, function (eventArgs) {\n                afterIsEmitted = true;\n                expect(eventArgs.getPreventDefault()).toBe(true);\n            });\n            collectionManager.insertElements({\n                1: 10,\n                3: 8,\n            });\n            expect(beforeIsEmitted && afterIsEmitted).toBe(true);\n            var actual = collectionManager.getCollection();\n            expect(actual.length).toBe(expected.length);\n            for (var i = 0; i < expected.length; ++i)\n                expect(actual[i]).toBe(expected[i]);\n        });\n    }\n    itMustBeAbleToPreventDefaultActionWhenRemovingElements() {\n        it('mustBeAbleToPreventDefaultActionWhenRemovingElements', () => {\n            var collection = [2, 10, 5, 8, 7];\n            var eventEmitter = new EventEmitter();\n            var beforeIsEmitted = false;\n            var afterIsEmitted = false;\n            var indexesToBeRemoved = [1, 3];\n            var expected = [2, 10, 5, 8, 7];\n            var collectionManager = new CollectionManager(collection, eventEmitter);\n            eventEmitter.on(COLLECTION_MANAGER_EVENTS.collectionBeforeChange, function (eventArgs) {\n                eventArgs.setPreventDefault();\n                beforeIsEmitted = true;\n            });\n            eventEmitter.on(COLLECTION_MANAGER_EVENTS.collectionAfterChange, function (eventArgs) {\n                expect(eventArgs.getPreventDefault()).toBe(true);\n                afterIsEmitted = true;\n            });\n            collectionManager.removeElements(indexesToBeRemoved);\n            expect(beforeIsEmitted && afterIsEmitted).toBe(true);\n            var actual = collectionManager.getCollection();\n            expect(actual.length).toBe(expected.length);\n            for (var i = 0; i < expected.length; ++i)\n                expect(actual[i]).toBe(expected[i]);\n        });\n    }\n    itMustBeAbleToRemoveElements() {\n        it('mustBeAbleToRemoveElements', () => {\n            var collection = [2, 10, 5, 8, 7];\n            var eventEmitter = new EventEmitter();\n            var beforeIsEmitted = false;\n            var afterIsEmitted = false;\n            var indexesToBeRemoved = [1, 3];\n            var expected = [2, 5, 7];\n            var collectionManager = new CollectionManager(collection, eventEmitter);\n            eventEmitter.on(COLLECTION_MANAGER_EVENTS.collectionBeforeChange, function (eventArgs) {\n                var indexMap = eventArgs.getIndexMap();\n                for (var i = 0; i < indexesToBeRemoved.length; ++i)\n                    expect(indexMap[indexesToBeRemoved[i]]).toBeUndefined();\n                beforeIsEmitted = true;\n            });\n            eventEmitter.on(COLLECTION_MANAGER_EVENTS.collectionAfterChange, function (eventArgs) {\n                afterIsEmitted = true;\n            });\n            collectionManager.removeElements(indexesToBeRemoved);\n            expect(beforeIsEmitted && afterIsEmitted).toBe(true);\n            var actual = collectionManager.getCollection();\n            expect(actual.length).toBe(expected.length);\n            for (var i = 0; i < expected.length; ++i)\n                expect(actual[i]).toBe(expected[i]);\n        });\n    }\n}\n\n//# sourceMappingURL=collection-manager.test.js.map\n","module.exports = { \"default\": require(\"core-js/library/fn/object/assign\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/object/create\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/object/get-own-property-descriptor\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/object/get-prototype-of\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/object/set-prototype-of\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/promise\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/symbol\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/symbol/iterator\"), __esModule: true };","\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();","\"use strict\";\n\nexports.__esModule = true;\n\nvar _getPrototypeOf = require(\"../core-js/object/get-prototype-of\");\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _getOwnPropertyDescriptor = require(\"../core-js/object/get-own-property-descriptor\");\n\nvar _getOwnPropertyDescriptor2 = _interopRequireDefault(_getOwnPropertyDescriptor);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function get(object, property, receiver) {\n  if (object === null) object = Function.prototype;\n  var desc = (0, _getOwnPropertyDescriptor2.default)(object, property);\n\n  if (desc === undefined) {\n    var parent = (0, _getPrototypeOf2.default)(object);\n\n    if (parent === null) {\n      return undefined;\n    } else {\n      return get(parent, property, receiver);\n    }\n  } else if (\"value\" in desc) {\n    return desc.value;\n  } else {\n    var getter = desc.get;\n\n    if (getter === undefined) {\n      return undefined;\n    }\n\n    return getter.call(receiver);\n  }\n};","\"use strict\";\n\nexports.__esModule = true;\n\nvar _setPrototypeOf = require(\"../core-js/object/set-prototype-of\");\n\nvar _setPrototypeOf2 = _interopRequireDefault(_setPrototypeOf);\n\nvar _create = require(\"../core-js/object/create\");\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(superClass)));\n  }\n\n  subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;\n};","\"use strict\";\n\nexports.__esModule = true;\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && ((typeof call === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(call)) === \"object\" || typeof call === \"function\") ? call : self;\n};","\"use strict\";\n\nexports.__esModule = true;\n\nvar _iterator = require(\"../core-js/symbol/iterator\");\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _symbol = require(\"../core-js/symbol\");\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _typeof = typeof _symbol2.default === \"function\" && typeof _iterator2.default === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = typeof _symbol2.default === \"function\" && _typeof(_iterator2.default) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n};","require('../../modules/es6.object.assign');\nmodule.exports = require('../../modules/_core').Object.assign;\n","require('../../modules/es6.object.create');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function create(P, D) {\n  return $Object.create(P, D);\n};\n","require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n","require('../../modules/es6.object.get-own-property-descriptor');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function getOwnPropertyDescriptor(it, key) {\n  return $Object.getOwnPropertyDescriptor(it, key);\n};\n","require('../../modules/es6.object.get-prototype-of');\nmodule.exports = require('../../modules/_core').Object.getPrototypeOf;\n","require('../../modules/es6.object.set-prototype-of');\nmodule.exports = require('../../modules/_core').Object.setPrototypeOf;\n","require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.promise');\nrequire('../modules/es7.promise.finally');\nrequire('../modules/es7.promise.try');\nmodule.exports = require('../modules/_core').Promise;\n","require('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nrequire('../../modules/es7.symbol.async-iterator');\nrequire('../../modules/es7.symbol.observable');\nmodule.exports = require('../../modules/_core').Symbol;\n","require('../../modules/es6.string.iterator');\nrequire('../../modules/web.dom.iterable');\nmodule.exports = require('../../modules/_wks-ext').f('iterator');\n","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","module.exports = function () { /* empty */ };\n","module.exports = function (it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof');\nvar TAG = require('./_wks')('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var core = module.exports = { version: '2.5.7' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n","// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar ctx = require('./_ctx');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var IS_WRAP = type & $export.W;\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE];\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];\n  var key, own, out;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if (own && has(exports, key)) continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function (C) {\n      var F = function (a, b, c) {\n        if (this instanceof C) {\n          switch (arguments.length) {\n            case 0: return new C();\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if (IS_PROTO) {\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","var ctx = require('./_ctx');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar getIterFn = require('./core.get-iterator-method');\nvar BREAK = {};\nvar RETURN = {};\nvar exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);\n  var f = ctx(fn, that, entries ? 2 : 1);\n  var index = 0;\n  var length, step, iterator, result;\n  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if (result === BREAK || result === RETURN) return result;\n  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n    result = call(iterator, f, step.value, entries);\n    if (result === BREAK || result === RETURN) return result;\n  }\n};\nexports.BREAK = BREAK;\nexports.RETURN = RETURN;\n","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function (fn, args, that) {\n  var un = that === undefined;\n  switch (args.length) {\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return fn.apply(that, args);\n};\n","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n","// check on default Array iterator\nvar Iterators = require('./_iterators');\nvar ITERATOR = require('./_wks')('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n","var ITERATOR = require('./_wks')('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n","module.exports = {};\n","module.exports = true;\n","var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n","var global = require('./_global');\nvar macrotask = require('./_task').set;\nvar Observer = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar isNode = require('./_cof')(process) == 'process';\n\nmodule.exports = function () {\n  var head, last, notify;\n\n  var flush = function () {\n    var parent, fn;\n    if (isNode && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (e) {\n        if (head) notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (isNode) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver, except iOS Safari - https://github.com/zloirock/core-js/issues/339\n  } else if (Observer && !(global.navigator && global.navigator.standalone)) {\n    var toggle = true;\n    var node = document.createTextNode('');\n    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    var promise = Promise.resolve(undefined);\n    notify = function () {\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n","'use strict';\n// 25.4.1.5 NewPromiseCapability(C)\nvar aFunction = require('./_a-function');\n\nfunction PromiseCapability(C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n}\n\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) if (isEnum.call(S, key = keys[j++])) T[key] = S[key];\n  } return T;\n} : $assign;\n","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject');\nvar gOPN = require('./_object-gopn').f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n","exports.f = Object.getOwnPropertySymbols;\n","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n","exports.f = {}.propertyIsEnumerable;\n","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","module.exports = function (exec) {\n  try {\n    return { e: false, v: exec() };\n  } catch (e) {\n    return { e: true, v: e };\n  }\n};\n","var anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar newPromiseCapability = require('./_new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var hide = require('./_hide');\nmodule.exports = function (target, src, safe) {\n  for (var key in src) {\n    if (safe && target[key]) target[key] = src[key];\n    else hide(target, key, src[key]);\n  } return target;\n};\n","module.exports = require('./_hide');\n","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n","'use strict';\nvar global = require('./_global');\nvar core = require('./_core');\nvar dP = require('./_object-dp');\nvar DESCRIPTORS = require('./_descriptors');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (KEY) {\n  var C = typeof core[KEY] == 'function' ? core[KEY] : global[KEY];\n  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {\n    configurable: true,\n    get: function () { return this; }\n  });\n};\n","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n","var core = require('./_core');\nvar global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: core.version,\n  mode: require('./_library') ? 'pure' : 'global',\n  copyright: ' 2018 Denis Pushkarev (zloirock.ru)'\n});\n","// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject = require('./_an-object');\nvar aFunction = require('./_a-function');\nvar SPECIES = require('./_wks')('species');\nmodule.exports = function (O, D) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n","var toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n","var ctx = require('./_ctx');\nvar invoke = require('./_invoke');\nvar html = require('./_html');\nvar cel = require('./_dom-create');\nvar global = require('./_global');\nvar process = global.process;\nvar setTask = global.setImmediate;\nvar clearTask = global.clearImmediate;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\nvar run = function () {\n  var id = +this;\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function (event) {\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!setTask || !clearTask) {\n  setTask = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (require('./_cof')(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if (MessageChannel) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {\n    defer = function (id) {\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in cel('script')) {\n    defer = function (id) {\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set: setTask,\n  clear: clearTask\n};\n","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n","var global = require('./_global');\nvar navigator = global.navigator;\n\nmodule.exports = navigator && navigator.userAgent || '';\n","var global = require('./_global');\nvar core = require('./_core');\nvar LIBRARY = require('./_library');\nvar wksExt = require('./_wks-ext');\nvar defineProperty = require('./_object-dp').f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n","exports.f = require('./_wks');\n","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', { assign: require('./_object-assign') });\n","var $export = require('./_export');\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', { create: require('./_object-create') });\n","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n","// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\nvar toIObject = require('./_to-iobject');\nvar $getOwnPropertyDescriptor = require('./_object-gopd').f;\n\nrequire('./_object-sap')('getOwnPropertyDescriptor', function () {\n  return function getOwnPropertyDescriptor(it, key) {\n    return $getOwnPropertyDescriptor(toIObject(it), key);\n  };\n});\n","// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject = require('./_to-object');\nvar $getPrototypeOf = require('./_object-gpo');\n\nrequire('./_object-sap')('getPrototypeOf', function () {\n  return function getPrototypeOf(it) {\n    return $getPrototypeOf(toObject(it));\n  };\n});\n","// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = require('./_export');\n$export($export.S, 'Object', { setPrototypeOf: require('./_set-proto').set });\n",null,"'use strict';\nvar LIBRARY = require('./_library');\nvar global = require('./_global');\nvar ctx = require('./_ctx');\nvar classof = require('./_classof');\nvar $export = require('./_export');\nvar isObject = require('./_is-object');\nvar aFunction = require('./_a-function');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar speciesConstructor = require('./_species-constructor');\nvar task = require('./_task').set;\nvar microtask = require('./_microtask')();\nvar newPromiseCapabilityModule = require('./_new-promise-capability');\nvar perform = require('./_perform');\nvar userAgent = require('./_user-agent');\nvar promiseResolve = require('./_promise-resolve');\nvar PROMISE = 'Promise';\nvar TypeError = global.TypeError;\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8 || '';\nvar $Promise = global[PROMISE];\nvar isNode = classof(process) == 'process';\nvar empty = function () { /* empty */ };\nvar Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;\nvar newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;\n\nvar USE_NATIVE = !!function () {\n  try {\n    // correct subclassing with @@species support\n    var promise = $Promise.resolve(1);\n    var FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function (exec) {\n      exec(empty, empty);\n    };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function')\n      && promise.then(empty) instanceof FakePromise\n      // v8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n      // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n      // we can't detect it synchronously, so just check versions\n      && v8.indexOf('6.6') !== 0\n      && userAgent.indexOf('Chrome/66') === -1;\n  } catch (e) { /* empty */ }\n}();\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar notify = function (promise, isReject) {\n  if (promise._n) return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function () {\n    var value = promise._v;\n    var ok = promise._s == 1;\n    var i = 0;\n    var run = function (reaction) {\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (promise._h == 2) onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // may throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (e) {\n        if (domain && !exited) domain.exit();\n        reject(e);\n      }\n    };\n    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if (isReject && !promise._h) onUnhandled(promise);\n  });\n};\nvar onUnhandled = function (promise) {\n  task.call(global, function () {\n    var value = promise._v;\n    var unhandled = isUnhandled(promise);\n    var result, handler, console;\n    if (unhandled) {\n      result = perform(function () {\n        if (isNode) {\n          process.emit('unhandledRejection', value, promise);\n        } else if (handler = global.onunhandledrejection) {\n          handler({ promise: promise, reason: value });\n        } else if ((console = global.console) && console.error) {\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if (unhandled && result.e) throw result.v;\n  });\n};\nvar isUnhandled = function (promise) {\n  return promise._h !== 1 && (promise._a || promise._c).length === 0;\n};\nvar onHandleUnhandled = function (promise) {\n  task.call(global, function () {\n    var handler;\n    if (isNode) {\n      process.emit('rejectionHandled', promise);\n    } else if (handler = global.onrejectionhandled) {\n      handler({ promise: promise, reason: promise._v });\n    }\n  });\n};\nvar $reject = function (value) {\n  var promise = this;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if (!promise._a) promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function (value) {\n  var promise = this;\n  var then;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    if (then = isThenable(value)) {\n      microtask(function () {\n        var wrapper = { _w: promise, _d: false }; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch (e) {\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch (e) {\n    $reject.call({ _w: promise, _d: false }, e); // wrap\n  }\n};\n\n// constructor polyfill\nif (!USE_NATIVE) {\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor) {\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch (err) {\n      $reject.call(this, err);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = require('./_redefine-all')($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected) {\n      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if (this._a) this._a.push(reaction);\n      if (this._s) notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject = ctx($reject, promise, 1);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === $Promise || C === Wrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });\nrequire('./_set-to-string-tag')($Promise, PROMISE);\nrequire('./_set-species')(PROMISE);\nWrapper = require('./_core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    var $$reject = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x) {\n    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function (iter) {\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var values = [];\n      var index = 0;\n      var remaining = 1;\n      forOf(iterable, false, function (promise) {\n        var $index = index++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      forOf(iterable, false, function (promise) {\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  }\n});\n","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n","'use strict';\n// ECMAScript 6 symbols shim\nvar global = require('./_global');\nvar has = require('./_has');\nvar DESCRIPTORS = require('./_descriptors');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar META = require('./_meta').KEY;\nvar $fails = require('./_fails');\nvar shared = require('./_shared');\nvar setToStringTag = require('./_set-to-string-tag');\nvar uid = require('./_uid');\nvar wks = require('./_wks');\nvar wksExt = require('./_wks-ext');\nvar wksDefine = require('./_wks-define');\nvar enumKeys = require('./_enum-keys');\nvar isArray = require('./_is-array');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar createDesc = require('./_property-desc');\nvar _create = require('./_object-create');\nvar gOPNExt = require('./_object-gopn-ext');\nvar $GOPD = require('./_object-gopd');\nvar $DP = require('./_object-dp');\nvar $keys = require('./_object-keys');\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function';\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f = $propertyIsEnumerable;\n  require('./_object-gops').f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !require('./_library')) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    $replacer = replacer = args[1];\n    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    if (!isArray(replacer)) replacer = function (key, value) {\n      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n","// https://github.com/tc39/proposal-promise-finally\n'use strict';\nvar $export = require('./_export');\nvar core = require('./_core');\nvar global = require('./_global');\nvar speciesConstructor = require('./_species-constructor');\nvar promiseResolve = require('./_promise-resolve');\n\n$export($export.P + $export.R, 'Promise', { 'finally': function (onFinally) {\n  var C = speciesConstructor(this, core.Promise || global.Promise);\n  var isFunction = typeof onFinally == 'function';\n  return this.then(\n    isFunction ? function (x) {\n      return promiseResolve(C, onFinally()).then(function () { return x; });\n    } : onFinally,\n    isFunction ? function (e) {\n      return promiseResolve(C, onFinally()).then(function () { throw e; });\n    } : onFinally\n  );\n} });\n","'use strict';\n// https://github.com/tc39/proposal-promise-try\nvar $export = require('./_export');\nvar newPromiseCapability = require('./_new-promise-capability');\nvar perform = require('./_perform');\n\n$export($export.S, 'Promise', { 'try': function (callbackfn) {\n  var promiseCapability = newPromiseCapability.f(this);\n  var result = perform(callbackfn);\n  (result.e ? promiseCapability.reject : promiseCapability.resolve)(result.v);\n  return promiseCapability.promise;\n} });\n","require('./_wks-define')('asyncIterator');\n","require('./_wks-define')('observable');\n","require('./es6.array.iterator');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar TO_STRING_TAG = require('./_wks')('toStringTag');\n\nvar DOMIterables = ('CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,' +\n  'DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,' +\n  'MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,' +\n  'SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,' +\n  'TextTrackList,TouchList').split(',');\n\nfor (var i = 0; i < DOMIterables.length; i++) {\n  var NAME = DOMIterables[i];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  if (proto && !proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar objectCreate = Object.create || objectCreatePolyfill\nvar objectKeys = Object.keys || objectKeysPolyfill\nvar bind = Function.prototype.bind || functionBindPolyfill\n\nfunction EventEmitter() {\n  if (!this._events || !Object.prototype.hasOwnProperty.call(this, '_events')) {\n    this._events = objectCreate(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nvar hasDefineProperty;\ntry {\n  var o = {};\n  if (Object.defineProperty) Object.defineProperty(o, 'x', { value: 0 });\n  hasDefineProperty = o.x === 0;\n} catch (err) { hasDefineProperty = false }\nif (hasDefineProperty) {\n  Object.defineProperty(EventEmitter, 'defaultMaxListeners', {\n    enumerable: true,\n    get: function() {\n      return defaultMaxListeners;\n    },\n    set: function(arg) {\n      // check whether the input is a positive number (whose value is zero or\n      // greater and not a NaN).\n      if (typeof arg !== 'number' || arg < 0 || arg !== arg)\n        throw new TypeError('\"defaultMaxListeners\" must be a positive number');\n      defaultMaxListeners = arg;\n    }\n  });\n} else {\n  EventEmitter.defaultMaxListeners = defaultMaxListeners;\n}\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || isNaN(n))\n    throw new TypeError('\"n\" argument must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nfunction $getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return $getMaxListeners(this);\n};\n\n// These standalone emit* functions are used to optimize calling of event\n// handlers for fast cases because emit() itself often has a variable number of\n// arguments and can be deoptimized because of that. These functions always have\n// the same number of arguments and thus do not get deoptimized, so the code\n// inside them can execute faster.\nfunction emitNone(handler, isFn, self) {\n  if (isFn)\n    handler.call(self);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self);\n  }\n}\nfunction emitOne(handler, isFn, self, arg1) {\n  if (isFn)\n    handler.call(self, arg1);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1);\n  }\n}\nfunction emitTwo(handler, isFn, self, arg1, arg2) {\n  if (isFn)\n    handler.call(self, arg1, arg2);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1, arg2);\n  }\n}\nfunction emitThree(handler, isFn, self, arg1, arg2, arg3) {\n  if (isFn)\n    handler.call(self, arg1, arg2, arg3);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1, arg2, arg3);\n  }\n}\n\nfunction emitMany(handler, isFn, self, args) {\n  if (isFn)\n    handler.apply(self, args);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].apply(self, args);\n  }\n}\n\nEventEmitter.prototype.emit = function emit(type) {\n  var er, handler, len, args, i, events;\n  var doError = (type === 'error');\n\n  events = this._events;\n  if (events)\n    doError = (doError && events.error == null);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    if (arguments.length > 1)\n      er = arguments[1];\n    if (er instanceof Error) {\n      throw er; // Unhandled 'error' event\n    } else {\n      // At least give some kind of context to the user\n      var err = new Error('Unhandled \"error\" event. (' + er + ')');\n      err.context = er;\n      throw err;\n    }\n    return false;\n  }\n\n  handler = events[type];\n\n  if (!handler)\n    return false;\n\n  var isFn = typeof handler === 'function';\n  len = arguments.length;\n  switch (len) {\n      // fast cases\n    case 1:\n      emitNone(handler, isFn, this);\n      break;\n    case 2:\n      emitOne(handler, isFn, this, arguments[1]);\n      break;\n    case 3:\n      emitTwo(handler, isFn, this, arguments[1], arguments[2]);\n      break;\n    case 4:\n      emitThree(handler, isFn, this, arguments[1], arguments[2], arguments[3]);\n      break;\n      // slower\n    default:\n      args = new Array(len - 1);\n      for (i = 1; i < len; i++)\n        args[i - 1] = arguments[i];\n      emitMany(handler, isFn, this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  if (typeof listener !== 'function')\n    throw new TypeError('\"listener\" argument must be a function');\n\n  events = target._events;\n  if (!events) {\n    events = target._events = objectCreate(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener) {\n      target.emit('newListener', type,\n          listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (!existing) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n          prepend ? [listener, existing] : [existing, listener];\n    } else {\n      // If we've already got an array, just append.\n      if (prepend) {\n        existing.unshift(listener);\n      } else {\n        existing.push(listener);\n      }\n    }\n\n    // Check for listener leak\n    if (!existing.warned) {\n      m = $getMaxListeners(target);\n      if (m && m > 0 && existing.length > m) {\n        existing.warned = true;\n        var w = new Error('Possible EventEmitter memory leak detected. ' +\n            existing.length + ' \"' + String(type) + '\" listeners ' +\n            'added. Use emitter.setMaxListeners() to ' +\n            'increase limit.');\n        w.name = 'MaxListenersExceededWarning';\n        w.emitter = target;\n        w.type = type;\n        w.count = existing.length;\n        if (typeof console === 'object' && console.warn) {\n          console.warn('%s: %s', w.name, w.message);\n        }\n      }\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    switch (arguments.length) {\n      case 0:\n        return this.listener.call(this.target);\n      case 1:\n        return this.listener.call(this.target, arguments[0]);\n      case 2:\n        return this.listener.call(this.target, arguments[0], arguments[1]);\n      case 3:\n        return this.listener.call(this.target, arguments[0], arguments[1],\n            arguments[2]);\n      default:\n        var args = new Array(arguments.length);\n        for (var i = 0; i < args.length; ++i)\n          args[i] = arguments[i];\n        this.listener.apply(this.target, args);\n    }\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = bind.call(onceWrapper, state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  if (typeof listener !== 'function')\n    throw new TypeError('\"listener\" argument must be a function');\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      if (typeof listener !== 'function')\n        throw new TypeError('\"listener\" argument must be a function');\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      if (typeof listener !== 'function')\n        throw new TypeError('\"listener\" argument must be a function');\n\n      events = this._events;\n      if (!events)\n        return this;\n\n      list = events[type];\n      if (!list)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = objectCreate(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else\n          spliceOne(list, position);\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (!events)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (!events.removeListener) {\n        if (arguments.length === 0) {\n          this._events = objectCreate(null);\n          this._eventsCount = 0;\n        } else if (events[type]) {\n          if (--this._eventsCount === 0)\n            this._events = objectCreate(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = objectKeys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = objectCreate(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (!events)\n    return [];\n\n  var evlistener = events[type];\n  if (!evlistener)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ? unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? Reflect.ownKeys(this._events) : [];\n};\n\n// About 1.5x faster than the two-arg version of Array#splice().\nfunction spliceOne(list, index) {\n  for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1)\n    list[i] = list[k];\n  list.pop();\n}\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction objectCreatePolyfill(proto) {\n  var F = function() {};\n  F.prototype = proto;\n  return new F;\n}\nfunction objectKeysPolyfill(obj) {\n  var keys = [];\n  for (var k in obj) if (Object.prototype.hasOwnProperty.call(obj, k)) {\n    keys.push(k);\n  }\n  return k;\n}\nfunction functionBindPolyfill(context) {\n  var fn = this;\n  return function () {\n    return fn.apply(context, arguments);\n  };\n}\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJkaXN0L2pzL3RtcC9zcmMvY2Fyb3VzZWwvYW5pbWF0aW9uL2FuaW1hdGlvbi1lbmdpbmUuanMiLCJkaXN0L2pzL3RtcC9zcmMvY2Fyb3VzZWwvYW5pbWF0aW9uL2FuaW1hdGlvbi1wbGF5LXN0YXRlLmpzIiwiZGlzdC9qcy90bXAvc3JjL2Nhcm91c2VsL2FuaW1hdGlvbi9vcGVyYXRpb24tbWFuYWdlci5qcyIsImRpc3QvanMvdG1wL3NyYy9jYXJvdXNlbC9jYXJvdXNlbC1iYXNlLmpzIiwiZGlzdC9qcy90bXAvc3JjL2Nhcm91c2VsL2Nhcm91c2VsLWJhc2ljLmpzIiwiZGlzdC9qcy90bXAvc3JjL2NvbGxlY3Rpb24vY29sbGVjdGlvbi1tYW5hZ2VyLmpzIiwiZGlzdC9qcy90bXAvc3JjL2NvbGxlY3Rpb24vaHRtbC1jaGlsZHJlbi1tYW5hZ2VyLmpzIiwiZGlzdC9qcy90bXAvc3JjL21haW4udGVzdC5qcyIsImRpc3QvanMvdG1wL3NyYy90ZXN0L2Nhcm91c2VsL2Nhcm91c2VsLWJhc2ljLnRlc3QuanMiLCJkaXN0L2pzL3RtcC9zcmMvdGVzdC9jb2xsZWN0aW9uL2NvbGxlY3Rpb24tbWFuYWdlci50ZXN0LmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvYXNzaWduLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZi5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L3NldC1wcm90b3R5cGUtb2YuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbC5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sL2l0ZXJhdG9yLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjay5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldC5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4uanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL3R5cGVvZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2Fzc2lnbi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2NyZWF0ZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1wcm90b3R5cGUtb2YuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9zZXQtcHJvdG90eXBlLW9mLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wvaW5kZXguanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbC9pdGVyYXRvci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYS1mdW5jdGlvbi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYWRkLXRvLXVuc2NvcGFibGVzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hbi1pbnN0YW5jZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYW4tb2JqZWN0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hcnJheS1pbmNsdWRlcy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY2xhc3NvZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY29mLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jb3JlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jdHguanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2RlZmluZWQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2Rlc2NyaXB0b3JzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kb20tY3JlYXRlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19lbnVtLWJ1Zy1rZXlzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19lbnVtLWtleXMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2V4cG9ydC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZmFpbHMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2Zvci1vZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZ2xvYmFsLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19oYXMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2hpZGUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2h0bWwuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2llOC1kb20tZGVmaW5lLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pbnZva2UuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lvYmplY3QuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lzLWFycmF5LWl0ZXIuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lzLWFycmF5LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pcy1vYmplY3QuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItY2FsbC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1jcmVhdGUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItZGVmaW5lLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLWRldGVjdC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1zdGVwLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyYXRvcnMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2xpYnJhcnkuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX21ldGEuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX21pY3JvdGFzay5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fbmV3LXByb21pc2UtY2FwYWJpbGl0eS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWFzc2lnbi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWNyZWF0ZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWRwLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZHBzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ29wZC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdvcG4tZXh0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ29wbi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdvcHMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1ncG8uanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1rZXlzLWludGVybmFsLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3Qta2V5cy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LXBpZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LXNhcC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fcGVyZm9ybS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fcHJvbWlzZS1yZXNvbHZlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19wcm9wZXJ0eS1kZXNjLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19yZWRlZmluZS1hbGwuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3JlZGVmaW5lLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zZXQtcHJvdG8uanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NldC1zcGVjaWVzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zZXQtdG8tc3RyaW5nLXRhZy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2hhcmVkLWtleS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2hhcmVkLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zcGVjaWVzLWNvbnN0cnVjdG9yLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zdHJpbmctYXQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3Rhc2suanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWFic29sdXRlLWluZGV4LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pbnRlZ2VyLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pb2JqZWN0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1sZW5ndGguanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLW9iamVjdC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tcHJpbWl0aXZlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL191aWQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3VzZXItYWdlbnQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy1kZWZpbmUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy1leHQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LmFycmF5Lml0ZXJhdG9yLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuYXNzaWduLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuY3JlYXRlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuZGVmaW5lLXByb3BlcnR5LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LnNldC1wcm90b3R5cGUtb2YuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmcuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LnByb21pc2UuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYuc3ltYm9sLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNy5wcm9taXNlLmZpbmFsbHkuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM3LnByb21pc2UudHJ5LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3IuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM3LnN5bWJvbC5vYnNlcnZhYmxlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUuanMiLCJub2RlX21vZHVsZXMvZXZlbnRzL2V2ZW50cy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNBQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUNPLElBQU0sa0VBQTZCO0FBQ3RDLG1CQUFlLFVBRHVCO0FBRXRDLHFCQUFpQixZQUZxQjtBQUd0QyxXQUFPLE9BSCtCO0FBSXRDLGNBQVU7QUFKNEIsQ0FBbkM7QUFNQSxJQUFNLGtF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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwQkE7QUFDQTtBQUNBOztBQ0ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0xBO0FBQ0E7QUFDQTs7QUNGQTtBQUNBO0FBQ0E7O0FDRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBOztBQ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7O0FDRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1BBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDZkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1BBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7QUFDQTs7QUNGQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0xBO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDYkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDckVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdEJBO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0E7O0FDREE7QUFDQTs7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDckRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7QUFDQTs7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNQQTtBQUNBOztBQ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNQQTtBQUNBOztBQ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNkQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1BBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNUQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1BBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNUQTtBQUNBOztBQ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNYQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNUQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNUQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1pBO0FBQ0E7O0FDREE7QUFDQTs7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiaW1wb3J0IHsgRXZlbnRFbWl0dGVyIH0gZnJvbSBcImV2ZW50c1wiO1xuaW1wb3J0IHsgQ2Fyb3VzZWxCYXNlIH0gZnJvbSBcIi4uL2Nhcm91c2VsLWJhc2VcIjtcbmltcG9ydCB7IEFuaW1hdGlvblBsYXlTdGF0ZVZhbHVlIH0gZnJvbSBcIi4vYW5pbWF0aW9uLXBsYXktc3RhdGVcIjtcbmltcG9ydCB7IE9wZXJhdGlvbk1hbmFnZXIgfSBmcm9tIFwiLi9vcGVyYXRpb24tbWFuYWdlclwiO1xuZXhwb3J0IGNvbnN0IEFOSU1BVElPTl9DT05TVFJBSU5UX1RZUEVTID0ge1xuICAgIEFOSU1BVElPTl9FTkQ6ICdhbmltLmVuZCcsXG4gICAgQU5JTUFUSU9OX1NUQVJUOiAnYW5pbS5zdGFydCcsXG4gICAgR1JPVVA6ICdncm91cCcsXG4gICAgV0FJVF9GT1I6ICd3YWl0Jyxcbn07XG5leHBvcnQgY29uc3QgQU5JTUFUSU9OX09QRVJBVElPTl9FVkVOVFMgPSB7XG4gICAgQU5JTUFUSU9OX0NBTkNFTDogJ2FuaW0uY2FuY2VsJyxcbiAgICBBTklNQVRJT05fU1RBVEVfQ0hBTkdFOiAnYW5pbS5zdGF0ZS5jaGFuZ2UnLFxufTtcbmNvbnN0IEFOSU1BVElPTl9QQVJUX1dIRU5fRVZFTlRfUFJFRklYRVMgPSB7XG4gICAgQU5JTUFUSU9OX1NUQVJUOiAnYW5pbS5zdGFydC4nLFxuICAgIEFOSU1BVElPTl9FTkQ6ICdhbmltLmVuZC4nLFxufTtcbmV4cG9ydCB2YXIgQW5pbWF0aW9uUGFydFdoZW5PcGVyYXRvcjtcbihmdW5jdGlvbiAoQW5pbWF0aW9uUGFydFdoZW5PcGVyYXRvcikge1xuICAgIEFuaW1hdGlvblBhcnRXaGVuT3BlcmF0b3JbQW5pbWF0aW9uUGFydFdoZW5PcGVyYXRvcltcIkFORFwiXSA9IDBdID0gXCJBTkRcIjtcbiAgICBBbmltYXRpb25QYXJ0V2hlbk9wZXJhdG9yW0FuaW1hdGlvblBhcnRXaGVuT3BlcmF0b3JbXCJPUlwiXSA9IDFdID0gXCJPUlwiO1xufSkoQW5pbWF0aW9uUGFydFdoZW5PcGVyYXRvciB8fCAoQW5pbWF0aW9uUGFydFdoZW5PcGVyYXRvciA9IHt9KSk7XG5leHBvcnQgY2xhc3MgQW5pbWF0aW9uUGFydFdoZW5Db25zdHJhaW50IHtcbiAgICBjb25zdHJ1Y3RvcihhZnRlciwgY29uc3RyYWludFR5cGUpIHtcbiAgICAgICAgdGhpcy5hZnRlciA9IGFmdGVyO1xuICAgICAgICB0aGlzLmNvbnN0cmFpbnRUeXBlID0gY29uc3RyYWludFR5cGU7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEFuaW1hdGlvblBhcnRDb25zdHJhaW50IGV4dGVuZHMgQW5pbWF0aW9uUGFydFdoZW5Db25zdHJhaW50IHtcbiAgICBjb25zdHJ1Y3RvcihhZnRlciwgYWxpYXMsIGNvbnN0cmFpbnRUeXBlKSB7XG4gICAgICAgIHN1cGVyKGFmdGVyLCBjb25zdHJhaW50VHlwZSk7XG4gICAgICAgIHRoaXMuYWxpYXMgPSBhbGlhcztcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQW5pbWF0aW9uUGFydEJlZ2luQ29uc3RyYWludCBleHRlbmRzIEFuaW1hdGlvblBhcnRDb25zdHJhaW50IHtcbiAgICBjb25zdHJ1Y3RvcihhZnRlciwgYWxpYXMpIHtcbiAgICAgICAgc3VwZXIoYWZ0ZXIsIGFsaWFzLCBBTklNQVRJT05fQ09OU1RSQUlOVF9UWVBFUy5BTklNQVRJT05fU1RBUlQpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBBbmltYXRpb25QYXJ0RW5kQ29uc3RyYWludCBleHRlbmRzIEFuaW1hdGlvblBhcnRDb25zdHJhaW50IHtcbiAgICBjb25zdHJ1Y3RvcihhZnRlciwgYWxpYXMpIHtcbiAgICAgICAgc3VwZXIoYWZ0ZXIsIGFsaWFzLCBBTklNQVRJT05fQ09OU1RSQUlOVF9UWVBFUy5BTklNQVRJT05fRU5EKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQW5pbWF0aW9uVGltZUNvbnN0cmFpbnQgZXh0ZW5kcyBBbmltYXRpb25QYXJ0V2hlbkNvbnN0cmFpbnQge1xuICAgIGNvbnN0cnVjdG9yKGFmdGVyLCBtaWxsaXMpIHtcbiAgICAgICAgc3VwZXIoYWZ0ZXIsIEFOSU1BVElPTl9DT05TVFJBSU5UX1RZUEVTLldBSVRfRk9SKTtcbiAgICAgICAgdGhpcy5taWxsaXMgPSBtaWxsaXM7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEFuaW1hdGlvbkdyb3VwQ29uc3RyYWludCBleHRlbmRzIEFuaW1hdGlvblBhcnRXaGVuQ29uc3RyYWludCB7XG4gICAgY29uc3RydWN0b3IoYWZ0ZXIsIGNvbnN0cmFpbnRzLCBvcGVyYXRvcikge1xuICAgICAgICBzdXBlcihhZnRlciwgQU5JTUFUSU9OX0NPTlNUUkFJTlRfVFlQRVMuR1JPVVApO1xuICAgICAgICB0aGlzLmNvbnN0cmFpbnRzID0gY29uc3RyYWludHM7XG4gICAgICAgIHRoaXMub3BlcmF0b3IgPSBvcGVyYXRvcjtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgU2luZ2xlQW5pbWF0aW9uRW5naW5lIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5ldmVudEVtaXR0ZXIgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9uQ2FuY2VsTWFuYWdlciA9IG5ldyBPcGVyYXRpb25NYW5hZ2VyKEFOSU1BVElPTl9PUEVSQVRJT05fRVZFTlRTLkFOSU1BVElPTl9DQU5DRUwsIHRoaXMuZXZlbnRFbWl0dGVyKTtcbiAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZUNoYW5nZU1hbmFnZXIgPSBuZXcgT3BlcmF0aW9uTWFuYWdlcihBTklNQVRJT05fT1BFUkFUSU9OX0VWRU5UUy5BTklNQVRJT05fU1RBVEVfQ0hBTkdFLCB0aGlzLmV2ZW50RW1pdHRlcik7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9uQ2FuY2VsTWFuYWdlci5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGVDaGFuZ2VNYW5hZ2VyLmRpc3Bvc2UoKTtcbiAgICB9XG4gICAgaGFuZGxlKGFuaW1hdGlvbkZsb3cpIHtcbiAgICAgICAgaWYgKGFuaW1hdGlvbkZsb3cgPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSXRcXCdzIHJlcXVpcmVkIGFuIGFuaW1hdGlvbiBmbG93LicpO1xuICAgICAgICBpZiAoYW5pbWF0aW9uRmxvdy5wYXJ0cyA9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJdFxcJ3MgcmVxdWlyZWQgYW4gYW5pbWF0aW9uIGZsb3cgd2l0aCBwYXJ0cy4nKTtcbiAgICAgICAgdGhpcy5hbmltYXRpb24gPSBhbmltYXRpb25GbG93O1xuICAgICAgICB2YXIgcGFydFByb21pc2VzID0gbmV3IEFycmF5KGFuaW1hdGlvbkZsb3cucGFydHMubGVuZ3RoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbmltYXRpb25GbG93LnBhcnRzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgcGFydFByb21pc2VzW2ldID0gdGhpcy5oYW5kbGVBbmltYXRpb25QYXJ0KGFuaW1hdGlvbkZsb3cucGFydHNbaV0pO1xuICAgICAgICByZXR1cm4gcGFydFByb21pc2VzO1xuICAgIH1cbiAgICBoYW5kbGVBbmltYXRpb25QYXJ0KHBhcnQpIHtcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICB2YXIgaXNDYW5jZWxlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgaXNQYXVzZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5hbmltYXRpb25DYW5jZWxNYW5hZ2VyLnN1YnNjcmliZShwYXJ0LmFsaWFzLCBmdW5jdGlvbiAoZXZlbnRBcmdzKSB7XG4gICAgICAgICAgICBpc0NhbmNlbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoYXQuYW5pbWF0aW9uQ2FuY2VsTWFuYWdlci51bnN1YnNjcmliZShwYXJ0LmFsaWFzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGVDaGFuZ2VNYW5hZ2VyLnN1YnNjcmliZShwYXJ0LmFsaWFzLCBmdW5jdGlvbiAoZXZlbnRBcmdzKSB7IGlzUGF1c2VkID0gZXZlbnRBcmdzLnZhbHVlID09IEFuaW1hdGlvblBsYXlTdGF0ZVZhbHVlLnBhdXNlZDsgfSk7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICB0aGF0LmhhbmRsZUFuaW1hdGlvblBhcnRXaGVuKHBhcnQud2hlbikudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdGhhdC5ldmVudEVtaXR0ZXIuZW1pdChBTklNQVRJT05fUEFSVF9XSEVOX0VWRU5UX1BSRUZJWEVTLkFOSU1BVElPTl9TVEFSVCArIHBhcnQuYWxpYXMsIHt9KTtcbiAgICAgICAgICAgICAgICB0aGF0LmFuaW1hdGlvbkNhbmNlbE1hbmFnZXIudW5zdWJzY3JpYmUocGFydC5hbGlhcyk7XG4gICAgICAgICAgICAgICAgdGhhdC5hbmltYXRpb25TdGF0ZUNoYW5nZU1hbmFnZXIudW5zdWJzY3JpYmUocGFydC5hbGlhcyk7XG4gICAgICAgICAgICAgICAgdmFyIHByb21pc2VzID0gbmV3IEFycmF5KHBhcnQuZWxlbWVudHMubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcnQuZWxlbWVudHMubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICAgICAgICAgIHByb21pc2VzW2ldID0gdGhhdC5oYW5kbGVBbmltYXRpb25PdmVyRWxlbWVudChwYXJ0LmVsZW1lbnRzW2ldLCBwYXJ0KTtcbiAgICAgICAgICAgICAgICBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQuZXZlbnRFbWl0dGVyLmVtaXQoQU5JTUFUSU9OX1BBUlRfV0hFTl9FVkVOVF9QUkVGSVhFUy5BTklNQVRJT05fRU5EICsgcGFydC5hbGlhcywge30pO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGlzUGF1c2VkKVxuICAgICAgICAgICAgICAgICAgICB0aGF0LnBhdXNlKFtwYXJ0LmFsaWFzXSk7XG4gICAgICAgICAgICAgICAgaWYgKGlzQ2FuY2VsZWQpXG4gICAgICAgICAgICAgICAgICAgIHRoYXQuY2FuY2VsQW5pbWF0aW9uKFtwYXJ0LmFsaWFzXSk7XG4gICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGhhbmRsZUFuaW1hdGlvbk92ZXJFbGVtZW50KGVsZW1lbnQsIHBhcnQpIHtcbiAgICAgICAgdmFyIHN0eWxlcyA9IHBhcnQuc3R5bGVzO1xuICAgICAgICBpZiAoc3R5bGVzKSB7XG4gICAgICAgICAgICBpZiAoc3R5bGVzLmxlbmd0aCA8IDEpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJdFxcJ3MgcmVxdWlyZWQgdG8gaGF2ZSBhdCBsZWFzdCBvbmUgY2xhc3MgdG8gZ2VuZXJhdGUgYW4gYW5pbWF0aW9uLicpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSXRcXCdzIHJlcXVpcmVkIHRvIGhhdmUgYW4gYXJyYXkgb2Ygc3R5bGVzIHRvIGdlbmVyYXRlIGFuIGFuaW1hdGlvbi4nKTtcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YXIgYW5pbWF0aW9uRnVuY3Rpb25zID0gbmV3IEFycmF5KCk7XG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRBbmltYXRpb25JbmRleCA9IG51bGw7XG4gICAgICAgICAgICAgICAgdmFyIG9uQW5pbWF0aW9uQ2FuY2VsID0gZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKENhcm91c2VsQmFzZS5DQVJPVVNFTF9TVFlMRVMuQ0xFQVJfQU5JTUFUSU9OKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRBbmltYXRpb25JbmRleCAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHN0eWxlc1tjdXJyZW50QW5pbWF0aW9uSW5kZXhdKTtcbiAgICAgICAgICAgICAgICAgICAgdGhhdC51bnJlZ2lzdGVyQW5pbWF0aW9uTGlzdGVuZXIoZWxlbWVudCwgYW5pbWF0aW9uRnVuY3Rpb25zW2N1cnJlbnRBbmltYXRpb25JbmRleF0pO1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoQ2Fyb3VzZWxCYXNlLkNBUk9VU0VMX1NUWUxFUy5DTEVBUl9BTklNQVRJT04pO1xuICAgICAgICAgICAgICAgICAgICB0aGF0LmFuaW1hdGlvbkNhbmNlbE1hbmFnZXIudW5zdWJzY3JpYmUocGFydC5hbGlhcyk7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQuYW5pbWF0aW9uU3RhdGVDaGFuZ2VNYW5hZ2VyLnVuc3Vic2NyaWJlKHBhcnQuYWxpYXMpO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0aGF0LmFuaW1hdGlvbkNhbmNlbE1hbmFnZXIuc3Vic2NyaWJlKHBhcnQuYWxpYXMsIG9uQW5pbWF0aW9uQ2FuY2VsKTtcbiAgICAgICAgICAgICAgICB2YXIgb25BbmltYXRpb25QbGF5U3RhdGVDaGFuZ2UgPSBmdW5jdGlvbiAoYXJncykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoQW5pbWF0aW9uUGxheVN0YXRlVmFsdWUucGF1c2VkID09IGFyZ3MudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoQ2Fyb3VzZWxCYXNlLkNBUk9VU0VMX1NUWUxFUy5BTklNQVRJT05fUEFVU0VEKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoQ2Fyb3VzZWxCYXNlLkNBUk9VU0VMX1NUWUxFUy5BTklNQVRJT05fUEFVU0VEKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChBbmltYXRpb25QbGF5U3RhdGVWYWx1ZS5ydW5uaW5nID09IGFyZ3MudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhDYXJvdXNlbEJhc2UuQ0FST1VTRUxfU1RZTEVTLkFOSU1BVElPTl9QQVVTRUQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShDYXJvdXNlbEJhc2UuQ0FST1VTRUxfU1RZTEVTLkFOSU1BVElPTl9QQVVTRUQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0aGF0LmFuaW1hdGlvblN0YXRlQ2hhbmdlTWFuYWdlci5zdWJzY3JpYmUocGFydC5hbGlhcywgb25BbmltYXRpb25QbGF5U3RhdGVDaGFuZ2UpO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgc3R5bGVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbkZ1bmN0aW9ucy5wdXNoKGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShzdHlsZXNbaW5kZXggLSAxXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC51bnJlZ2lzdGVyQW5pbWF0aW9uTGlzdGVuZXIoZWxlbWVudCwgYW5pbWF0aW9uRnVuY3Rpb25zW2luZGV4IC0gMV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQucmVnaXN0ZXJBbmltYXRpb25MaXN0ZW5lcihlbGVtZW50LCBhbmltYXRpb25GdW5jdGlvbnNbaW5kZXhdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoc3R5bGVzW2luZGV4XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEFuaW1hdGlvbkluZGV4ID0gaW5kZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9KGkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uRnVuY3Rpb25zLnB1c2goZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChDYXJvdXNlbEJhc2UuQ0FST1VTRUxfU1RZTEVTLkNMRUFSX0FOSU1BVElPTik7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShzdHlsZXNbc3R5bGVzLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKENhcm91c2VsQmFzZS5DQVJPVVNFTF9TVFlMRVMuQ0xFQVJfQU5JTUFUSU9OKTtcbiAgICAgICAgICAgICAgICAgICAgdGhhdC51bnJlZ2lzdGVyQW5pbWF0aW9uTGlzdGVuZXIoZWxlbWVudCwgYW5pbWF0aW9uRnVuY3Rpb25zW2FuaW1hdGlvbkZ1bmN0aW9ucy5sZW5ndGggLSAxXSk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRBbmltYXRpb25JbmRleCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQuYW5pbWF0aW9uQ2FuY2VsTWFuYWdlci51bnN1YnNjcmliZShwYXJ0LmFsaWFzKTtcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5hbmltYXRpb25TdGF0ZUNoYW5nZU1hbmFnZXIudW5zdWJzY3JpYmUocGFydC5hbGlhcyk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGF0LnJlZ2lzdGVyQW5pbWF0aW9uTGlzdGVuZXIoZWxlbWVudCwgYW5pbWF0aW9uRnVuY3Rpb25zWzBdKTtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoc3R5bGVzWzBdKTtcbiAgICAgICAgICAgICAgICBjdXJyZW50QW5pbWF0aW9uSW5kZXggPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlZ2lzdGVyQW5pbWF0aW9uTGlzdGVuZXIoZWxlbWVudCwgbGlzdGVuZXIpIHtcbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdhbmltYXRpb25lbmQnLCBsaXN0ZW5lcik7XG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignd2Via2l0QW5pbWF0aW9uRW5kJywgbGlzdGVuZXIpO1xuICAgIH1cbiAgICB1bnJlZ2lzdGVyQW5pbWF0aW9uTGlzdGVuZXIoZWxlbWVudCwgbGlzdGVuZXIpIHtcbiAgICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdhbmltYXRpb25lbmQnLCBsaXN0ZW5lcik7XG4gICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2Via2l0QW5pbWF0aW9uRW5kJywgbGlzdGVuZXIpO1xuICAgIH1cbiAgICBoYW5kbGVBbmltYXRpb25QYXJ0V2hlbih3aGVuRW50aXR5KSB7XG4gICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIGlmICh3aGVuRW50aXR5ID09IG51bGwpXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHN3aXRjaCAod2hlbkVudGl0eS5jb25zdHJhaW50VHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIEFOSU1BVElPTl9DT05TVFJBSU5UX1RZUEVTLkFOSU1BVElPTl9TVEFSVDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuaGFuZGxlQW5pbWF0aW9uUGFydFdoZW5BbmltYXRpb25CZWdpbih3aGVuRW50aXR5KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc29sdmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQU5JTUFUSU9OX0NPTlNUUkFJTlRfVFlQRVMuQU5JTUFUSU9OX0VORDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuaGFuZGxlQW5pbWF0aW9uUGFydFdoZW5BbmltYXRpb25FbmQod2hlbkVudGl0eSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNvbHZlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIEFOSU1BVElPTl9DT05TVFJBSU5UX1RZUEVTLkdST1VQOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5oYW5kbGVBbmltYXRpb25QYXJ0V2hlbkFuaW1hdGlvbkdyb3VwKHdoZW5FbnRpdHkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzb2x2ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBBTklNQVRJT05fQ09OU1RSQUlOVF9UWVBFUy5XQUlUX0ZPUjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuaGFuZGxlQW5pbWF0aW9uUGFydFdoZW5XYWl0Rm9yKHdoZW5FbnRpdHkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzb2x2ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5leHBlY3RlZCB3aGVuIGVudGl0eSB0eXBlLicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGhhbmRsZUFuaW1hdGlvblBhcnRXaGVuQW5pbWF0aW9uQmVnaW4od2hlbkVudGl0eSkge1xuICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICB2YXIgZXZlbnROYW1lID0gQU5JTUFUSU9OX1BBUlRfV0hFTl9FVkVOVF9QUkVGSVhFUy5BTklNQVRJT05fU1RBUlQgKyB3aGVuRW50aXR5LmFsaWFzO1xuICAgICAgICAgICAgdmFyIGV2ZW50SGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0aGF0LmV2ZW50RW1pdHRlci5yZW1vdmVMaXN0ZW5lcihldmVudE5hbWUsIGV2ZW50SGFuZGxlcik7XG4gICAgICAgICAgICAgICAgaWYgKHdoZW5FbnRpdHkuYWZ0ZXIgPT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5oYW5kbGVBbmltYXRpb25QYXJ0V2hlbih3aGVuRW50aXR5LmFmdGVyKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzb2x2ZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhhdC5ldmVudEVtaXR0ZXIuYWRkTGlzdGVuZXIoZXZlbnROYW1lLCBldmVudEhhbmRsZXIpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaGFuZGxlQW5pbWF0aW9uUGFydFdoZW5BbmltYXRpb25FbmQod2hlbkVudGl0eSkge1xuICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICB2YXIgZXZlbnROYW1lID0gQU5JTUFUSU9OX1BBUlRfV0hFTl9FVkVOVF9QUkVGSVhFUy5BTklNQVRJT05fRU5EICsgd2hlbkVudGl0eS5hbGlhcztcbiAgICAgICAgICAgIHZhciBldmVudEhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdGhhdC5ldmVudEVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIoZXZlbnROYW1lLCBldmVudEhhbmRsZXIpO1xuICAgICAgICAgICAgICAgIGlmICh3aGVuRW50aXR5LmFmdGVyID09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHRoYXQuaGFuZGxlQW5pbWF0aW9uUGFydFdoZW4od2hlbkVudGl0eS5hZnRlcilcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc29sdmUpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoYXQuZXZlbnRFbWl0dGVyLmFkZExpc3RlbmVyKGV2ZW50TmFtZSwgZXZlbnRIYW5kbGVyKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGhhbmRsZUFuaW1hdGlvblBhcnRXaGVuQW5pbWF0aW9uR3JvdXAod2hlbkVudGl0eSkge1xuICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICB2YXIgY2hpbGRQcm9taXNlcyA9IG5ldyBBcnJheSh3aGVuRW50aXR5LmNvbnN0cmFpbnRzLmxlbmd0aCk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHdoZW5FbnRpdHkuY29uc3RyYWludHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBjaGlsZFByb21pc2VzW2ldID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICB0aGF0LmhhbmRsZUFuaW1hdGlvblBhcnRXaGVuKHdoZW5FbnRpdHkuY29uc3RyYWludHNbaV0pXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNvbHZlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChBbmltYXRpb25QYXJ0V2hlbk9wZXJhdG9yLkFORCA9PSB3aGVuRW50aXR5Lm9wZXJhdG9yKVxuICAgICAgICAgICAgICAgIFByb21pc2UuYWxsKGNoaWxkUHJvbWlzZXMpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZWxzZSBpZiAoQW5pbWF0aW9uUGFydFdoZW5PcGVyYXRvci5PUiA9PSB3aGVuRW50aXR5Lm9wZXJhdG9yKVxuICAgICAgICAgICAgICAgIFByb21pc2UucmFjZShjaGlsZFByb21pc2VzKVxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICByZWplY3QoJ1VuZXhwZWN0ZWQgb3BlcmF0b3IuJyk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBoYW5kbGVBbmltYXRpb25QYXJ0V2hlbldhaXRGb3Iod2hlbkVudGl0eSkge1xuICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAod2hlbkVudGl0eS5hZnRlciA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQuaGFuZGxlQW5pbWF0aW9uUGFydFdoZW4od2hlbkVudGl0eS5hZnRlcilcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc29sdmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHdoZW5FbnRpdHkubWlsbGlzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNhbmNlbEFuaW1hdGlvbihhbGlhc2VzKSB7XG4gICAgICAgIHRoaXMuZXZlbnRFbWl0dGVyLmVtaXQoQU5JTUFUSU9OX09QRVJBVElPTl9FVkVOVFMuQU5JTUFUSU9OX0NBTkNFTCwge1xuICAgICAgICAgICAgYWxpYXNlczogYWxpYXNlcyxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHBhdXNlKGFsaWFzZXMpIHtcbiAgICAgICAgdGhpcy5ldmVudEVtaXR0ZXIuZW1pdChBTklNQVRJT05fT1BFUkFUSU9OX0VWRU5UUy5BTklNQVRJT05fU1RBVEVfQ0hBTkdFLCB7XG4gICAgICAgICAgICBhbGlhc2VzOiBhbGlhc2VzLFxuICAgICAgICAgICAgdmFsdWU6IEFuaW1hdGlvblBsYXlTdGF0ZVZhbHVlLnBhdXNlZCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlc3VtZShhbGlhc2VzKSB7XG4gICAgICAgIHRoaXMuZXZlbnRFbWl0dGVyLmVtaXQoQU5JTUFUSU9OX09QRVJBVElPTl9FVkVOVFMuQU5JTUFUSU9OX1NUQVRFX0NIQU5HRSwge1xuICAgICAgICAgICAgYWxpYXNlczogYWxpYXNlcyxcbiAgICAgICAgICAgIHZhbHVlOiBBbmltYXRpb25QbGF5U3RhdGVWYWx1ZS5ydW5uaW5nLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFuaW1hdGlvbi1lbmdpbmUuanMubWFwXG4iLCJleHBvcnQgdmFyIEFuaW1hdGlvblBsYXlTdGF0ZVZhbHVlO1xuKGZ1bmN0aW9uIChBbmltYXRpb25QbGF5U3RhdGVWYWx1ZSkge1xuICAgIEFuaW1hdGlvblBsYXlTdGF0ZVZhbHVlW0FuaW1hdGlvblBsYXlTdGF0ZVZhbHVlW1wicGF1c2VkXCJdID0gMF0gPSBcInBhdXNlZFwiO1xuICAgIEFuaW1hdGlvblBsYXlTdGF0ZVZhbHVlW0FuaW1hdGlvblBsYXlTdGF0ZVZhbHVlW1wicnVubmluZ1wiXSA9IDFdID0gXCJydW5uaW5nXCI7XG59KShBbmltYXRpb25QbGF5U3RhdGVWYWx1ZSB8fCAoQW5pbWF0aW9uUGxheVN0YXRlVmFsdWUgPSB7fSkpO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hbmltYXRpb24tcGxheS1zdGF0ZS5qcy5tYXBcbiIsImV4cG9ydCBjbGFzcyBPcGVyYXRpb25NYW5hZ2VyIHtcbiAgICBjb25zdHJ1Y3RvcihldmVudEFsaWFzLCBldmVudEVtaXR0ZXIpIHtcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICB0aGlzLmNhbGxGdW5jdGlvbiA9IGZ1bmN0aW9uIChldmVudEFyZ3MpIHtcbiAgICAgICAgICAgIGlmIChldmVudEFyZ3MuYWxpYXNlcyA9PSBudWxsKVxuICAgICAgICAgICAgICAgIGZvciAodmFyIGFsaWFzIGluIHRoYXQuc3VzY3JpcHRpb25TdG9yYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdWJzY3JpYmVyID0gdGhhdC5zdXNjcmlwdGlvblN0b3JhZ2VbYWxpYXNdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaWJlciAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlcihldmVudEFyZ3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50QXJncy5hbGlhc2VzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdWJzY3JpYmVyID0gdGhhdC5zdXNjcmlwdGlvblN0b3JhZ2VbZXZlbnRBcmdzLmFsaWFzZXNbaV1dO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaWJlciAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlcihldmVudEFyZ3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5ldmVudEFsaWFzID0gZXZlbnRBbGlhcztcbiAgICAgICAgdGhpcy5ldmVudEVtaXR0ZXIgPSBldmVudEVtaXR0ZXI7XG4gICAgICAgIHRoaXMuc3VzY3JpcHRpb25TdG9yYWdlID0ge307XG4gICAgICAgIHRoaXMuZXZlbnRFbWl0dGVyLmFkZExpc3RlbmVyKHRoaXMuZXZlbnRBbGlhcywgdGhpcy5jYWxsRnVuY3Rpb24pO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLmV2ZW50RW1pdHRlci5yZW1vdmVMaXN0ZW5lcih0aGlzLmV2ZW50QWxpYXMsIHRoaXMuY2FsbEZ1bmN0aW9uKTtcbiAgICB9XG4gICAgc3Vic2NyaWJlKGFsaWFzLCBoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuc3VzY3JpcHRpb25TdG9yYWdlW2FsaWFzXSA9IGhhbmRsZXI7XG4gICAgfVxuICAgIHVuc3Vic2NyaWJlKGFsaWFzKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLnN1c2NyaXB0aW9uU3RvcmFnZVthbGlhc107XG4gICAgfVxufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1vcGVyYXRpb24tbWFuYWdlci5qcy5tYXBcbiIsImV4cG9ydCB2YXIgQ2Fyb3VzZWxCYXNlO1xuKGZ1bmN0aW9uIChDYXJvdXNlbEJhc2VfMSkge1xuICAgIENhcm91c2VsQmFzZV8xLkNBUk9VU0VMX1NUWUxFUyA9IHtcbiAgICAgICAgQU5JTUFUSU9OX1BBVVNFRDogJ3NvcmEtYW5pbWF0aW9uLXBhdXNlZCcsXG4gICAgICAgIENMRUFSX0FOSU1BVElPTjogJ3NvcmEtY2xlYXItYW5pbWF0aW9ucycsXG4gICAgICAgIENBUk9VU0VMOiAnc29yYS1jYXJvdXNlbCcsXG4gICAgICAgIFNMSURFOiAnc29yYS1zbGlkZScsXG4gICAgICAgIFdSQVBQRVI6ICdzb3JhLXdyYXBwZXInLFxuICAgIH07XG4gICAgY2xhc3MgQ2Fyb3VzZWxCYXNlIHtcbiAgICAgICAgY29uc3RydWN0b3IoKSB7IH1cbiAgICB9XG4gICAgQ2Fyb3VzZWxCYXNlXzEuQ2Fyb3VzZWxCYXNlID0gQ2Fyb3VzZWxCYXNlO1xufSkoQ2Fyb3VzZWxCYXNlIHx8IChDYXJvdXNlbEJhc2UgPSB7fSkpO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1jYXJvdXNlbC1iYXNlLmpzLm1hcFxuIiwiaW1wb3J0IHsgQ2Fyb3VzZWxCYXNlIH0gZnJvbSAnLi9jYXJvdXNlbC1iYXNlJztcbmltcG9ydCB7IEFuaW1hdGlvblBsYXlTdGF0ZVZhbHVlIH0gZnJvbSAnLi9hbmltYXRpb24vYW5pbWF0aW9uLXBsYXktc3RhdGUnO1xuaW1wb3J0IHsgRXZlbnRFbWl0dGVyIH0gZnJvbSAnZXZlbnRzJztcbmltcG9ydCB7IENPTExFQ1RJT05fTUFOQUdFUl9FVkVOVFMsIH0gZnJvbSAnLi4vY29sbGVjdGlvbi9jb2xsZWN0aW9uLW1hbmFnZXInO1xuaW1wb3J0IHsgSHRtbENoaWxkcmVuTWFuYWdlciB9IGZyb20gJy4uL2NvbGxlY3Rpb24vaHRtbC1jaGlsZHJlbi1tYW5hZ2VyJztcbmltcG9ydCB7IFNpbmdsZUFuaW1hdGlvbkVuZ2luZSB9IGZyb20gJy4vYW5pbWF0aW9uL2FuaW1hdGlvbi1lbmdpbmUnO1xuZXhwb3J0IHZhciBDYXJvdXNlbEJhc2ljO1xuKGZ1bmN0aW9uIChDYXJvdXNlbEJhc2ljKSB7XG4gICAgQ2Fyb3VzZWxCYXNpYy5TSU5HTEVfU0xJREVfQ0FST1VTRUxfQUNUSU9OUyA9IHtcbiAgICAgICAgR09fVE86ICd0bycsXG4gICAgICAgIEdPX1RPX05FWFQ6ICduZXh0JyxcbiAgICAgICAgR09fVE9fUFJFVklPVVM6ICdwcmV2JyxcbiAgICB9O1xuICAgIENhcm91c2VsQmFzaWMuU0lOR0xFX1NMSURFX0NBUk9VU0VMX0VWRU5UUyA9IHtcbiAgICAgICAgT05fQU5JTUFUSU9OX0VORDogJ2Nhci5hbmltLm91dCcsXG4gICAgICAgIE9OX0FOSU1BVElPTl9QTEFZX1NUQVRFX0NIQU5HRTogJ2Nhci5hbmltLnN0YXRlLmNoJyxcbiAgICAgICAgT05fQU5JTUFUSU9OX1NUQVJUOiAnY2FyLmFuaW0uaW4nLFxuICAgICAgICBPTl9DQU5DRUxfQU5JTUFUSU9OOiAnY2FyLmFuaW0uY2FuY2VsJyxcbiAgICAgICAgT05fU0xJREVfRU5URVI6ICdjYXIuc2wuaW4nLFxuICAgICAgICBPTl9TTElERV9MRUFWRTogJ2Nhci5zbC5vdXQnLFxuICAgIH07XG4gICAgY29uc3QgU0lOR0xFX1NMSURFX0NBUk9VU0VMX1BBUlRTX0FMSUFTRVMgPSB7XG4gICAgICAgIEVOVEVSOiAnZW50ZXItcGFydCcsXG4gICAgICAgIExFQVZFOiAnbGVhdmUtcGFydCcsXG4gICAgfTtcbiAgICBDYXJvdXNlbEJhc2ljLlNJTkdMRV9TTElERV9DQVJPVVNFTF9TVFlMRVMgPSB7XG4gICAgICAgIFNMSURFX0hJRERFTjogJ3NvcmEtaGlkZGVuJyxcbiAgICAgICAgU0xJREVfQUNUSVZFOiAnc29yYS1zbGlkZS1hY3RpdmUnLFxuICAgIH07XG4gICAgY2xhc3MgU2luZ2xlU2xpZGVDYXJvdXNlbCBleHRlbmRzIENhcm91c2VsQmFzZS5DYXJvdXNlbEJhc2Uge1xuICAgICAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICAgICAgICBzdXBlcigpO1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQgPT0gbnVsbClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBlbGVtZW50IG11c3Qgbm90IGJlIG51bGwuJyk7XG4gICAgICAgICAgICBpZiAoIWVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKENhcm91c2VsQmFzZS5DQVJPVVNFTF9TVFlMRVMuQ0FST1VTRUwpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIGNhcm91c2VsIGVsZW1lbnQgbXVzdCBjb250YWluIHRoZSBjbGFzcyBcIicgKyBDYXJvdXNlbEJhc2UuQ0FST1VTRUxfU1RZTEVTLkNBUk9VU0VMICsgJ1wiLicpO1xuICAgICAgICAgICAgdmFyIHNvcmFXcmFwcGVyID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuJyArIENhcm91c2VsQmFzZS5DQVJPVVNFTF9TVFlMRVMuV1JBUFBFUik7XG4gICAgICAgICAgICBpZiAoc29yYVdyYXBwZXIgPT0gbnVsbClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBlbGVtZW50IGhhcyBubyBjaGlsZCB3aXRoIGNsYXNzIFxcJ3NvcmEtd3JhcHBlclxcJy4nKTtcbiAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IG5ldyBBcnJheSgpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzb3JhV3JhcHBlci5jaGlsZHJlbi5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIGlmIChzb3JhV3JhcHBlci5jaGlsZHJlbltpXS5jbGFzc0xpc3QuY29udGFpbnMoQ2Fyb3VzZWxCYXNlLkNBUk9VU0VMX1NUWUxFUy5TTElERSkpXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuLnB1c2goc29yYVdyYXBwZXIuY2hpbGRyZW5baV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5hY3RpdmVJbmRleCA9IG9wdGlvbnMuaW5kZXggfHwgMDtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudEFuaW1hdGlvbiA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmV2ZW50RW1pdHRlciA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudHNNYW5hZ2VyID0gbmV3IEh0bWxDaGlsZHJlbk1hbmFnZXIoY2hpbGRyZW4sIHRoaXMuZXZlbnRFbWl0dGVyLCBzb3JhV3JhcHBlcik7XG4gICAgICAgICAgICBpZiAodGhpcy5hY3RpdmVJbmRleCA8IDAgfHwgdGhpcy5hY3RpdmVJbmRleCA+PSB0aGlzLmVsZW1lbnRzTWFuYWdlci5nZXRMZW5ndGgoKSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgb3B0aW9ucy5pbmRleC4gVGhlcmUgaXMgbm8gZWxlbWVudCB3aXRoIGluZGV4ICcgKyBvcHRpb25zLmluZGV4ICsgJy4nKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBpZiAoaSA9PSB0aGlzLmFjdGl2ZUluZGV4KVxuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbltpXS5jbGFzc0xpc3QuYWRkKENhcm91c2VsQmFzaWMuU0lOR0xFX1NMSURFX0NBUk9VU0VMX1NUWUxFUy5TTElERV9BQ1RJVkUpO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW5baV0uY2xhc3NMaXN0LmFkZChDYXJvdXNlbEJhc2ljLlNJTkdMRV9TTElERV9DQVJPVVNFTF9TVFlMRVMuU0xJREVfSElEREVOKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgIHZhciBvbkJlZm9yZUNoYW5nZSA9IGZ1bmN0aW9uIChldmVudEFyZ3MpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXhNYXAgPSBldmVudEFyZ3MuZ2V0SW5kZXhNYXAoKTtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXhNYXBbdGhhdC5hY3RpdmVJbmRleF0gPT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRBcmdzLnNldFByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIG9uQWZ0ZXJDaGFuZ2UgPSBmdW5jdGlvbiAoZXZlbnRBcmdzKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFldmVudEFyZ3MuZ2V0UHJldmVudERlZmF1bHQoKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXhNYXAgPSBldmVudEFyZ3MuZ2V0SW5kZXhNYXAoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5hY3RpdmVJbmRleCA9IGluZGV4TWFwW3RoYXQuYWN0aXZlSW5kZXhdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLmFkZExpc3RlbmVyKENPTExFQ1RJT05fTUFOQUdFUl9FVkVOVFMuY29sbGVjdGlvbkJlZm9yZUNoYW5nZSwgb25CZWZvcmVDaGFuZ2UpO1xuICAgICAgICAgICAgdGhpcy5hZGRMaXN0ZW5lcihDT0xMRUNUSU9OX01BTkFHRVJfRVZFTlRTLmNvbGxlY3Rpb25BZnRlckNoYW5nZSwgb25BZnRlckNoYW5nZSk7XG4gICAgICAgICAgICB0aGlzLmVuZ2luZUFuaW1hdGlvbiA9IG5ldyBTaW5nbGVBbmltYXRpb25FbmdpbmUoKTtcbiAgICAgICAgfVxuICAgICAgICBhZGRMaXN0ZW5lcihldmVudCwgbGlzdGVuZXIpIHtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRFbWl0dGVyLmFkZExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICAgICAgY3JlYXRlV2FpdFByb21pc2Uob3B0aW9ucykge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICB2YXIgbGFzdFRpbWVSdW47XG4gICAgICAgICAgICAgICAgdmFyIHRpbWVUb1dhaXQgPSBvcHRpb25zLm1pbGxpcztcbiAgICAgICAgICAgICAgICBpZiAodGhhdC5wYXVzZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGFzdFRpbWVSdW4gPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdhaXRJbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUxpc3RlbmVycygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9LCB0aW1lVG9XYWl0KTtcbiAgICAgICAgICAgICAgICAgICAgbGFzdFRpbWVSdW4gPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIG9uQ2FuY2VsQW5pbWF0aW9uID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5zdG9wT25DYW5jZWxBbmltYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgb25DYW5jZWxBbmltYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVMaXN0ZW5lcnMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5hZGRMaXN0ZW5lcihDYXJvdXNlbEJhc2ljLlNJTkdMRV9TTElERV9DQVJPVVNFTF9FVkVOVFMuT05fQ0FOQ0VMX0FOSU1BVElPTiwgb25DYW5jZWxBbmltYXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgb25QbGF5U3RhdGVDaGFuZ2UgPSBmdW5jdGlvbiAoYXJncykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoQW5pbWF0aW9uUGxheVN0YXRlVmFsdWUucGF1c2VkID09IGFyZ3MudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVUb1dhaXQgPSB0aW1lVG9XYWl0IC0gKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gbGFzdFRpbWVSdW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh3YWl0SW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKEFuaW1hdGlvblBsYXlTdGF0ZVZhbHVlLnJ1bm5pbmcgPT0gYXJncy52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFRpbWVSdW4gPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aW1lVG9XYWl0ID4gMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YWl0SW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQucmVtb3ZlTGlzdGVuZXIoQ2Fyb3VzZWxCYXNpYy5TSU5HTEVfU0xJREVfQ0FST1VTRUxfRVZFTlRTLk9OX0FOSU1BVElPTl9QTEFZX1NUQVRFX0NIQU5HRSwgb25QbGF5U3RhdGVDaGFuZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob25DYW5jZWxBbmltYXRpb24gIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQucmVtb3ZlTGlzdGVuZXIoQ2Fyb3VzZWxCYXNpYy5TSU5HTEVfU0xJREVfQ0FST1VTRUxfRVZFTlRTLk9OX0NBTkNFTF9BTklNQVRJT04sIG9uQ2FuY2VsQW5pbWF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHRpbWVUb1dhaXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlTGlzdGVuZXJzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB2YXIgcmVtb3ZlTGlzdGVuZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGF0LnJlbW92ZUxpc3RlbmVyKENhcm91c2VsQmFzaWMuU0lOR0xFX1NMSURFX0NBUk9VU0VMX0VWRU5UUy5PTl9BTklNQVRJT05fUExBWV9TVEFURV9DSEFOR0UsIG9uUGxheVN0YXRlQ2hhbmdlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9uQ2FuY2VsQW5pbWF0aW9uICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LnJlbW92ZUxpc3RlbmVyKENhcm91c2VsQmFzaWMuU0lOR0xFX1NMSURFX0NBUk9VU0VMX0VWRU5UUy5PTl9DQU5DRUxfQU5JTUFUSU9OLCBvbkNhbmNlbEFuaW1hdGlvbik7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0aGF0LmFkZExpc3RlbmVyKENhcm91c2VsQmFzaWMuU0lOR0xFX1NMSURFX0NBUk9VU0VMX0VWRU5UUy5PTl9BTklNQVRJT05fUExBWV9TVEFURV9DSEFOR0UsIG9uUGxheVN0YXRlQ2hhbmdlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGZvcmNlQWN0aXZlU2xpZGUoYWN0aXZlSW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBldmVudEFyZ3MgPSB7XG4gICAgICAgICAgICAgICAgYWN0aXZlSW5kZXg6IGFjdGl2ZUluZGV4LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzUGF1c2VkKCkpXG4gICAgICAgICAgICAgICAgdGhpcy5yZXN1bWUoKTtcbiAgICAgICAgICAgIHRoaXMuZW5naW5lQW5pbWF0aW9uLmNhbmNlbEFuaW1hdGlvbihudWxsKTtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlSW5kZXggPSBhY3RpdmVJbmRleDtcbiAgICAgICAgICAgIHRoaXMucmVzZXRDYXJvdXNlbFN0cnVjdHVyZShhY3RpdmVJbmRleCk7XG4gICAgICAgICAgICB0aGlzLmV2ZW50RW1pdHRlci5lbWl0KENhcm91c2VsQmFzaWMuU0lOR0xFX1NMSURFX0NBUk9VU0VMX0VWRU5UUy5PTl9DQU5DRUxfQU5JTUFUSU9OLCBldmVudEFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIGdlbmVyYXRlR29Ub0FuaW1hdGlvbkZsb3coZW50ZXJFbGVtZW50LCBsZWF2ZUVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHZhciBpbm5lclBhcnRzID0gW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYWxpYXM6IFNJTkdMRV9TTElERV9DQVJPVVNFTF9QQVJUU19BTElBU0VTLkVOVEVSLFxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50czogW2VudGVyRWxlbWVudCxdLFxuICAgICAgICAgICAgICAgICAgICBzdHlsZXM6IG9wdGlvbnMuZW50ZXJBbmltYXRpb24uc2xpZGVTdHlsZXMsXG4gICAgICAgICAgICAgICAgICAgIHdoZW46IG51bGwsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGFsaWFzOiBTSU5HTEVfU0xJREVfQ0FST1VTRUxfUEFSVFNfQUxJQVNFUy5MRUFWRSxcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudHM6IFtsZWF2ZUVsZW1lbnQsXSxcbiAgICAgICAgICAgICAgICAgICAgc3R5bGVzOiBvcHRpb25zLmxlYXZlQW5pbWF0aW9uLnNsaWRlU3R5bGVzLFxuICAgICAgICAgICAgICAgICAgICB3aGVuOiBudWxsLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgdmFyIGdlbmVyYXRlQ2hpbGRyZW5QYXJ0cyA9IGZ1bmN0aW9uIChwYXJlbnRFbGVtZW50LCBjaGlsZHJlblN0eWxlcywgYWxpYXNCYXNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkcmVuU3R5bGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW5TdHlsZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyUGFydHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxpYXM6IGFsaWFzQmFzZSArIGkudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50czogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbWVudHMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFuaW1hdGlvbk9iamVjdCA9IGNoaWxkcmVuU3R5bGVzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hpbGRyZW5FbGVtZW50cyA9IHBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChhbmltYXRpb25PYmplY3Quc2VsZWN0b3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGNoaWxkcmVuRWxlbWVudHMubGVuZ3RoOyArK2opXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50cy5wdXNoKGNoaWxkcmVuRWxlbWVudHNbal0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudHM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlczogY2hpbGRyZW5TdHlsZXNbaV0uc3R5bGVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoZW46IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBnZW5lcmF0ZUNoaWxkcmVuUGFydHMoZW50ZXJFbGVtZW50LCBvcHRpb25zLmVudGVyQW5pbWF0aW9uLmNoaWxkcmVuU3R5bGVzLCBTSU5HTEVfU0xJREVfQ0FST1VTRUxfUEFSVFNfQUxJQVNFUy5FTlRFUik7XG4gICAgICAgICAgICBnZW5lcmF0ZUNoaWxkcmVuUGFydHMobGVhdmVFbGVtZW50LCBvcHRpb25zLmxlYXZlQW5pbWF0aW9uLmNoaWxkcmVuU3R5bGVzLCBTSU5HTEVfU0xJREVfQ0FST1VTRUxfUEFSVFNfQUxJQVNFUy5MRUFWRSk7XG4gICAgICAgICAgICB2YXIgaW5uZXJQYXJ0c01hcCA9IHt9O1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbm5lclBhcnRzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgICAgIGlubmVyUGFydHNNYXBbaW5uZXJQYXJ0c1tpXS5hbGlhc10gPSBpbm5lclBhcnRzW2ldO1xuICAgICAgICAgICAgdmFyIGlubmVyR2V0UGFydEJ5QWxpYXMgPSBmdW5jdGlvbiAoYWxpYXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5uZXJQYXJ0c01hcFthbGlhc107XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIGFuaW1hdGlvbkZsb3cgPSB7XG4gICAgICAgICAgICAgICAgcGFydHM6IGlubmVyUGFydHMsXG4gICAgICAgICAgICAgICAgZ2V0UGFydEJ5QWxpYXM6IGlubmVyR2V0UGFydEJ5QWxpYXMsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIGFuaW1hdGlvbkZsb3c7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0QWN0aXZlRWxlbWVudCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRzTWFuYWdlci5nZXRDb2xsZWN0aW9uKClbdGhpcy5hY3RpdmVJbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgZ2V0QWN0aXZlSW5kZXgoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hY3RpdmVJbmRleDtcbiAgICAgICAgfVxuICAgICAgICBnZXRFbGVtZW50c01hbmFnZXIoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50c01hbmFnZXI7XG4gICAgICAgIH1cbiAgICAgICAgaGFzQWN0aXZlQW5pbWF0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudEFuaW1hdGlvbiAhPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlzUGF1c2VkKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucGF1c2VkO1xuICAgICAgICB9XG4gICAgICAgIGhhbmRsZShhY3Rpb24sIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBDYXJvdXNlbEJhc2ljLlNJTkdMRV9TTElERV9DQVJPVVNFTF9BQ1RJT05TLkdPX1RPOlxuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucyA9PSBudWxsIHx8IHR5cGVvZiBvcHRpb25zLmluZGV4ICE9PSAnbnVtYmVyJylcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBvcHRpb25zIGZvciBcXCcnICsgQ2Fyb3VzZWxCYXNpYy5TSU5HTEVfU0xJREVfQ0FST1VTRUxfQUNUSU9OUy5HT19UTyArICdcXCcuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmhhbmRsZUdvVG8ob3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgY2FzZSBDYXJvdXNlbEJhc2ljLlNJTkdMRV9TTElERV9DQVJPVVNFTF9BQ1RJT05TLkdPX1RPX05FWFQ6XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuaW5kZXggPSAodGhpcy5hY3RpdmVJbmRleCArIDEpICUgdGhpcy5lbGVtZW50c01hbmFnZXIuZ2V0TGVuZ3RoKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmhhbmRsZShDYXJvdXNlbEJhc2ljLlNJTkdMRV9TTElERV9DQVJPVVNFTF9BQ1RJT05TLkdPX1RPLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICBjYXNlIENhcm91c2VsQmFzaWMuU0lOR0xFX1NMSURFX0NBUk9VU0VMX0FDVElPTlMuR09fVE9fUFJFVklPVVM6XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGVtZW50c0xlbmd0aCA9IHRoaXMuZWxlbWVudHNNYW5hZ2VyLmdldExlbmd0aCgpO1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmluZGV4ID0gKCh0aGlzLmFjdGl2ZUluZGV4IC0gMSkgJSBlbGVtZW50c0xlbmd0aCArIGVsZW1lbnRzTGVuZ3RoKSAlIGVsZW1lbnRzTGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGUoQ2Fyb3VzZWxCYXNpYy5TSU5HTEVfU0xJREVfQ0FST1VTRUxfQUNUSU9OUy5HT19UTywgb3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcGF1c2UoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMucGF1c2VkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbmdpbmVBbmltYXRpb24ucGF1c2UobnVsbCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXVzZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRFbWl0dGVyLmVtaXQoQ2Fyb3VzZWxCYXNpYy5TSU5HTEVfU0xJREVfQ0FST1VTRUxfRVZFTlRTLk9OX0FOSU1BVElPTl9QTEFZX1NUQVRFX0NIQU5HRSwgeyB2YWx1ZTogQW5pbWF0aW9uUGxheVN0YXRlVmFsdWUucGF1c2VkLCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZW1vdmVMaXN0ZW5lcihldmVudCwgbGlzdGVuZXIpIHtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRFbWl0dGVyLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdW1lKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucGF1c2VkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbmdpbmVBbmltYXRpb24ucmVzdW1lKG51bGwpO1xuICAgICAgICAgICAgICAgIHRoaXMucGF1c2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudEVtaXR0ZXIuZW1pdChDYXJvdXNlbEJhc2ljLlNJTkdMRV9TTElERV9DQVJPVVNFTF9FVkVOVFMuT05fQU5JTUFUSU9OX1BMQVlfU1RBVEVfQ0hBTkdFLCB7IHZhbHVlOiBBbmltYXRpb25QbGF5U3RhdGVWYWx1ZS5ydW5uaW5nLCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBoYW5kbGVHb1RvKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmluZGV4IDwgMCB8fCBvcHRpb25zLmluZGV4ID49IHRoaXMuZWxlbWVudHNNYW5hZ2VyLmdldExlbmd0aCgpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBpbmRleC4gVGhlcmUgaXMgbm8gZWxlbWVudCB3aXRoIGluZGV4ICcgKyBvcHRpb25zLmluZGV4ICsgJy4nKTtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmluZGV4ID09IHRoaXMuYWN0aXZlSW5kZXgpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGluZGV4LiBJdFxcJ3Mgbm90IGFsbG93ZWQgdG8gZ28gdG8gdGhlIGN1cnJlbnQgYWN0aXZlIHNsaWRlJyk7XG4gICAgICAgICAgICBpZiAobnVsbCA9PSB0aGlzLmN1cnJlbnRBbmltYXRpb24pXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50QW5pbWF0aW9uID0gb3B0aW9ucztcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSXRcXCdzIG5vdCBhbGxvd2VkIHRvIHN0YXJ0IGFuIGFuaW1hdGlvbiB3aGlsZSBhbiBleGlzdGluZyBhbmltYXRpb24gb3ZlciBhbiBzbGlkZSBlbGVtZW50IGlzIGFjdGl2ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG9sZEFjdGl2ZUVsZW1lbnQgPSB0aGlzLmVsZW1lbnRzTWFuYWdlci5nZXRDb2xsZWN0aW9uKClbdGhpcy5hY3RpdmVJbmRleF07XG4gICAgICAgICAgICB2YXIgbmV3QWN0aXZlSW5kZXggPSBvcHRpb25zLmluZGV4O1xuICAgICAgICAgICAgdGhpcy5ldmVudEVtaXR0ZXIuZW1pdChDYXJvdXNlbEJhc2ljLlNJTkdMRV9TTElERV9DQVJPVVNFTF9FVkVOVFMuT05fQU5JTUFUSU9OX1NUQVJULCB7XG4gICAgICAgICAgICAgICAgb3B0aW9uczogb3B0aW9uc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgb25CZWZvcmVDaGFuZ2UgPSBmdW5jdGlvbiAoZXZlbnRBcmdzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4TWFwID0gZXZlbnRBcmdzLmdldEluZGV4TWFwKCk7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4TWFwW25ld0FjdGl2ZUluZGV4XSA9PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICBldmVudEFyZ3Muc2V0UHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgb25BZnRlckNoYW5nZSA9IGZ1bmN0aW9uIChldmVudEFyZ3MpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWV2ZW50QXJncy5nZXRQcmV2ZW50RGVmYXVsdCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleE1hcCA9IGV2ZW50QXJncy5nZXRJbmRleE1hcCgpO1xuICAgICAgICAgICAgICAgICAgICBuZXdBY3RpdmVJbmRleCA9IGluZGV4TWFwW25ld0FjdGl2ZUluZGV4XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5hZGRMaXN0ZW5lcihDT0xMRUNUSU9OX01BTkFHRVJfRVZFTlRTLmNvbGxlY3Rpb25CZWZvcmVDaGFuZ2UsIG9uQmVmb3JlQ2hhbmdlKTtcbiAgICAgICAgICAgIHRoaXMuYWRkTGlzdGVuZXIoQ09MTEVDVElPTl9NQU5BR0VSX0VWRU5UUy5jb2xsZWN0aW9uQWZ0ZXJDaGFuZ2UsIG9uQWZ0ZXJDaGFuZ2UpO1xuICAgICAgICAgICAgdmFyIG5ld0FjdGl2ZUVsZW1lbnQgPSB0aGlzLmVsZW1lbnRzTWFuYWdlci5nZXRDb2xsZWN0aW9uKClbbmV3QWN0aXZlSW5kZXhdO1xuICAgICAgICAgICAgbmV3QWN0aXZlRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKENhcm91c2VsQmFzaWMuU0lOR0xFX1NMSURFX0NBUk9VU0VMX1NUWUxFUy5TTElERV9ISURERU4pO1xuICAgICAgICAgICAgdmFyIGFuaW1hdGlvbkNhbmNlbGVkID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgY2FuY2VsQW5pbWF0aW9uSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBhbmltYXRpb25DYW5jZWxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhhdC5jdXJyZW50QW5pbWF0aW9uID0gbnVsbDtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgYW5pbWF0aW9uRmxvdyA9IHRoaXMuZ2VuZXJhdGVHb1RvQW5pbWF0aW9uRmxvdyhuZXdBY3RpdmVFbGVtZW50LCBvbGRBY3RpdmVFbGVtZW50LCBvcHRpb25zKTtcbiAgICAgICAgICAgIHZhciBhbmltYXRpb25Qcm9taXNlcyA9IHRoaXMuZW5naW5lQW5pbWF0aW9uLmhhbmRsZShhbmltYXRpb25GbG93KTtcbiAgICAgICAgICAgIGNvbnN0IEFOSU1BVElPTl9MRUFWRV9JTkRFWCA9IDE7XG4gICAgICAgICAgICB2YXIgaGlkZUxlYXZlU2xpZGVBZnRlckFuaW1hdGlvbkVuZHMgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uUHJvbWlzZXNbQU5JTUFUSU9OX0xFQVZFX0lOREVYXS50aGVuKGZ1bmN0aW9uIChhbmltYXRpb25PcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghYW5pbWF0aW9uQ2FuY2VsZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICBvbGRBY3RpdmVFbGVtZW50LmNsYXNzTGlzdC5hZGQoQ2Fyb3VzZWxCYXNpYy5TSU5HTEVfU0xJREVfQ0FST1VTRUxfU1RZTEVTLlNMSURFX0hJRERFTik7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmFkZExpc3RlbmVyKENhcm91c2VsQmFzaWMuU0lOR0xFX1NMSURFX0NBUk9VU0VMX0VWRU5UUy5PTl9DQU5DRUxfQU5JTUFUSU9OLCBjYW5jZWxBbmltYXRpb25IYW5kbGVyKTtcbiAgICAgICAgICAgIHZhciBzb3JhSGFuZGxlclN0YXR1cyA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvblByb21pc2VzWzBdLFxuICAgICAgICAgICAgICAgICAgICBoaWRlTGVhdmVTbGlkZUFmdGVyQW5pbWF0aW9uRW5kcyxcbiAgICAgICAgICAgICAgICBdKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhbmltYXRpb25DYW5jZWxlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2xkQWN0aXZlRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKENhcm91c2VsQmFzaWMuU0lOR0xFX1NMSURFX0NBUk9VU0VMX1NUWUxFUy5TTElERV9BQ1RJVkUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3QWN0aXZlRWxlbWVudC5jbGFzc0xpc3QuYWRkKENhcm91c2VsQmFzaWMuU0lOR0xFX1NMSURFX0NBUk9VU0VMX1NUWUxFUy5TTElERV9BQ1RJVkUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5hY3RpdmVJbmRleCA9IG5ld0FjdGl2ZUluZGV4O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5jdXJyZW50QW5pbWF0aW9uID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGF0LnJlbW92ZUxpc3RlbmVyKENPTExFQ1RJT05fTUFOQUdFUl9FVkVOVFMuY29sbGVjdGlvbkJlZm9yZUNoYW5nZSwgb25CZWZvcmVDaGFuZ2UpO1xuICAgICAgICAgICAgICAgICAgICB0aGF0LnJlbW92ZUxpc3RlbmVyKENPTExFQ1RJT05fTUFOQUdFUl9FVkVOVFMuY29sbGVjdGlvbkFmdGVyQ2hhbmdlLCBvbkFmdGVyQ2hhbmdlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5yZW1vdmVMaXN0ZW5lcihDYXJvdXNlbEJhc2ljLlNJTkdMRV9TTElERV9DQVJPVVNFTF9FVkVOVFMuT05fQ0FOQ0VMX0FOSU1BVElPTiwgY2FuY2VsQW5pbWF0aW9uSGFuZGxlcik7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQuZXZlbnRFbWl0dGVyLmVtaXQoQ2Fyb3VzZWxCYXNpYy5TSU5HTEVfU0xJREVfQ0FST1VTRUxfRVZFTlRTLk9OX0FOSU1BVElPTl9FTkQsIHt9KTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uUHJvbWlzZXM6IGFuaW1hdGlvblByb21pc2VzLFxuICAgICAgICAgICAgICAgIHNvcmFIYW5kbGVyU3RhdHVzOiBzb3JhSGFuZGxlclN0YXR1cyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmVzZXRDYXJvdXNlbFN0cnVjdHVyZShhY3RpdmVJbmRleCkge1xuICAgICAgICAgICAgdmFyIGNvbGxlY3Rpb24gPSB0aGlzLmVsZW1lbnRzTWFuYWdlci5nZXRDb2xsZWN0aW9uKCk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbGxlY3Rpb24ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICB3aGlsZSAoY29sbGVjdGlvbltpXS5jbGFzc0xpc3QubGVuZ3RoID4gMClcbiAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbltpXS5jbGFzc0xpc3QucmVtb3ZlKGNvbGxlY3Rpb25baV0uY2xhc3NMaXN0Lml0ZW0oMCkpO1xuICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25baV0uY2xhc3NMaXN0LmFkZChDYXJvdXNlbEJhc2UuQ0FST1VTRUxfU1RZTEVTLlNMSURFKTtcbiAgICAgICAgICAgICAgICBpZiAoYWN0aXZlSW5kZXggPT09IGkpXG4gICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25baV0uY2xhc3NMaXN0LmFkZChDYXJvdXNlbEJhc2ljLlNJTkdMRV9TTElERV9DQVJPVVNFTF9TVFlMRVMuU0xJREVfQUNUSVZFKTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25baV0uY2xhc3NMaXN0LmFkZChDYXJvdXNlbEJhc2ljLlNJTkdMRV9TTElERV9DQVJPVVNFTF9TVFlMRVMuU0xJREVfSElEREVOKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBDYXJvdXNlbEJhc2ljLlNpbmdsZVNsaWRlQ2Fyb3VzZWwgPSBTaW5nbGVTbGlkZUNhcm91c2VsO1xufSkoQ2Fyb3VzZWxCYXNpYyB8fCAoQ2Fyb3VzZWxCYXNpYyA9IHt9KSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNhcm91c2VsLWJhc2ljLmpzLm1hcFxuIiwiZXhwb3J0IGNvbnN0IENPTExFQ1RJT05fTUFOQUdFUl9FVkVOVFMgPSB7XG4gICAgY29sbGVjdGlvbkFmdGVyQ2hhbmdlOiAnY29sbC5jaC5hJyxcbiAgICBjb2xsZWN0aW9uQmVmb3JlQ2hhbmdlOiAnY29sbC5jaC5iJyxcbn07XG5leHBvcnQgY2xhc3MgQ29sbGVjdGlvbkNoYW5nZUV2ZW50QXJncyB7XG4gICAgY29uc3RydWN0b3IoaW5kZXhNYXAsIG5ld0VsZW1lbnRzLCBwcmV2ZW50RGVmYXVsdCkge1xuICAgICAgICB0aGlzLmluZGV4TWFwID0gaW5kZXhNYXA7XG4gICAgICAgIHRoaXMubmV3RWxlbWVudHMgPSBuZXdFbGVtZW50cztcbiAgICAgICAgdGhpcy5wcmV2ZW50RGVmYXVsdCA9IHByZXZlbnREZWZhdWx0O1xuICAgIH1cbiAgICBnZXRJbmRleE1hcCgpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHRoaXMuaW5kZXhNYXApO1xuICAgIH1cbiAgICBnZXROZXdFbGVtZW50cygpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHRoaXMubmV3RWxlbWVudHMpO1xuICAgIH1cbiAgICBnZXRQcmV2ZW50RGVmYXVsdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJldmVudERlZmF1bHQ7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIENhbmNlbGFibGVDb2xsZWN0aW9uQ2hhbmdlRXZlbnRBcmdzIGV4dGVuZHMgQ29sbGVjdGlvbkNoYW5nZUV2ZW50QXJncyB7XG4gICAgY29uc3RydWN0b3IoaW5kZXhNYXAsIG5ld0VsZW1lbnRzKSB7XG4gICAgICAgIHN1cGVyKGluZGV4TWFwLCBuZXdFbGVtZW50cywgZmFsc2UpO1xuICAgIH1cbiAgICBzZXRQcmV2ZW50RGVmYXVsdCgpIHtcbiAgICAgICAgdGhpcy5wcmV2ZW50RGVmYXVsdCA9IHRydWU7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIENvbGxlY3Rpb25NYW5hZ2VyIHtcbiAgICBjb25zdHJ1Y3Rvcihjb2xsZWN0aW9uLCBldmVudEVtaXR0ZXIpIHtcbiAgICAgICAgdGhpcy5jb2xsZWN0aW9uID0gY29sbGVjdGlvbjtcbiAgICAgICAgdGhpcy5ldmVudEVtaXR0ZXIgPSBldmVudEVtaXR0ZXI7XG4gICAgfVxuICAgIGdldENvbGxlY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbGxlY3Rpb247XG4gICAgfVxuICAgIGdldExlbmd0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29sbGVjdGlvbi5sZW5ndGg7XG4gICAgfVxuICAgIGluc2VydEVsZW1lbnRzKGVsZW1lbnRzKSB7XG4gICAgICAgIHRoaXMuaW50ZXJuYWxJbnNlcnRFbGVtZW50cyhlbGVtZW50cyk7XG4gICAgfVxuICAgIGludGVybmFsSW5zZXJ0RWxlbWVudHMoZWxlbWVudHMpIHtcbiAgICAgICAgdmFyIGtleXMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgZm9yICh2YXIgZWxlbUluZGV4IGluIGVsZW1lbnRzKSB7XG4gICAgICAgICAgICB2YXIgbnVtYmVyRWxlbUluZGV4ID0gTnVtYmVyKGVsZW1JbmRleCk7XG4gICAgICAgICAgICBpZiAobnVtYmVyRWxlbUluZGV4IDwgMClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBpbmRleCBwYXJhbSBzaG91bGQgYmUgZ3JlYXRlciBvciBlcXVhbHMgemVyby4nKTtcbiAgICAgICAgICAgIGlmIChudW1iZXJFbGVtSW5kZXggPiB0aGlzLmNvbGxlY3Rpb24ubGVuZ3RoKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIGluZGV4IHBhcmFtIHNob3VsZCBiZSBsZXNzIG9yIGVxdWFscyB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIG9mIHRoZSBjb2xsZWN0aW9uLicpO1xuICAgICAgICAgICAga2V5cy5wdXNoKG51bWJlckVsZW1JbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAga2V5cyA9IGtleXMuc29ydChmdW5jdGlvbiAobnVtYmVyMSwgbnVtYmVyMikge1xuICAgICAgICAgICAgcmV0dXJuIG51bWJlcjEgLSBudW1iZXIyO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGtleXMubGVuZ3RoID09IDApXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHZhciBuZXdFbGVtZW50cyA9IG5ldyBBcnJheSh0aGlzLmNvbGxlY3Rpb24ubGVuZ3RoICsga2V5cy5sZW5ndGgpO1xuICAgICAgICB2YXIgaW5kZXhNYXAgPSB7fTtcbiAgICAgICAgaWYgKGtleXMubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IGtleXNbMF07XG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IGVsZW1lbnRzW2luZGV4XTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5kZXg7ICsraSkge1xuICAgICAgICAgICAgICAgIG5ld0VsZW1lbnRzW2ldID0gdGhpcy5jb2xsZWN0aW9uW2ldO1xuICAgICAgICAgICAgICAgIGluZGV4TWFwW2ldID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5ld0VsZW1lbnRzW2luZGV4XSA9IGVsZW1lbnQ7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gaW5kZXggKyAxOyBpIDwgbmV3RWxlbWVudHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBuZXdFbGVtZW50c1tpXSA9IHRoaXMuY29sbGVjdGlvbltpIC0gMV07XG4gICAgICAgICAgICAgICAgaW5kZXhNYXBbaSAtIDFdID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5c1swXTsgKytpKSB7XG4gICAgICAgICAgICAgICAgbmV3RWxlbWVudHNbaV0gPSB0aGlzLmNvbGxlY3Rpb25baV07XG4gICAgICAgICAgICAgICAgaW5kZXhNYXBbaV0gPSBpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV3RWxlbWVudHNba2V5c1swXV0gPSBlbGVtZW50c1trZXlzWzBdXTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIHZhciBpbmRleFByZXZpb3VzID0ga2V5c1tpIC0gMV07XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0ga2V5c1tpXTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gaW5kZXhQcmV2aW91cyArIDE7IGogPCBpbmRleDsgKytqKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld0VsZW1lbnRzW2pdID0gdGhpcy5jb2xsZWN0aW9uW2ogLSBpXTtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXhNYXBbaiAtIGldID0gajtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbmV3RWxlbWVudHNbaW5kZXhdID0gZWxlbWVudHNbaW5kZXhdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IGtleXNba2V5cy5sZW5ndGggLSAxXSArIDE7IGkgPCBuZXdFbGVtZW50cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIG5ld0VsZW1lbnRzW2ldID0gdGhpcy5jb2xsZWN0aW9uW2kgLSBrZXlzLmxlbmd0aF07XG4gICAgICAgICAgICAgICAgaW5kZXhNYXBbaSAtIGtleXMubGVuZ3RoXSA9IGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbnRlcm5hbFRyeVRvQ2hhbmdlQ29sbGVjdGlvbihpbmRleE1hcCwgbmV3RWxlbWVudHMpO1xuICAgIH1cbiAgICBpbnRlcm5hbFJlbW92ZUVsZW1lbnRzKGluZGV4ZXMpIHtcbiAgICAgICAgaW5kZXhlcyA9IGluZGV4ZXMuc29ydChmdW5jdGlvbiAobnVtYmVyMSwgbnVtYmVyMikge1xuICAgICAgICAgICAgcmV0dXJuIG51bWJlcjEgLSBudW1iZXIyO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGluZGV4TWFwID0ge307XG4gICAgICAgIHZhciBuZXdFbGVtZW50cyA9IG5ldyBBcnJheSgpO1xuICAgICAgICB2YXIgY291bnRlciA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jb2xsZWN0aW9uLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBpZiAoaW5kZXhlc1tjb3VudGVyXSA9PSBpKVxuICAgICAgICAgICAgICAgICsrY291bnRlcjtcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG5ld0VsZW1lbnRzW2kgLSBjb3VudGVyXSA9IHRoaXMuY29sbGVjdGlvbltpXTtcbiAgICAgICAgICAgICAgICBpbmRleE1hcFtpXSA9IGkgLSBjb3VudGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW50ZXJuYWxUcnlUb0NoYW5nZUNvbGxlY3Rpb24oaW5kZXhNYXAsIG5ld0VsZW1lbnRzKTtcbiAgICB9XG4gICAgaW50ZXJuYWxUcnlUb0NoYW5nZUNvbGxlY3Rpb24oaW5kZXhNYXAgPSB7fSwgbmV3RWxlbWVudHMpIHtcbiAgICAgICAgdmFyIGNhbmNlbGFibGVDaGFuZ2VFdmVudEFyZ3MgPSBuZXcgQ2FuY2VsYWJsZUNvbGxlY3Rpb25DaGFuZ2VFdmVudEFyZ3MoaW5kZXhNYXAsIG5ld0VsZW1lbnRzKTtcbiAgICAgICAgdGhpcy5ldmVudEVtaXR0ZXIuZW1pdChDT0xMRUNUSU9OX01BTkFHRVJfRVZFTlRTLmNvbGxlY3Rpb25CZWZvcmVDaGFuZ2UsIGNhbmNlbGFibGVDaGFuZ2VFdmVudEFyZ3MpO1xuICAgICAgICBpZiAoIWNhbmNlbGFibGVDaGFuZ2VFdmVudEFyZ3MuZ2V0UHJldmVudERlZmF1bHQoKSlcbiAgICAgICAgICAgIHRoaXMuY29sbGVjdGlvbiA9IG5ld0VsZW1lbnRzO1xuICAgICAgICB2YXIgY2hhbmdlRXZlbnRBcmdzID0gbmV3IENvbGxlY3Rpb25DaGFuZ2VFdmVudEFyZ3MoaW5kZXhNYXAsIG5ld0VsZW1lbnRzLCBjYW5jZWxhYmxlQ2hhbmdlRXZlbnRBcmdzLmdldFByZXZlbnREZWZhdWx0KCkpO1xuICAgICAgICB0aGlzLmV2ZW50RW1pdHRlci5lbWl0KENPTExFQ1RJT05fTUFOQUdFUl9FVkVOVFMuY29sbGVjdGlvbkFmdGVyQ2hhbmdlLCBjaGFuZ2VFdmVudEFyZ3MpO1xuICAgICAgICByZXR1cm4gY2hhbmdlRXZlbnRBcmdzO1xuICAgIH1cbiAgICByZW1vdmVFbGVtZW50cyhpbmRleGVzKSB7XG4gICAgICAgIHRoaXMuaW50ZXJuYWxSZW1vdmVFbGVtZW50cyhpbmRleGVzKTtcbiAgICB9XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbGxlY3Rpb24tbWFuYWdlci5qcy5tYXBcbiIsImltcG9ydCB7IENvbGxlY3Rpb25NYW5hZ2VyIH0gZnJvbSBcIi4vY29sbGVjdGlvbi1tYW5hZ2VyXCI7XG5leHBvcnQgY2xhc3MgSHRtbENoaWxkcmVuTWFuYWdlciBleHRlbmRzIENvbGxlY3Rpb25NYW5hZ2VyIHtcbiAgICBjb25zdHJ1Y3Rvcihjb2xsZWN0aW9uLCBldmVudEVtaXR0ZXIsIHBhcmVudEVsZW1lbnQpIHtcbiAgICAgICAgc3VwZXIoY29sbGVjdGlvbiwgZXZlbnRFbWl0dGVyKTtcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50ID0gcGFyZW50RWxlbWVudDtcbiAgICB9XG4gICAgaW50ZXJuYWxUcnlUb0NoYW5nZUNvbGxlY3Rpb24oaW5kZXhNYXAgPSB7fSwgbmV3RWxlbWVudHMpIHtcbiAgICAgICAgdmFyIGV2ZW50QXJncyA9IHN1cGVyLmludGVybmFsVHJ5VG9DaGFuZ2VDb2xsZWN0aW9uKGluZGV4TWFwLCBuZXdFbGVtZW50cyk7XG4gICAgICAgIGlmICghZXZlbnRBcmdzLmdldFByZXZlbnREZWZhdWx0KCkpIHtcbiAgICAgICAgICAgIHZhciBkZWxldGlvblBpdm90ID0gMDtcbiAgICAgICAgICAgIHZhciBpbnNlcnRpb25QaXZvdCA9IDA7XG4gICAgICAgICAgICB2YXIgb2xkSW5kZXhlc0NvdW50ZXIgPSAwO1xuICAgICAgICAgICAgdmFyIG5ld0luZGV4ZXNDb3VudGVyID0gMDtcbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBpbmRleE1hcCkge1xuICAgICAgICAgICAgICAgIHZhciBrZXlOdW1iZXIgPSBOdW1iZXIoa2V5KTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gb2xkSW5kZXhlc0NvdW50ZXI7IGkgPCBrZXlOdW1iZXI7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQodGhpcy5wYXJlbnRFbGVtZW50LmNoaWxkcmVuW2kgKyBpbnNlcnRpb25QaXZvdCAtIGRlbGV0aW9uUGl2b3RdKTtcbiAgICAgICAgICAgICAgICAgICAgKytkZWxldGlvblBpdm90O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgbmV3SW5kZXggPSBpbmRleE1hcFtrZXldO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSBuZXdJbmRleGVzQ291bnRlcjsgaSA8IG5ld0luZGV4OyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50Lmluc2VydEJlZm9yZShuZXdFbGVtZW50c1tpXSwgdGhpcy5wYXJlbnRFbGVtZW50LmNoaWxkcmVuW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgKytpbnNlcnRpb25QaXZvdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb2xkSW5kZXhlc0NvdW50ZXIgPSBrZXlOdW1iZXIgKyAxO1xuICAgICAgICAgICAgICAgIG5ld0luZGV4ZXNDb3VudGVyID0gbmV3SW5kZXggKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IG5ld0luZGV4ZXNDb3VudGVyOyBpIDwgbmV3RWxlbWVudHMubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50LmFwcGVuZENoaWxkKG5ld0VsZW1lbnRzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZXZlbnRBcmdzO1xuICAgIH1cbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aHRtbC1jaGlsZHJlbi1tYW5hZ2VyLmpzLm1hcFxuIiwiaW1wb3J0IHsgU2luZ2xlU2xpZGVDYXJvdXNlbFRlc3RzIH0gZnJvbSAnLi90ZXN0L2Nhcm91c2VsL2Nhcm91c2VsLWJhc2ljLnRlc3QnO1xuaW1wb3J0IHsgQ29sbGVjdGlvbk1hbmFnZXJUZXN0cyB9IGZyb20gJy4vdGVzdC9jb2xsZWN0aW9uL2NvbGxlY3Rpb24tbWFuYWdlci50ZXN0JztcbnZhciBzb3JhVGVzdCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBwZXJmb3JtVGVzdHM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIG5ldyBTaW5nbGVTbGlkZUNhcm91c2VsVGVzdHMoKS5wZXJmb3JtVGVzdHMoKTtcbiAgICAgICAgICAgIG5ldyBDb2xsZWN0aW9uTWFuYWdlclRlc3RzKCkucGVyZm9ybVRlc3RzKCk7XG4gICAgICAgIH0sXG4gICAgfTtcbn0oKTtcbm1vZHVsZS5leHBvcnRzID0gc29yYVRlc3Q7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1haW4udGVzdC5qcy5tYXBcbiIsImltcG9ydCB7IENhcm91c2VsQmFzZSB9IGZyb20gJy4uLy4uLy4uL3NyYy9jYXJvdXNlbC9jYXJvdXNlbC1iYXNlJztcbmltcG9ydCB7IENhcm91c2VsQmFzaWMgfSBmcm9tICcuLi8uLi8uLi9zcmMvY2Fyb3VzZWwvY2Fyb3VzZWwtYmFzaWMnO1xuZXhwb3J0IGNsYXNzIFNpbmdsZVNsaWRlQ2Fyb3VzZWxUZXN0cyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMubG9uZ1RpbWVMaW1pdCA9IDEwMDAwMDAwMDtcbiAgICB9XG4gICAgZ2VuZXJhdGVCYXNpY0Nhcm91c2VsKCkge1xuICAgICAgICB2YXIgZGl2RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBkaXZFbGVtZW50LmNsYXNzTGlzdC5hZGQoQ2Fyb3VzZWxCYXNlLkNBUk9VU0VMX1NUWUxFUy5DQVJPVVNFTCk7XG4gICAgICAgIGRpdkVsZW1lbnQuaW5uZXJIVE1MID1cbiAgICAgICAgICAgIGA8ZGl2IGNsYXNzPVwic29yYS13cmFwcGVyXCI+XHJcbiAgICA8ZGl2IGNsYXNzPVwic29yYS1zbGlkZVwiPlxyXG4gICAgICAgIDxzcGFuPkNvbnRlbnQgMTwvc3Bhbj5cclxuICAgIDwvZGl2PlxyXG4gICAgPGRpdiBjbGFzcz1cInNvcmEtc2xpZGVcIj5cclxuICAgICAgICA8c3Bhbj5Db250ZW50IDI8L3NwYW4+XHJcbiAgICA8L2Rpdj5cclxuICAgIDxkaXYgY2xhc3M9XCJzb3JhLXNsaWRlXCI+XHJcbiAgICAgICAgPHNwYW4+Q29udGVudCAzPC9zcGFuPlxyXG4gICAgPC9kaXY+XHJcbjwvZGl2PmA7XG4gICAgICAgIHJldHVybiBkaXZFbGVtZW50O1xuICAgIH1cbiAgICBwZXJmb3JtVGVzdHMoKSB7XG4gICAgICAgIGRlc2NyaWJlKCdTaW5nbGVTbGlkZUNhcm91c2VsIFRlc3RzJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5pdE11c3RCZUluaXRpYWxpemFibGUoKTtcbiAgICAgICAgICAgIHRoaXMuaXRNdXN0QmVBYmxlVG9DYW5jZWxBbmltYXRpb24oKTtcbiAgICAgICAgICAgIHRoaXMuaXRNdXN0QmVBYmxlVG9Hb1RvU2xpZGVzKCk7XG4gICAgICAgICAgICB0aGlzLml0TXVzdEJlQWJsZVRvR29Ub1NsaWRlc1doaWxlQWRkaW5nRWxlbWVudHMoKTtcbiAgICAgICAgICAgIHRoaXMuaXRNdXN0QmVBYmxlVG9Hb1RvU2xpZGVzV2hpbGVSZW1vdmluZ0FuaW1hdGlvbkVsZW1lbnRzKCk7XG4gICAgICAgICAgICB0aGlzLml0TXVzdEJlQWJsZVRvR29Ub1NsaWRlc1doaWxlUmVtb3ZpbmdPdGhlckVsZW1lbnRzKCk7XG4gICAgICAgICAgICB0aGlzLml0TXVzdEJlQWJsZVRvSGFuZGxlQ2hpbGRyZW5BbmltYXRpb25zKCk7XG4gICAgICAgICAgICB0aGlzLml0TXVzdEJlQWJsZVRvUGF1c2VBbmRSZXN1bWVBbmltYXRpb24oKTtcbiAgICAgICAgICAgIHRoaXMuaXRNdXN0QmVBYmxlVG9SdW5Db21wbGV4QW5pbWF0aW9ucygpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcGVyZm9ybUdvQW5kQ2hlY2soYWN0aW9uLCBjYXJvdXNlbCwgZW50ZXJBbmltYXRpb24sIGxlYXZlQW5pbWF0aW9uLCBzaG91bGRDaGVjayA9IHRydWUpIHtcbiAgICAgICAgZXhwZWN0KFtcbiAgICAgICAgICAgIENhcm91c2VsQmFzaWMuU0lOR0xFX1NMSURFX0NBUk9VU0VMX0FDVElPTlMuR09fVE9fTkVYVCxcbiAgICAgICAgICAgIENhcm91c2VsQmFzaWMuU0lOR0xFX1NMSURFX0NBUk9VU0VMX0FDVElPTlMuR09fVE9fUFJFVklPVVMsXG4gICAgICAgIF0pLnRvQ29udGFpbihhY3Rpb24pO1xuICAgICAgICB2YXIgY3VycmVudEFjdGl2ZUVsZW1lbnQgPSBjYXJvdXNlbC5nZXRBY3RpdmVFbGVtZW50KCk7XG4gICAgICAgIHZhciBhY3RpdmVJbmRleCA9IGNhcm91c2VsLmdldEFjdGl2ZUluZGV4KCk7XG4gICAgICAgIHZhciBpbmRleGVzID0gY2Fyb3VzZWwuZ2V0RWxlbWVudHNNYW5hZ2VyKCkuZ2V0TGVuZ3RoKCk7XG4gICAgICAgIHZhciBuZXh0SW5kZXggPSBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgICAgICBpZiAoQ2Fyb3VzZWxCYXNpYy5TSU5HTEVfU0xJREVfQ0FST1VTRUxfQUNUSU9OUy5HT19UT19ORVhUID09IGFjdGlvbilcbiAgICAgICAgICAgICAgICByZXR1cm4gKGFjdGl2ZUluZGV4ICsgMSkgJSBpbmRleGVzO1xuICAgICAgICAgICAgZWxzZSBpZiAoQ2Fyb3VzZWxCYXNpYy5TSU5HTEVfU0xJREVfQ0FST1VTRUxfQUNUSU9OUy5HT19UT19QUkVWSU9VUyA9PSBhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKChhY3RpdmVJbmRleCAtIDEpICsgaW5kZXhlcykgJSBpbmRleGVzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5leHBlY3RlZCBhY3Rpb24nKTtcbiAgICAgICAgfShhY3Rpb24pO1xuICAgICAgICB2YXIgbmV4dEVsZW1lbnQgPSBjYXJvdXNlbC5nZXRFbGVtZW50c01hbmFnZXIoKS5nZXRDb2xsZWN0aW9uKClbbmV4dEluZGV4XTtcbiAgICAgICAgdmFyIGdvQWN0aW9uU3RhdHVzID0gY2Fyb3VzZWwuaGFuZGxlKGFjdGlvbiwge1xuICAgICAgICAgICAgZW50ZXJBbmltYXRpb246IGVudGVyQW5pbWF0aW9uLFxuICAgICAgICAgICAgbGVhdmVBbmltYXRpb246IGxlYXZlQW5pbWF0aW9uLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHNob3VsZENoZWNrKVxuICAgICAgICAgICAgZ29BY3Rpb25TdGF0dXMuc29yYUhhbmRsZXJTdGF0dXMudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZXhwZWN0KGN1cnJlbnRBY3RpdmVFbGVtZW50LmNsYXNzTGlzdCkubm90LnRvQ29udGFpbihDYXJvdXNlbEJhc2ljLlNJTkdMRV9TTElERV9DQVJPVVNFTF9TVFlMRVMuU0xJREVfQUNUSVZFKTtcbiAgICAgICAgICAgICAgICBleHBlY3QoY3VycmVudEFjdGl2ZUVsZW1lbnQuY2xhc3NMaXN0KS50b0NvbnRhaW4oQ2Fyb3VzZWxCYXNpYy5TSU5HTEVfU0xJREVfQ0FST1VTRUxfU1RZTEVTLlNMSURFX0hJRERFTik7XG4gICAgICAgICAgICAgICAgZXhwZWN0KG5leHRFbGVtZW50LmNsYXNzTGlzdCkudG9Db250YWluKENhcm91c2VsQmFzaWMuU0lOR0xFX1NMSURFX0NBUk9VU0VMX1NUWUxFUy5TTElERV9BQ1RJVkUpO1xuICAgICAgICAgICAgICAgIGV4cGVjdChuZXh0RWxlbWVudC5jbGFzc0xpc3QpLm5vdC50b0NvbnRhaW4oQ2Fyb3VzZWxCYXNpYy5TSU5HTEVfU0xJREVfQ0FST1VTRUxfU1RZTEVTLlNMSURFX0hJRERFTik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGdvQWN0aW9uU3RhdHVzOiBnb0FjdGlvblN0YXR1cyxcbiAgICAgICAgICAgIG5ld0VsZW1lbnQ6IG5leHRFbGVtZW50LFxuICAgICAgICAgICAgb2xkRWxlbWVudDogY3VycmVudEFjdGl2ZUVsZW1lbnQsXG4gICAgICAgIH07XG4gICAgfVxuICAgIHBlcmZvcm1Hb05leHQoY2Fyb3VzZWwsIGVudGVyQW5pbWF0aW9uLCBsZWF2ZUFuaW1hdGlvbiwgc2hvdWxkQ2hlY2sgPSB0cnVlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBlcmZvcm1Hb0FuZENoZWNrKENhcm91c2VsQmFzaWMuU0lOR0xFX1NMSURFX0NBUk9VU0VMX0FDVElPTlMuR09fVE9fTkVYVCwgY2Fyb3VzZWwsIGVudGVyQW5pbWF0aW9uLCBsZWF2ZUFuaW1hdGlvbiwgc2hvdWxkQ2hlY2spO1xuICAgIH1cbiAgICBwZXJmb3JtR29QcmV2aW91cyhjYXJvdXNlbCwgZW50ZXJBbmltYXRpb24sIGxlYXZlQW5pbWF0aW9uLCBzaG91bGRDaGVjayA9IHRydWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGVyZm9ybUdvQW5kQ2hlY2soQ2Fyb3VzZWxCYXNpYy5TSU5HTEVfU0xJREVfQ0FST1VTRUxfQUNUSU9OUy5HT19UT19QUkVWSU9VUywgY2Fyb3VzZWwsIGVudGVyQW5pbWF0aW9uLCBsZWF2ZUFuaW1hdGlvbiwgc2hvdWxkQ2hlY2spO1xuICAgIH1cbiAgICBpdE11c3RCZUluaXRpYWxpemFibGUoKSB7XG4gICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgaXQoJ211c3RCZUluaXRpYWxpemFibGUnLCAoKSA9PiB7XG4gICAgICAgICAgICB2YXIgZGl2RWxlbWVudCA9IHRoYXQuZ2VuZXJhdGVCYXNpY0Nhcm91c2VsKCk7XG4gICAgICAgICAgICB2YXIgY2Fyb3VzZWwgPSBuZXcgQ2Fyb3VzZWxCYXNpYy5TaW5nbGVTbGlkZUNhcm91c2VsKGRpdkVsZW1lbnQsIHsgaW5kZXg6IDAgfSk7XG4gICAgICAgICAgICBleHBlY3QoY2Fyb3VzZWwpLm5vdC50b0JlTnVsbCgpO1xuICAgICAgICAgICAgdmFyIHdyYXBwZXIgPSBkaXZFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy4nICsgQ2Fyb3VzZWxCYXNlLkNBUk9VU0VMX1NUWUxFUy5XUkFQUEVSKTtcbiAgICAgICAgICAgIGV4cGVjdCh3cmFwcGVyLmxlbmd0aCkudG9CZSgxKTtcbiAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IGRpdkVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLicgKyBDYXJvdXNlbEJhc2UuQ0FST1VTRUxfU1RZTEVTLldSQVBQRVIgKyAnID4gLicgKyBDYXJvdXNlbEJhc2UuQ0FST1VTRUxfU1RZTEVTLlNMSURFKTtcbiAgICAgICAgICAgIGV4cGVjdChjaGlsZHJlbi5sZW5ndGgpLnRvQmUoMyk7XG4gICAgICAgICAgICBleHBlY3QoY2hpbGRyZW5bMF0uY2xhc3NMaXN0KS50b0NvbnRhaW4oQ2Fyb3VzZWxCYXNpYy5TSU5HTEVfU0xJREVfQ0FST1VTRUxfU1RZTEVTLlNMSURFX0FDVElWRSk7XG4gICAgICAgICAgICBleHBlY3QoY2hpbGRyZW5bMF0uY2xhc3NMaXN0KS5ub3QudG9Db250YWluKENhcm91c2VsQmFzaWMuU0lOR0xFX1NMSURFX0NBUk9VU0VMX1NUWUxFUy5TTElERV9ISURERU4pO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBjaGlsZHJlbi5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIGV4cGVjdChjaGlsZHJlbltpXS5jbGFzc0xpc3QpLm5vdC50b0NvbnRhaW4oQ2Fyb3VzZWxCYXNpYy5TSU5HTEVfU0xJREVfQ0FST1VTRUxfU1RZTEVTLlNMSURFX0FDVElWRSk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KGNoaWxkcmVuW2ldLmNsYXNzTGlzdCkudG9Db250YWluKENhcm91c2VsQmFzaWMuU0lOR0xFX1NMSURFX0NBUk9VU0VMX1NUWUxFUy5TTElERV9ISURERU4pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaXRNdXN0QmVBYmxlVG9DYW5jZWxBbmltYXRpb24oKSB7XG4gICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgaXQoJ211c3RCZUFibGVUb0NhbmNlbEFuaW1hdGlvbicsIChkb25lKSA9PiB7XG4gICAgICAgICAgICBmdW5jdGlvbiBnb05leHQoY2Fyb3VzZWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhhdC5wZXJmb3JtR29OZXh0KGNhcm91c2VsLCB7IHNsaWRlU3R5bGVzOiBbJ3NvcmEtZmFkZS1pbi1hbmltYXRpb24nLF0gfSwgeyBzbGlkZVN0eWxlczogWydzb3JhLWZhZGUtb3V0LWFuaW1hdGlvbicsXSB9LCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZGl2RWxlbWVudCA9IHRoYXQuZ2VuZXJhdGVCYXNpY0Nhcm91c2VsKCk7XG4gICAgICAgICAgICB2YXIgY2Fyb3VzZWwgPSBuZXcgQ2Fyb3VzZWxCYXNpYy5TaW5nbGVTbGlkZUNhcm91c2VsKGRpdkVsZW1lbnQsIHsgaW5kZXg6IDAgfSk7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpdkVsZW1lbnQpO1xuICAgICAgICAgICAgdmFyIGV4ZWN1dGlvblByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgdmFyIGFuaW1hdGlvblN0YXR1cyA9IGdvTmV4dChjYXJvdXNlbCk7XG4gICAgICAgICAgICAgICAgY2Fyb3VzZWwuZm9yY2VBY3RpdmVTbGlkZSgyKTtcbiAgICAgICAgICAgICAgICB2YXIgdGhpcmRFbGVtZW50ID0gY2Fyb3VzZWwuZ2V0RWxlbWVudHNNYW5hZ2VyKCkuZ2V0Q29sbGVjdGlvbigpWzJdO1xuICAgICAgICAgICAgICAgIGV4cGVjdCh0aGlyZEVsZW1lbnQuY2xhc3NMaXN0KS5ub3QudG9Db250YWluKENhcm91c2VsQmFzaWMuU0lOR0xFX1NMSURFX0NBUk9VU0VMX1NUWUxFUy5TTElERV9ISURERU4pO1xuICAgICAgICAgICAgICAgIGV4cGVjdCh0aGlyZEVsZW1lbnQuY2xhc3NMaXN0KS50b0NvbnRhaW4oQ2Fyb3VzZWxCYXNpYy5TSU5HTEVfU0xJREVfQ0FST1VTRUxfU1RZTEVTLlNMSURFX0FDVElWRSk7XG4gICAgICAgICAgICAgICAgUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25TdGF0dXMuZ29BY3Rpb25TdGF0dXMuc29yYUhhbmRsZXJTdGF0dXMsXG4gICAgICAgICAgICAgICAgXSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBvbGRBY3RpdmVFbGVtZW50ID0gYW5pbWF0aW9uU3RhdHVzLm9sZEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdBY3RpdmVFbGVtZW50ID0gYW5pbWF0aW9uU3RhdHVzLm5ld0VsZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdChuZXdBY3RpdmVFbGVtZW50KS50b0JlKGNhcm91c2VsLmdldEVsZW1lbnRzTWFuYWdlcigpLmdldENvbGxlY3Rpb24oKVsxXSk7XG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdChuZXdBY3RpdmVFbGVtZW50LmNsYXNzTGlzdCkubm90LnRvQ29udGFpbihDYXJvdXNlbEJhc2ljLlNJTkdMRV9TTElERV9DQVJPVVNFTF9TVFlMRVMuU0xJREVfQUNUSVZFKTtcbiAgICAgICAgICAgICAgICAgICAgZXhwZWN0KG5ld0FjdGl2ZUVsZW1lbnQuY2xhc3NMaXN0KS50b0NvbnRhaW4oQ2Fyb3VzZWxCYXNpYy5TSU5HTEVfU0xJREVfQ0FST1VTRUxfU1RZTEVTLlNMSURFX0hJRERFTik7XG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdChvbGRBY3RpdmVFbGVtZW50KS50b0JlKGNhcm91c2VsLmdldEVsZW1lbnRzTWFuYWdlcigpLmdldENvbGxlY3Rpb24oKVswXSk7XG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdChvbGRBY3RpdmVFbGVtZW50LmNsYXNzTGlzdCkubm90LnRvQ29udGFpbihDYXJvdXNlbEJhc2ljLlNJTkdMRV9TTElERV9DQVJPVVNFTF9TVFlMRVMuU0xJREVfQUNUSVZFKTtcbiAgICAgICAgICAgICAgICAgICAgZXhwZWN0KG9sZEFjdGl2ZUVsZW1lbnQuY2xhc3NMaXN0KS50b0NvbnRhaW4oQ2Fyb3VzZWxCYXNpYy5TSU5HTEVfU0xJREVfQ0FST1VTRUxfU1RZTEVTLlNMSURFX0hJRERFTik7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBleGVjdXRpb25Qcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZGl2RWxlbWVudCk7XG4gICAgICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgIGRvbmUuZmFpbChlcnIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpdE11c3RCZUFibGVUb0dvVG9TbGlkZXMoKSB7XG4gICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgaXQoJ211c3RCZUFibGVUb0dvVG9TbGlkZXMnLCBmdW5jdGlvbiAoZG9uZSkge1xuICAgICAgICAgICAgZnVuY3Rpb24gZ29OZXh0KGNhcm91c2VsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoYXQucGVyZm9ybUdvTmV4dChjYXJvdXNlbCwgeyBzbGlkZVN0eWxlczogWydzb3JhLWZhZGUtaW4tYW5pbWF0aW9uJyxdIH0sIHsgc2xpZGVTdHlsZXM6IFsnc29yYS1mYWRlLW91dC1hbmltYXRpb24nLF0gfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBnb1ByZXZpb3VzKGNhcm91c2VsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoYXQucGVyZm9ybUdvUHJldmlvdXMoY2Fyb3VzZWwsIHsgc2xpZGVTdHlsZXM6IFsnc29yYS1mYWRlLWluLWFuaW1hdGlvbicsXSB9LCB7IHNsaWRlU3R5bGVzOiBbJ3NvcmEtZmFkZS1vdXQtYW5pbWF0aW9uJyxdIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGRpdkVsZW1lbnQgPSB0aGF0LmdlbmVyYXRlQmFzaWNDYXJvdXNlbCgpO1xuICAgICAgICAgICAgdmFyIGNhcm91c2VsID0gbmV3IENhcm91c2VsQmFzaWMuU2luZ2xlU2xpZGVDYXJvdXNlbChkaXZFbGVtZW50LCB7IGluZGV4OiAwIH0pO1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkaXZFbGVtZW50KTtcbiAgICAgICAgICAgIHZhciBleGVjdXRpb25Qcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgIHZhciBhbmltYXRpb25TdGF0dXMgPSBnb05leHQoY2Fyb3VzZWwpO1xuICAgICAgICAgICAgICAgIHZhciBvbGRBY3RpdmVFbGVtZW50ID0gYW5pbWF0aW9uU3RhdHVzLm9sZEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgdmFyIG5ld0FjdGl2ZUVsZW1lbnQgPSBhbmltYXRpb25TdGF0dXMubmV3RWxlbWVudDtcbiAgICAgICAgICAgICAgICBleHBlY3Qob2xkQWN0aXZlRWxlbWVudCkudG9CZShjYXJvdXNlbC5nZXRFbGVtZW50c01hbmFnZXIoKS5nZXRDb2xsZWN0aW9uKClbMF0pO1xuICAgICAgICAgICAgICAgIGV4cGVjdChuZXdBY3RpdmVFbGVtZW50KS50b0JlKGNhcm91c2VsLmdldEVsZW1lbnRzTWFuYWdlcigpLmdldENvbGxlY3Rpb24oKVsxXSk7XG4gICAgICAgICAgICAgICAgUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25TdGF0dXMuZ29BY3Rpb25TdGF0dXMuc29yYUhhbmRsZXJTdGF0dXMsXG4gICAgICAgICAgICAgICAgXSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhbmltYXRpb25TdGF0dXMgPSBnb1ByZXZpb3VzKGNhcm91c2VsKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9sZEFjdGl2ZUVsZW1lbnQgPSBhbmltYXRpb25TdGF0dXMub2xkRWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0FjdGl2ZUVsZW1lbnQgPSBhbmltYXRpb25TdGF0dXMubmV3RWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgZXhwZWN0KG9sZEFjdGl2ZUVsZW1lbnQpLnRvQmUoY2Fyb3VzZWwuZ2V0RWxlbWVudHNNYW5hZ2VyKCkuZ2V0Q29sbGVjdGlvbigpWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgZXhwZWN0KG5ld0FjdGl2ZUVsZW1lbnQpLnRvQmUoY2Fyb3VzZWwuZ2V0RWxlbWVudHNNYW5hZ2VyKCkuZ2V0Q29sbGVjdGlvbigpWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uU3RhdHVzLmdvQWN0aW9uU3RhdHVzLnNvcmFIYW5kbGVyU3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICBdKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGV4ZWN1dGlvblByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChkaXZFbGVtZW50KTtcbiAgICAgICAgICAgICAgICBkb25lKCk7XG4gICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgZG9uZS5mYWlsKGVycik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgdGhpcy5sb25nVGltZUxpbWl0KTtcbiAgICB9XG4gICAgaXRNdXN0QmVBYmxlVG9Hb1RvU2xpZGVzV2hpbGVBZGRpbmdFbGVtZW50cygpIHtcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICBpdCgnbXVzdEJlQWJsZVRvR29Ub1NsaWRlc1doaWxlQWRkaW5nRWxlbWVudHMnLCBmdW5jdGlvbiAoZG9uZSkge1xuICAgICAgICAgICAgZnVuY3Rpb24gZ29OZXh0KGNhcm91c2VsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoYXQucGVyZm9ybUdvTmV4dChjYXJvdXNlbCwgeyBzbGlkZVN0eWxlczogWydzb3JhLWZhZGUtaW4tYW5pbWF0aW9uJyxdIH0sIHsgc2xpZGVTdHlsZXM6IFsnc29yYS1mYWRlLW91dC1hbmltYXRpb24nLF0gfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBnb1ByZXZpb3VzKGNhcm91c2VsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoYXQucGVyZm9ybUdvUHJldmlvdXMoY2Fyb3VzZWwsIHsgc2xpZGVTdHlsZXM6IFsnc29yYS1mYWRlLWluLWFuaW1hdGlvbicsXSB9LCB7IHNsaWRlU3R5bGVzOiBbJ3NvcmEtZmFkZS1vdXQtYW5pbWF0aW9uJyxdIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGRpdkVsZW1lbnQgPSB0aGF0LmdlbmVyYXRlQmFzaWNDYXJvdXNlbCgpO1xuICAgICAgICAgICAgdmFyIGNhcm91c2VsID0gbmV3IENhcm91c2VsQmFzaWMuU2luZ2xlU2xpZGVDYXJvdXNlbChkaXZFbGVtZW50LCB7IGluZGV4OiAwIH0pO1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkaXZFbGVtZW50KTtcbiAgICAgICAgICAgIHZhciBleGVjdXRpb25Qcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgIHZhciBhbmltYXRpb25TdGF0dXMgPSBnb05leHQoY2Fyb3VzZWwpO1xuICAgICAgICAgICAgICAgIHZhciBlbGVtZW50MCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgICAgIGVsZW1lbnQwLmNsYXNzTGlzdC5hZGQoQ2Fyb3VzZWxCYXNlLkNBUk9VU0VMX1NUWUxFUy5TTElERSk7XG4gICAgICAgICAgICAgICAgZWxlbWVudDAuY2xhc3NMaXN0LmFkZChDYXJvdXNlbEJhc2ljLlNJTkdMRV9TTElERV9DQVJPVVNFTF9TVFlMRVMuU0xJREVfSElEREVOKTtcbiAgICAgICAgICAgICAgICBlbGVtZW50MC5pbm5lckhUTUwgPSAnTmV3IENvbnRlbnQgMCc7XG4gICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgZWxlbWVudDEuY2xhc3NMaXN0LmFkZChDYXJvdXNlbEJhc2UuQ0FST1VTRUxfU1RZTEVTLlNMSURFKTtcbiAgICAgICAgICAgICAgICBlbGVtZW50MS5jbGFzc0xpc3QuYWRkKENhcm91c2VsQmFzaWMuU0lOR0xFX1NMSURFX0NBUk9VU0VMX1NUWUxFUy5TTElERV9ISURERU4pO1xuICAgICAgICAgICAgICAgIGVsZW1lbnQxLmlubmVySFRNTCA9ICdOZXcgQ29udGVudCAxJztcbiAgICAgICAgICAgICAgICB2YXIgZWxlbWVudDIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICBlbGVtZW50Mi5jbGFzc0xpc3QuYWRkKENhcm91c2VsQmFzZS5DQVJPVVNFTF9TVFlMRVMuU0xJREUpO1xuICAgICAgICAgICAgICAgIGVsZW1lbnQyLmNsYXNzTGlzdC5hZGQoQ2Fyb3VzZWxCYXNpYy5TSU5HTEVfU0xJREVfQ0FST1VTRUxfU1RZTEVTLlNMSURFX0hJRERFTik7XG4gICAgICAgICAgICAgICAgZWxlbWVudDIuaW5uZXJIVE1MID0gJ05ldyBDb250ZW50IDInO1xuICAgICAgICAgICAgICAgIHZhciBlbGVtZW50MyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgICAgIGVsZW1lbnQzLmNsYXNzTGlzdC5hZGQoQ2Fyb3VzZWxCYXNlLkNBUk9VU0VMX1NUWUxFUy5TTElERSk7XG4gICAgICAgICAgICAgICAgZWxlbWVudDMuY2xhc3NMaXN0LmFkZChDYXJvdXNlbEJhc2ljLlNJTkdMRV9TTElERV9DQVJPVVNFTF9TVFlMRVMuU0xJREVfSElEREVOKTtcbiAgICAgICAgICAgICAgICBlbGVtZW50My5pbm5lckhUTUwgPSAnTmV3IENvbnRlbnQgMyc7XG4gICAgICAgICAgICAgICAgY2Fyb3VzZWwuZ2V0RWxlbWVudHNNYW5hZ2VyKCkuaW5zZXJ0RWxlbWVudHMoe1xuICAgICAgICAgICAgICAgICAgICAwOiBlbGVtZW50MCxcbiAgICAgICAgICAgICAgICAgICAgMTogZWxlbWVudDEsXG4gICAgICAgICAgICAgICAgICAgIDI6IGVsZW1lbnQyLFxuICAgICAgICAgICAgICAgICAgICAzOiBlbGVtZW50MyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBleHBlY3QoY2Fyb3VzZWwuZ2V0RWxlbWVudHNNYW5hZ2VyKCkuZ2V0TGVuZ3RoKCkpLnRvQmUoNyk7XG4gICAgICAgICAgICAgICAgUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25TdGF0dXMuZ29BY3Rpb25TdGF0dXMuc29yYUhhbmRsZXJTdGF0dXMsXG4gICAgICAgICAgICAgICAgXSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBvbGRBY3RpdmVFbGVtZW50ID0gYW5pbWF0aW9uU3RhdHVzLm9sZEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdBY3RpdmVFbGVtZW50ID0gYW5pbWF0aW9uU3RhdHVzLm5ld0VsZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdChuZXdBY3RpdmVFbGVtZW50KS50b0JlKGNhcm91c2VsLmdldEVsZW1lbnRzTWFuYWdlcigpLmdldENvbGxlY3Rpb24oKVs1XSk7XG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdChvbGRBY3RpdmVFbGVtZW50KS50b0JlKGNhcm91c2VsLmdldEVsZW1lbnRzTWFuYWdlcigpLmdldENvbGxlY3Rpb24oKVs0XSk7XG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvblN0YXR1cyA9IGdvUHJldmlvdXMoY2Fyb3VzZWwpO1xuICAgICAgICAgICAgICAgICAgICBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25TdGF0dXMuZ29BY3Rpb25TdGF0dXMuc29yYUhhbmRsZXJTdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgIF0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9sZEFjdGl2ZUVsZW1lbnQgPSBhbmltYXRpb25TdGF0dXMub2xkRWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdBY3RpdmVFbGVtZW50ID0gYW5pbWF0aW9uU3RhdHVzLm5ld0VsZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBleHBlY3QobmV3QWN0aXZlRWxlbWVudCkudG9CZShjYXJvdXNlbC5nZXRFbGVtZW50c01hbmFnZXIoKS5nZXRDb2xsZWN0aW9uKClbNF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0KG9sZEFjdGl2ZUVsZW1lbnQpLnRvQmUoY2Fyb3VzZWwuZ2V0RWxlbWVudHNNYW5hZ2VyKCkuZ2V0Q29sbGVjdGlvbigpWzVdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvblN0YXR1cyA9IGdvUHJldmlvdXMoY2Fyb3VzZWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvblN0YXR1cy5nb0FjdGlvblN0YXR1cy5zb3JhSGFuZGxlclN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIF0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvbGRBY3RpdmVFbGVtZW50ID0gYW5pbWF0aW9uU3RhdHVzLm9sZEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0FjdGl2ZUVsZW1lbnQgPSBhbmltYXRpb25TdGF0dXMubmV3RWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBlY3QobmV3QWN0aXZlRWxlbWVudCkudG9CZShjYXJvdXNlbC5nZXRFbGVtZW50c01hbmFnZXIoKS5nZXRDb2xsZWN0aW9uKClbM10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdChvbGRBY3RpdmVFbGVtZW50KS50b0JlKGNhcm91c2VsLmdldEVsZW1lbnRzTWFuYWdlcigpLmdldENvbGxlY3Rpb24oKVs0XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBleGVjdXRpb25Qcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZGl2RWxlbWVudCk7XG4gICAgICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgIGRvbmUuZmFpbChlcnIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIHRoaXMubG9uZ1RpbWVMaW1pdCk7XG4gICAgfVxuICAgIGl0TXVzdEJlQWJsZVRvR29Ub1NsaWRlc1doaWxlUmVtb3ZpbmdBbmltYXRpb25FbGVtZW50cygpIHtcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICBpdCgnbXVzdEJlQWJsZVRvR29Ub1NsaWRlc1doaWxlUmVtb3ZpbmdBbmltYXRpb25FbGVtZW50cycsIGZ1bmN0aW9uIChkb25lKSB7XG4gICAgICAgICAgICBmdW5jdGlvbiBnb05leHQoY2Fyb3VzZWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhhdC5wZXJmb3JtR29OZXh0KGNhcm91c2VsLCB7IHNsaWRlU3R5bGVzOiBbJ3NvcmEtZmFkZS1pbi1hbmltYXRpb24nLF0gfSwgeyBzbGlkZVN0eWxlczogWydzb3JhLWZhZGUtb3V0LWFuaW1hdGlvbicsXSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBkaXZFbGVtZW50ID0gdGhhdC5nZW5lcmF0ZUJhc2ljQ2Fyb3VzZWwoKTtcbiAgICAgICAgICAgIHZhciBjYXJvdXNlbCA9IG5ldyBDYXJvdXNlbEJhc2ljLlNpbmdsZVNsaWRlQ2Fyb3VzZWwoZGl2RWxlbWVudCwgeyBpbmRleDogMCB9KTtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGl2RWxlbWVudCk7XG4gICAgICAgICAgICB2YXIgZXhlY3V0aW9uUHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICB2YXIgYW5pbWF0aW9uU3RhdHVzID0gZ29OZXh0KGNhcm91c2VsKTtcbiAgICAgICAgICAgICAgICBjYXJvdXNlbC5nZXRFbGVtZW50c01hbmFnZXIoKS5yZW1vdmVFbGVtZW50cyhbMCwgMV0pO1xuICAgICAgICAgICAgICAgIGV4cGVjdChjYXJvdXNlbC5nZXRFbGVtZW50c01hbmFnZXIoKS5nZXRDb2xsZWN0aW9uKCkubGVuZ3RoKS50b0JlKDMpO1xuICAgICAgICAgICAgICAgIFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uU3RhdHVzLmdvQWN0aW9uU3RhdHVzLnNvcmFIYW5kbGVyU3RhdHVzLFxuICAgICAgICAgICAgICAgIF0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgb2xkQWN0aXZlRWxlbWVudCA9IGFuaW1hdGlvblN0YXR1cy5vbGRFbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3QWN0aXZlRWxlbWVudCA9IGFuaW1hdGlvblN0YXR1cy5uZXdFbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICBleHBlY3Qob2xkQWN0aXZlRWxlbWVudCkudG9CZShjYXJvdXNlbC5nZXRFbGVtZW50c01hbmFnZXIoKS5nZXRDb2xsZWN0aW9uKClbMF0pO1xuICAgICAgICAgICAgICAgICAgICBleHBlY3QobmV3QWN0aXZlRWxlbWVudCkudG9CZShjYXJvdXNlbC5nZXRFbGVtZW50c01hbmFnZXIoKS5nZXRDb2xsZWN0aW9uKClbMV0pO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZXhlY3V0aW9uUHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGRpdkVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICBkb25lLmZhaWwoZXJyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCB0aGlzLmxvbmdUaW1lTGltaXQpO1xuICAgIH1cbiAgICBpdE11c3RCZUFibGVUb0dvVG9TbGlkZXNXaGlsZVJlbW92aW5nT3RoZXJFbGVtZW50cygpIHtcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICBpdCgnbXVzdEJlQWJsZVRvR29Ub1NsaWRlc1doaWxlUmVtb3ZpbmdPdGhlckVsZW1lbnRzJywgZnVuY3Rpb24gKGRvbmUpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdvTmV4dChjYXJvdXNlbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGF0LnBlcmZvcm1Hb05leHQoY2Fyb3VzZWwsIHsgc2xpZGVTdHlsZXM6IFsnc29yYS1mYWRlLWluLWFuaW1hdGlvbicsXSB9LCB7IHNsaWRlU3R5bGVzOiBbJ3NvcmEtZmFkZS1vdXQtYW5pbWF0aW9uJyxdIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGRpdkVsZW1lbnQgPSB0aGF0LmdlbmVyYXRlQmFzaWNDYXJvdXNlbCgpO1xuICAgICAgICAgICAgdmFyIGNhcm91c2VsID0gbmV3IENhcm91c2VsQmFzaWMuU2luZ2xlU2xpZGVDYXJvdXNlbChkaXZFbGVtZW50LCB7IGluZGV4OiAwIH0pO1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkaXZFbGVtZW50KTtcbiAgICAgICAgICAgIHZhciBleGVjdXRpb25Qcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgIHZhciBhbmltYXRpb25TdGF0dXMgPSBnb05leHQoY2Fyb3VzZWwpO1xuICAgICAgICAgICAgICAgIGNhcm91c2VsLmdldEVsZW1lbnRzTWFuYWdlcigpLnJlbW92ZUVsZW1lbnRzKFsyXSk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KGNhcm91c2VsLmdldEVsZW1lbnRzTWFuYWdlcigpLmdldENvbGxlY3Rpb24oKS5sZW5ndGgpLnRvQmUoMik7XG4gICAgICAgICAgICAgICAgUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25TdGF0dXMuZ29BY3Rpb25TdGF0dXMuc29yYUhhbmRsZXJTdGF0dXMsXG4gICAgICAgICAgICAgICAgXSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBvbGRBY3RpdmVFbGVtZW50ID0gYW5pbWF0aW9uU3RhdHVzLm9sZEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdBY3RpdmVFbGVtZW50ID0gYW5pbWF0aW9uU3RhdHVzLm5ld0VsZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdChvbGRBY3RpdmVFbGVtZW50KS50b0JlKGNhcm91c2VsLmdldEVsZW1lbnRzTWFuYWdlcigpLmdldENvbGxlY3Rpb24oKVswXSk7XG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdChuZXdBY3RpdmVFbGVtZW50KS50b0JlKGNhcm91c2VsLmdldEVsZW1lbnRzTWFuYWdlcigpLmdldENvbGxlY3Rpb24oKVsxXSk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBleGVjdXRpb25Qcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZGl2RWxlbWVudCk7XG4gICAgICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgIGRvbmUuZmFpbChlcnIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIHRoaXMubG9uZ1RpbWVMaW1pdCk7XG4gICAgfVxuICAgIGl0TXVzdEJlQWJsZVRvSGFuZGxlQ2hpbGRyZW5BbmltYXRpb25zKCkge1xuICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgIGl0KCdtdXN0QmVBYmxlVG9IYW5kbGVDaGlsZHJlbkFuaW1hdGlvbnMnLCBmdW5jdGlvbiAoZG9uZSkge1xuICAgICAgICAgICAgZnVuY3Rpb24gZ29OZXh0KGNhcm91c2VsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoYXQucGVyZm9ybUdvTmV4dChjYXJvdXNlbCwge1xuICAgICAgICAgICAgICAgICAgICBzbGlkZVN0eWxlczogWydzb3JhLWZhZGUtaW4tYW5pbWF0aW9uJyxdLFxuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlblN0eWxlczogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ3NwYW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlczogWydzb3JhLWZhZGUtaW4tYW5pbWF0aW9uJyxdLFxuICAgICAgICAgICAgICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBzbGlkZVN0eWxlczogWydzb3JhLWZhZGUtb3V0LWFuaW1hdGlvbicsXSxcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW5TdHlsZXM6IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZXM6IFsnc29yYS1mYWRlLW91dC1hbmltYXRpb24nLF0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIGdvUHJldmlvdXMoY2Fyb3VzZWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhhdC5wZXJmb3JtR29QcmV2aW91cyhjYXJvdXNlbCwge1xuICAgICAgICAgICAgICAgICAgICBzbGlkZVN0eWxlczogWydzb3JhLWZhZGUtaW4tYW5pbWF0aW9uJyxdLFxuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlblN0eWxlczogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ3NwYW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlczogWydzb3JhLWZhZGUtaW4tYW5pbWF0aW9uJyxdLFxuICAgICAgICAgICAgICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBzbGlkZVN0eWxlczogWydzb3JhLWZhZGUtb3V0LWFuaW1hdGlvbicsXSxcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW5TdHlsZXM6IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZXM6IFsnc29yYS1mYWRlLW91dC1hbmltYXRpb24nLF0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBkaXZFbGVtZW50ID0gdGhhdC5nZW5lcmF0ZUJhc2ljQ2Fyb3VzZWwoKTtcbiAgICAgICAgICAgIHZhciBjYXJvdXNlbCA9IG5ldyBDYXJvdXNlbEJhc2ljLlNpbmdsZVNsaWRlQ2Fyb3VzZWwoZGl2RWxlbWVudCwgeyBpbmRleDogMCB9KTtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGl2RWxlbWVudCk7XG4gICAgICAgICAgICB2YXIgZXhlY3V0aW9uUHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICB2YXIgYW5pbWF0aW9uU3RhdHVzID0gZ29OZXh0KGNhcm91c2VsKTtcbiAgICAgICAgICAgICAgICBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvblN0YXR1cy5nb0FjdGlvblN0YXR1cy5zb3JhSGFuZGxlclN0YXR1cyxcbiAgICAgICAgICAgICAgICBdKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9sZEFjdGl2ZUVsZW1lbnQgPSBhbmltYXRpb25TdGF0dXMub2xkRWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0FjdGl2ZUVsZW1lbnQgPSBhbmltYXRpb25TdGF0dXMubmV3RWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgZXhwZWN0KG9sZEFjdGl2ZUVsZW1lbnQpLnRvQmUoY2Fyb3VzZWwuZ2V0RWxlbWVudHNNYW5hZ2VyKCkuZ2V0Q29sbGVjdGlvbigpWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgZXhwZWN0KG5ld0FjdGl2ZUVsZW1lbnQpLnRvQmUoY2Fyb3VzZWwuZ2V0RWxlbWVudHNNYW5hZ2VyKCkuZ2V0Q29sbGVjdGlvbigpWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uU3RhdHVzID0gZ29QcmV2aW91cyhjYXJvdXNlbCk7XG4gICAgICAgICAgICAgICAgICAgIFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvblN0YXR1cy5nb0FjdGlvblN0YXR1cy5zb3JhSGFuZGxlclN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgXSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2xkQWN0aXZlRWxlbWVudCA9IGFuaW1hdGlvblN0YXR1cy5vbGRFbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0FjdGl2ZUVsZW1lbnQgPSBhbmltYXRpb25TdGF0dXMubmV3RWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdChvbGRBY3RpdmVFbGVtZW50KS50b0JlKGNhcm91c2VsLmdldEVsZW1lbnRzTWFuYWdlcigpLmdldENvbGxlY3Rpb24oKVsxXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBleHBlY3QobmV3QWN0aXZlRWxlbWVudCkudG9CZShjYXJvdXNlbC5nZXRFbGVtZW50c01hbmFnZXIoKS5nZXRDb2xsZWN0aW9uKClbMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZXhlY3V0aW9uUHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGRpdkVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICBkb25lLmZhaWwoZXJyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCB0aGlzLmxvbmdUaW1lTGltaXQpO1xuICAgIH1cbiAgICBpdE11c3RCZUFibGVUb1BhdXNlQW5kUmVzdW1lQW5pbWF0aW9uKCkge1xuICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgIGl0KCdtdXN0QmVBYmxlVG9QYXVzZUFuZFJlc3VtZUFuaW1hdGlvbicsIGZ1bmN0aW9uIChkb25lKSB7XG4gICAgICAgICAgICBmdW5jdGlvbiBnb05leHQoY2Fyb3VzZWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhhdC5wZXJmb3JtR29OZXh0KGNhcm91c2VsLCB7IHNsaWRlU3R5bGVzOiBbJ3NvcmEtZmFkZS1pbi1hbmltYXRpb24nLCAnc29yYS1vZmZzZXQtbGVmdC1pbi1hbmltYXRpb24nLF0gfSwgeyBzbGlkZVN0eWxlczogWydzb3JhLWZhZGUtb3V0LWFuaW1hdGlvbicsICdzb3JhLW9mZnNldC1sZWZ0LW91dC1hbmltYXRpb24nLF0gfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZGl2RWxlbWVudCA9IHRoYXQuZ2VuZXJhdGVCYXNpY0Nhcm91c2VsKCk7XG4gICAgICAgICAgICB2YXIgY2Fyb3VzZWwgPSBuZXcgQ2Fyb3VzZWxCYXNpYy5TaW5nbGVTbGlkZUNhcm91c2VsKGRpdkVsZW1lbnQsIHsgaW5kZXg6IDAgfSk7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpdkVsZW1lbnQpO1xuICAgICAgICAgICAgdmFyIGV4ZWN1dGlvblByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRJbmRleCA9IGNhcm91c2VsLmdldEFjdGl2ZUluZGV4KCk7XG4gICAgICAgICAgICAgICAgdmFyIGFuaW1hdGlvblN0YXR1cyA9IGdvTmV4dChjYXJvdXNlbCk7XG4gICAgICAgICAgICAgICAgdmFyIG9sZEFjdGl2ZUVsZW1lbnQgPSBhbmltYXRpb25TdGF0dXMub2xkRWxlbWVudDtcbiAgICAgICAgICAgICAgICB2YXIgbmV3QWN0aXZlRWxlbWVudCA9IGFuaW1hdGlvblN0YXR1cy5uZXdFbGVtZW50O1xuICAgICAgICAgICAgICAgIGV4cGVjdChvbGRBY3RpdmVFbGVtZW50KS50b0JlKGNhcm91c2VsLmdldEVsZW1lbnRzTWFuYWdlcigpLmdldENvbGxlY3Rpb24oKVswXSk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KG5ld0FjdGl2ZUVsZW1lbnQpLnRvQmUoY2Fyb3VzZWwuZ2V0RWxlbWVudHNNYW5hZ2VyKCkuZ2V0Q29sbGVjdGlvbigpWzFdKTtcbiAgICAgICAgICAgICAgICBjYXJvdXNlbC5wYXVzZSgpO1xuICAgICAgICAgICAgICAgIGV4cGVjdChjYXJvdXNlbC5pc1BhdXNlZCgpKS50b0JlKHRydWUpO1xuICAgICAgICAgICAgICAgIGV4cGVjdChjYXJvdXNlbC5nZXRBY3RpdmVJbmRleCgpKS50b0JlKGN1cnJlbnRJbmRleCk7XG4gICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmVDaCwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0KGNhcm91c2VsLmlzUGF1c2VkKCkpLnRvQmUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBleHBlY3QoY2Fyb3VzZWwuZ2V0QWN0aXZlSW5kZXgoKSkudG9CZShjdXJyZW50SW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZUNoKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDIwMDApO1xuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBjYXJvdXNlbC5yZXN1bWUoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvblN0YXR1cy5nb0FjdGlvblN0YXR1cy5zb3JhSGFuZGxlclN0YXR1cyxcbiAgICAgICAgICAgICAgICBdKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGV4ZWN1dGlvblByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChkaXZFbGVtZW50KTtcbiAgICAgICAgICAgICAgICBkb25lKCk7XG4gICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgZG9uZS5mYWlsKGVycik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgdGhpcy5sb25nVGltZUxpbWl0KTtcbiAgICB9XG4gICAgaXRNdXN0QmVBYmxlVG9SdW5Db21wbGV4QW5pbWF0aW9ucygpIHtcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICBpdCgnbXVzdEJlQWJsZVRvUnVuQ29tcGxleEFuaW1hdGlvbnMnLCBmdW5jdGlvbiAoZG9uZSkge1xuICAgICAgICAgICAgZnVuY3Rpb24gZ29OZXh0KGNhcm91c2VsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoYXQucGVyZm9ybUdvTmV4dChjYXJvdXNlbCwgeyBzbGlkZVN0eWxlczogWydzb3JhLWZhZGUtaW4tYW5pbWF0aW9uJywgJ3NvcmEtb2Zmc2V0LWxlZnQtaW4tYW5pbWF0aW9uJyxdIH0sIHsgc2xpZGVTdHlsZXM6IFsnc29yYS1mYWRlLW91dC1hbmltYXRpb24nLCAnc29yYS1vZmZzZXQtbGVmdC1vdXQtYW5pbWF0aW9uJyxdIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gZ29QcmV2aW91cyhjYXJvdXNlbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGF0LnBlcmZvcm1Hb1ByZXZpb3VzKGNhcm91c2VsLCB7IHNsaWRlU3R5bGVzOiBbJ3NvcmEtZmFkZS1pbi1hbmltYXRpb24nLCAnc29yYS1vZmZzZXQtbGVmdC1pbi1hbmltYXRpb24nLF0gfSwgeyBzbGlkZVN0eWxlczogWydzb3JhLWZhZGUtb3V0LWFuaW1hdGlvbicsICdzb3JhLW9mZnNldC1sZWZ0LW91dC1hbmltYXRpb24nLF0gfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZGl2RWxlbWVudCA9IHRoYXQuZ2VuZXJhdGVCYXNpY0Nhcm91c2VsKCk7XG4gICAgICAgICAgICB2YXIgY2Fyb3VzZWwgPSBuZXcgQ2Fyb3VzZWxCYXNpYy5TaW5nbGVTbGlkZUNhcm91c2VsKGRpdkVsZW1lbnQsIHsgaW5kZXg6IDAgfSk7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpdkVsZW1lbnQpO1xuICAgICAgICAgICAgdmFyIGV4ZWN1dGlvblByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgdmFyIGFuaW1hdGlvblN0YXR1cyA9IGdvTmV4dChjYXJvdXNlbCk7XG4gICAgICAgICAgICAgICAgdmFyIG9sZEFjdGl2ZUVsZW1lbnQgPSBhbmltYXRpb25TdGF0dXMub2xkRWxlbWVudDtcbiAgICAgICAgICAgICAgICB2YXIgbmV3QWN0aXZlRWxlbWVudCA9IGFuaW1hdGlvblN0YXR1cy5uZXdFbGVtZW50O1xuICAgICAgICAgICAgICAgIGV4cGVjdChvbGRBY3RpdmVFbGVtZW50KS50b0JlKGNhcm91c2VsLmdldEVsZW1lbnRzTWFuYWdlcigpLmdldENvbGxlY3Rpb24oKVswXSk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KG5ld0FjdGl2ZUVsZW1lbnQpLnRvQmUoY2Fyb3VzZWwuZ2V0RWxlbWVudHNNYW5hZ2VyKCkuZ2V0Q29sbGVjdGlvbigpWzFdKTtcbiAgICAgICAgICAgICAgICBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvblN0YXR1cy5nb0FjdGlvblN0YXR1cy5zb3JhSGFuZGxlclN0YXR1cyxcbiAgICAgICAgICAgICAgICBdKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFuaW1hdGlvblN0YXR1cyA9IGdvUHJldmlvdXMoY2Fyb3VzZWwpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgb2xkQWN0aXZlRWxlbWVudCA9IGFuaW1hdGlvblN0YXR1cy5vbGRFbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3QWN0aXZlRWxlbWVudCA9IGFuaW1hdGlvblN0YXR1cy5uZXdFbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICBleHBlY3Qob2xkQWN0aXZlRWxlbWVudCkudG9CZShjYXJvdXNlbC5nZXRFbGVtZW50c01hbmFnZXIoKS5nZXRDb2xsZWN0aW9uKClbMV0pO1xuICAgICAgICAgICAgICAgICAgICBleHBlY3QobmV3QWN0aXZlRWxlbWVudCkudG9CZShjYXJvdXNlbC5nZXRFbGVtZW50c01hbmFnZXIoKS5nZXRDb2xsZWN0aW9uKClbMF0pO1xuICAgICAgICAgICAgICAgICAgICBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25TdGF0dXMuZ29BY3Rpb25TdGF0dXMuc29yYUhhbmRsZXJTdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgIF0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZXhlY3V0aW9uUHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGRpdkVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICBkb25lLmZhaWwoZXJyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCB0aGlzLmxvbmdUaW1lTGltaXQpO1xuICAgIH1cbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2Fyb3VzZWwtYmFzaWMudGVzdC5qcy5tYXBcbiIsImltcG9ydCB7IENvbGxlY3Rpb25NYW5hZ2VyLCBDT0xMRUNUSU9OX01BTkFHRVJfRVZFTlRTIH0gZnJvbSAnLi4vLi4vLi4vc3JjL2NvbGxlY3Rpb24vY29sbGVjdGlvbi1tYW5hZ2VyJztcbmltcG9ydCB7IEV2ZW50RW1pdHRlciB9IGZyb20gJ2V2ZW50cyc7XG5leHBvcnQgY2xhc3MgQ29sbGVjdGlvbk1hbmFnZXJUZXN0cyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgfVxuICAgIHBlcmZvcm1UZXN0cygpIHtcbiAgICAgICAgZGVzY3JpYmUoJ0NvbGxlY3Rpb24gTWFuYWdlciBUZXN0cycsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuaXRNdXN0QmVJbml0aWFsaXphYmxlKCk7XG4gICAgICAgICAgICB0aGlzLml0TXVzdEJlQWJsZVRvQWRkRWxlbWVudHMoKTtcbiAgICAgICAgICAgIHRoaXMuaXRNdXN0QmVBYmxlVG9QcmV2ZW50RGVmYXVsdEFjdGlvbldoZW5BZGRpbmdFbGVtZW50cygpO1xuICAgICAgICAgICAgdGhpcy5pdE11c3RCZUFibGVUb1ByZXZlbnREZWZhdWx0QWN0aW9uV2hlblJlbW92aW5nRWxlbWVudHMoKTtcbiAgICAgICAgICAgIHRoaXMuaXRNdXN0QmVBYmxlVG9SZW1vdmVFbGVtZW50cygpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaXRNdXN0QmVJbml0aWFsaXphYmxlKCkge1xuICAgICAgICBpdCgnbXVzdEJlSW5pdGlhbGl6YWJsZScsICgpID0+IHtcbiAgICAgICAgICAgIHZhciBjb2xsZWN0aW9uID0gbmV3IEFycmF5KCk7XG4gICAgICAgICAgICB2YXIgZXZlbnRFbWl0dGVyID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICAgICAgdmFyIGNvbGxlY3Rpb25NYW5hZ2VyID0gbmV3IENvbGxlY3Rpb25NYW5hZ2VyKGNvbGxlY3Rpb24sIGV2ZW50RW1pdHRlcik7XG4gICAgICAgICAgICBleHBlY3QoY29sbGVjdGlvbk1hbmFnZXIpLm5vdC50b0JlTnVsbCgpO1xuICAgICAgICAgICAgZXhwZWN0KGNvbGxlY3Rpb25NYW5hZ2VyLmdldENvbGxlY3Rpb24oKSkudG9CZShjb2xsZWN0aW9uKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGl0TXVzdEJlQWJsZVRvQWRkRWxlbWVudHMoKSB7XG4gICAgICAgIGl0KCdtdXN0QmVBYmxlVG9BZGRFbGVtZW50cycsICgpID0+IHtcbiAgICAgICAgICAgIHZhciBjb2xsZWN0aW9uID0gWzIsIDUsIDddO1xuICAgICAgICAgICAgdmFyIGV2ZW50RW1pdHRlciA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgICAgIHZhciBiZWZvcmVJc0VtaXR0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBhZnRlcklzRW1pdHRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIGV4cGVjdGVkID0gWzIsIDEwLCA1LCA4LCA3XTtcbiAgICAgICAgICAgIHZhciBjb2xsZWN0aW9uTWFuYWdlciA9IG5ldyBDb2xsZWN0aW9uTWFuYWdlcihjb2xsZWN0aW9uLCBldmVudEVtaXR0ZXIpO1xuICAgICAgICAgICAgZXZlbnRFbWl0dGVyLm9uKENPTExFQ1RJT05fTUFOQUdFUl9FVkVOVFMuY29sbGVjdGlvbkJlZm9yZUNoYW5nZSwgZnVuY3Rpb24gKGV2ZW50QXJncykge1xuICAgICAgICAgICAgICAgIHZhciBpbmRleE1hcCA9IGV2ZW50QXJncy5nZXRJbmRleE1hcCgpO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29sbGVjdGlvbi5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgICAgICAgICAgZXhwZWN0KGluZGV4TWFwW2ldKS5ub3QudG9CZU51bGwoKTtcbiAgICAgICAgICAgICAgICBiZWZvcmVJc0VtaXR0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBldmVudEVtaXR0ZXIub24oQ09MTEVDVElPTl9NQU5BR0VSX0VWRU5UUy5jb2xsZWN0aW9uQWZ0ZXJDaGFuZ2UsIGZ1bmN0aW9uIChldmVudEFyZ3MpIHtcbiAgICAgICAgICAgICAgICBhZnRlcklzRW1pdHRlZCA9IHRydWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbGxlY3Rpb25NYW5hZ2VyLmluc2VydEVsZW1lbnRzKHtcbiAgICAgICAgICAgICAgICAxOiAxMCxcbiAgICAgICAgICAgICAgICAzOiA4LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBleHBlY3QoYmVmb3JlSXNFbWl0dGVkICYmIGFmdGVySXNFbWl0dGVkKS50b0JlKHRydWUpO1xuICAgICAgICAgICAgdmFyIGFjdHVhbCA9IGNvbGxlY3Rpb25NYW5hZ2VyLmdldENvbGxlY3Rpb24oKTtcbiAgICAgICAgICAgIGV4cGVjdChhY3R1YWwubGVuZ3RoKS50b0JlKGV4cGVjdGVkLmxlbmd0aCk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV4cGVjdGVkLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgICAgIGV4cGVjdChhY3R1YWxbaV0pLnRvQmUoZXhwZWN0ZWRbaV0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaXRNdXN0QmVBYmxlVG9QcmV2ZW50RGVmYXVsdEFjdGlvbldoZW5BZGRpbmdFbGVtZW50cygpIHtcbiAgICAgICAgaXQoJ211c3RCZUFibGVUb1ByZXZlbnREZWZhdWx0QWN0aW9uV2hlbkFkZGluZ0VsZW1lbnRzJywgKCkgPT4ge1xuICAgICAgICAgICAgdmFyIGNvbGxlY3Rpb24gPSBbMiwgNSwgN107XG4gICAgICAgICAgICB2YXIgZXZlbnRFbWl0dGVyID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICAgICAgdmFyIGJlZm9yZUlzRW1pdHRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIGFmdGVySXNFbWl0dGVkID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgZXhwZWN0ZWQgPSBbMiwgNSwgN107XG4gICAgICAgICAgICB2YXIgY29sbGVjdGlvbk1hbmFnZXIgPSBuZXcgQ29sbGVjdGlvbk1hbmFnZXIoY29sbGVjdGlvbiwgZXZlbnRFbWl0dGVyKTtcbiAgICAgICAgICAgIGV2ZW50RW1pdHRlci5vbihDT0xMRUNUSU9OX01BTkFHRVJfRVZFTlRTLmNvbGxlY3Rpb25CZWZvcmVDaGFuZ2UsIGZ1bmN0aW9uIChldmVudEFyZ3MpIHtcbiAgICAgICAgICAgICAgICBiZWZvcmVJc0VtaXR0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGV2ZW50QXJncy5zZXRQcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBldmVudEVtaXR0ZXIub24oQ09MTEVDVElPTl9NQU5BR0VSX0VWRU5UUy5jb2xsZWN0aW9uQWZ0ZXJDaGFuZ2UsIGZ1bmN0aW9uIChldmVudEFyZ3MpIHtcbiAgICAgICAgICAgICAgICBhZnRlcklzRW1pdHRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgZXhwZWN0KGV2ZW50QXJncy5nZXRQcmV2ZW50RGVmYXVsdCgpKS50b0JlKHRydWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb2xsZWN0aW9uTWFuYWdlci5pbnNlcnRFbGVtZW50cyh7XG4gICAgICAgICAgICAgICAgMTogMTAsXG4gICAgICAgICAgICAgICAgMzogOCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZXhwZWN0KGJlZm9yZUlzRW1pdHRlZCAmJiBhZnRlcklzRW1pdHRlZCkudG9CZSh0cnVlKTtcbiAgICAgICAgICAgIHZhciBhY3R1YWwgPSBjb2xsZWN0aW9uTWFuYWdlci5nZXRDb2xsZWN0aW9uKCk7XG4gICAgICAgICAgICBleHBlY3QoYWN0dWFsLmxlbmd0aCkudG9CZShleHBlY3RlZC5sZW5ndGgpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBleHBlY3RlZC5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgICAgICBleHBlY3QoYWN0dWFsW2ldKS50b0JlKGV4cGVjdGVkW2ldKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGl0TXVzdEJlQWJsZVRvUHJldmVudERlZmF1bHRBY3Rpb25XaGVuUmVtb3ZpbmdFbGVtZW50cygpIHtcbiAgICAgICAgaXQoJ211c3RCZUFibGVUb1ByZXZlbnREZWZhdWx0QWN0aW9uV2hlblJlbW92aW5nRWxlbWVudHMnLCAoKSA9PiB7XG4gICAgICAgICAgICB2YXIgY29sbGVjdGlvbiA9IFsyLCAxMCwgNSwgOCwgN107XG4gICAgICAgICAgICB2YXIgZXZlbnRFbWl0dGVyID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICAgICAgdmFyIGJlZm9yZUlzRW1pdHRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIGFmdGVySXNFbWl0dGVkID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgaW5kZXhlc1RvQmVSZW1vdmVkID0gWzEsIDNdO1xuICAgICAgICAgICAgdmFyIGV4cGVjdGVkID0gWzIsIDEwLCA1LCA4LCA3XTtcbiAgICAgICAgICAgIHZhciBjb2xsZWN0aW9uTWFuYWdlciA9IG5ldyBDb2xsZWN0aW9uTWFuYWdlcihjb2xsZWN0aW9uLCBldmVudEVtaXR0ZXIpO1xuICAgICAgICAgICAgZXZlbnRFbWl0dGVyLm9uKENPTExFQ1RJT05fTUFOQUdFUl9FVkVOVFMuY29sbGVjdGlvbkJlZm9yZUNoYW5nZSwgZnVuY3Rpb24gKGV2ZW50QXJncykge1xuICAgICAgICAgICAgICAgIGV2ZW50QXJncy5zZXRQcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGJlZm9yZUlzRW1pdHRlZCA9IHRydWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGV2ZW50RW1pdHRlci5vbihDT0xMRUNUSU9OX01BTkFHRVJfRVZFTlRTLmNvbGxlY3Rpb25BZnRlckNoYW5nZSwgZnVuY3Rpb24gKGV2ZW50QXJncykge1xuICAgICAgICAgICAgICAgIGV4cGVjdChldmVudEFyZ3MuZ2V0UHJldmVudERlZmF1bHQoKSkudG9CZSh0cnVlKTtcbiAgICAgICAgICAgICAgICBhZnRlcklzRW1pdHRlZCA9IHRydWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbGxlY3Rpb25NYW5hZ2VyLnJlbW92ZUVsZW1lbnRzKGluZGV4ZXNUb0JlUmVtb3ZlZCk7XG4gICAgICAgICAgICBleHBlY3QoYmVmb3JlSXNFbWl0dGVkICYmIGFmdGVySXNFbWl0dGVkKS50b0JlKHRydWUpO1xuICAgICAgICAgICAgdmFyIGFjdHVhbCA9IGNvbGxlY3Rpb25NYW5hZ2VyLmdldENvbGxlY3Rpb24oKTtcbiAgICAgICAgICAgIGV4cGVjdChhY3R1YWwubGVuZ3RoKS50b0JlKGV4cGVjdGVkLmxlbmd0aCk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV4cGVjdGVkLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgICAgIGV4cGVjdChhY3R1YWxbaV0pLnRvQmUoZXhwZWN0ZWRbaV0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaXRNdXN0QmVBYmxlVG9SZW1vdmVFbGVtZW50cygpIHtcbiAgICAgICAgaXQoJ211c3RCZUFibGVUb1JlbW92ZUVsZW1lbnRzJywgKCkgPT4ge1xuICAgICAgICAgICAgdmFyIGNvbGxlY3Rpb24gPSBbMiwgMTAsIDUsIDgsIDddO1xuICAgICAgICAgICAgdmFyIGV2ZW50RW1pdHRlciA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgICAgIHZhciBiZWZvcmVJc0VtaXR0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBhZnRlcklzRW1pdHRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIGluZGV4ZXNUb0JlUmVtb3ZlZCA9IFsxLCAzXTtcbiAgICAgICAgICAgIHZhciBleHBlY3RlZCA9IFsyLCA1LCA3XTtcbiAgICAgICAgICAgIHZhciBjb2xsZWN0aW9uTWFuYWdlciA9IG5ldyBDb2xsZWN0aW9uTWFuYWdlcihjb2xsZWN0aW9uLCBldmVudEVtaXR0ZXIpO1xuICAgICAgICAgICAgZXZlbnRFbWl0dGVyLm9uKENPTExFQ1RJT05fTUFOQUdFUl9FVkVOVFMuY29sbGVjdGlvbkJlZm9yZUNoYW5nZSwgZnVuY3Rpb24gKGV2ZW50QXJncykge1xuICAgICAgICAgICAgICAgIHZhciBpbmRleE1hcCA9IGV2ZW50QXJncy5nZXRJbmRleE1hcCgpO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5kZXhlc1RvQmVSZW1vdmVkLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgICAgICAgICBleHBlY3QoaW5kZXhNYXBbaW5kZXhlc1RvQmVSZW1vdmVkW2ldXSkudG9CZVVuZGVmaW5lZCgpO1xuICAgICAgICAgICAgICAgIGJlZm9yZUlzRW1pdHRlZCA9IHRydWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGV2ZW50RW1pdHRlci5vbihDT0xMRUNUSU9OX01BTkFHRVJfRVZFTlRTLmNvbGxlY3Rpb25BZnRlckNoYW5nZSwgZnVuY3Rpb24gKGV2ZW50QXJncykge1xuICAgICAgICAgICAgICAgIGFmdGVySXNFbWl0dGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29sbGVjdGlvbk1hbmFnZXIucmVtb3ZlRWxlbWVudHMoaW5kZXhlc1RvQmVSZW1vdmVkKTtcbiAgICAgICAgICAgIGV4cGVjdChiZWZvcmVJc0VtaXR0ZWQgJiYgYWZ0ZXJJc0VtaXR0ZWQpLnRvQmUodHJ1ZSk7XG4gICAgICAgICAgICB2YXIgYWN0dWFsID0gY29sbGVjdGlvbk1hbmFnZXIuZ2V0Q29sbGVjdGlvbigpO1xuICAgICAgICAgICAgZXhwZWN0KGFjdHVhbC5sZW5ndGgpLnRvQmUoZXhwZWN0ZWQubGVuZ3RoKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXhwZWN0ZWQubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICAgICAgZXhwZWN0KGFjdHVhbFtpXSkudG9CZShleHBlY3RlZFtpXSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29sbGVjdGlvbi1tYW5hZ2VyLnRlc3QuanMubWFwXG4iLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2Fzc2lnblwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHlcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvclwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZlwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZlwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbFwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wvaXRlcmF0b3JcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5XCIpO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgICgwLCBfZGVmaW5lUHJvcGVydHkyLmRlZmF1bHQpKHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgICBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gIH07XG59KCk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZlwiKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cbnZhciBfZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gcmVxdWlyZShcIi4uL2NvcmUtanMvb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvclwiKTtcblxudmFyIF9nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gZ2V0KG9iamVjdCwgcHJvcGVydHksIHJlY2VpdmVyKSB7XG4gIGlmIChvYmplY3QgPT09IG51bGwpIG9iamVjdCA9IEZ1bmN0aW9uLnByb3RvdHlwZTtcbiAgdmFyIGRlc2MgPSAoMCwgX2dldE93blByb3BlcnR5RGVzY3JpcHRvcjIuZGVmYXVsdCkob2JqZWN0LCBwcm9wZXJ0eSk7XG5cbiAgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkge1xuICAgIHZhciBwYXJlbnQgPSAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShvYmplY3QpO1xuXG4gICAgaWYgKHBhcmVudCA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGdldChwYXJlbnQsIHByb3BlcnR5LCByZWNlaXZlcik7XG4gICAgfVxuICB9IGVsc2UgaWYgKFwidmFsdWVcIiBpbiBkZXNjKSB7XG4gICAgcmV0dXJuIGRlc2MudmFsdWU7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGdldHRlciA9IGRlc2MuZ2V0O1xuXG4gICAgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcik7XG4gIH1cbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfc2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZlwiKTtcblxudmFyIF9zZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY3JlYXRlID0gcmVxdWlyZShcIi4uL2NvcmUtanMvb2JqZWN0L2NyZWF0ZVwiKTtcblxudmFyIF9jcmVhdGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlKTtcblxudmFyIF90eXBlb2YyID0gcmVxdWlyZShcIi4uL2hlbHBlcnMvdHlwZW9mXCIpO1xuXG52YXIgX3R5cGVvZjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90eXBlb2YyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7XG4gIGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArICh0eXBlb2Ygc3VwZXJDbGFzcyA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiAoMCwgX3R5cGVvZjMuZGVmYXVsdCkoc3VwZXJDbGFzcykpKTtcbiAgfVxuXG4gIHN1YkNsYXNzLnByb3RvdHlwZSA9ICgwLCBfY3JlYXRlMi5kZWZhdWx0KShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7XG4gICAgY29uc3RydWN0b3I6IHtcbiAgICAgIHZhbHVlOiBzdWJDbGFzcyxcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9XG4gIH0pO1xuICBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mMi5kZWZhdWx0ID8gKDAsIF9zZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzcztcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfdHlwZW9mMiA9IHJlcXVpcmUoXCIuLi9oZWxwZXJzL3R5cGVvZlwiKTtcblxudmFyIF90eXBlb2YzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHlwZW9mMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChzZWxmLCBjYWxsKSB7XG4gIGlmICghc2VsZikge1xuICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtcbiAgfVxuXG4gIHJldHVybiBjYWxsICYmICgodHlwZW9mIGNhbGwgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogKDAsIF90eXBlb2YzLmRlZmF1bHQpKGNhbGwpKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmO1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9pdGVyYXRvciA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL3N5bWJvbC9pdGVyYXRvclwiKTtcblxudmFyIF9pdGVyYXRvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pdGVyYXRvcik7XG5cbnZhciBfc3ltYm9sID0gcmVxdWlyZShcIi4uL2NvcmUtanMvc3ltYm9sXCIpO1xuXG52YXIgX3N5bWJvbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zeW1ib2wpO1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBfc3ltYm9sMi5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIF9pdGVyYXRvcjIuZGVmYXVsdCA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIF9zeW1ib2wyLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IF9zeW1ib2wyLmRlZmF1bHQgJiYgb2JqICE9PSBfc3ltYm9sMi5kZWZhdWx0LnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSB0eXBlb2YgX3N5bWJvbDIuZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiICYmIF90eXBlb2YoX2l0ZXJhdG9yMi5kZWZhdWx0KSA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHtcbiAgcmV0dXJuIHR5cGVvZiBvYmogPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihvYmopO1xufSA6IGZ1bmN0aW9uIChvYmopIHtcbiAgcmV0dXJuIG9iaiAmJiB0eXBlb2YgX3N5bWJvbDIuZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gX3N5bWJvbDIuZGVmYXVsdCAmJiBvYmogIT09IF9zeW1ib2wyLmRlZmF1bHQucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmogPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihvYmopO1xufTsiLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuYXNzaWduJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5PYmplY3QuYXNzaWduO1xuIiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmNyZWF0ZScpO1xudmFyICRPYmplY3QgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJykuT2JqZWN0O1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjcmVhdGUoUCwgRCkge1xuICByZXR1cm4gJE9iamVjdC5jcmVhdGUoUCwgRCk7XG59O1xuIiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eScpO1xudmFyICRPYmplY3QgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJykuT2JqZWN0O1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShpdCwga2V5LCBkZXNjKSB7XG4gIHJldHVybiAkT2JqZWN0LmRlZmluZVByb3BlcnR5KGl0LCBrZXksIGRlc2MpO1xufTtcbiIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3InKTtcbnZhciAkT2JqZWN0ID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLk9iamVjdDtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGl0LCBrZXkpIHtcbiAgcmV0dXJuICRPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGl0LCBrZXkpO1xufTtcbiIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtcHJvdG90eXBlLW9mJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5PYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG4iLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Quc2V0LXByb3RvdHlwZS1vZicpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJykuT2JqZWN0LnNldFByb3RvdHlwZU9mO1xuIiwicmVxdWlyZSgnLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZycpO1xucmVxdWlyZSgnLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yJyk7XG5yZXF1aXJlKCcuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUnKTtcbnJlcXVpcmUoJy4uL21vZHVsZXMvZXM2LnByb21pc2UnKTtcbnJlcXVpcmUoJy4uL21vZHVsZXMvZXM3LnByb21pc2UuZmluYWxseScpO1xucmVxdWlyZSgnLi4vbW9kdWxlcy9lczcucHJvbWlzZS50cnknKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vbW9kdWxlcy9fY29yZScpLlByb21pc2U7XG4iLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5zeW1ib2wnKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmcnKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM3LnN5bWJvbC5hc3luYy1pdGVyYXRvcicpO1xucmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczcuc3ltYm9sLm9ic2VydmFibGUnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLlN5bWJvbDtcbiIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvcicpO1xucmVxdWlyZSgnLi4vLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX3drcy1leHQnKS5mKCdpdGVyYXRvcicpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKHR5cGVvZiBpdCAhPSAnZnVuY3Rpb24nKSB0aHJvdyBUeXBlRXJyb3IoaXQgKyAnIGlzIG5vdCBhIGZ1bmN0aW9uIScpO1xuICByZXR1cm4gaXQ7XG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7IC8qIGVtcHR5ICovIH07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCwgQ29uc3RydWN0b3IsIG5hbWUsIGZvcmJpZGRlbkZpZWxkKSB7XG4gIGlmICghKGl0IGluc3RhbmNlb2YgQ29uc3RydWN0b3IpIHx8IChmb3JiaWRkZW5GaWVsZCAhPT0gdW5kZWZpbmVkICYmIGZvcmJpZGRlbkZpZWxkIGluIGl0KSkge1xuICAgIHRocm93IFR5cGVFcnJvcihuYW1lICsgJzogaW5jb3JyZWN0IGludm9jYXRpb24hJyk7XG4gIH0gcmV0dXJuIGl0O1xufTtcbiIsInZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKCFpc09iamVjdChpdCkpIHRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGFuIG9iamVjdCEnKTtcbiAgcmV0dXJuIGl0O1xufTtcbiIsIi8vIGZhbHNlIC0+IEFycmF5I2luZGV4T2Zcbi8vIHRydWUgIC0+IEFycmF5I2luY2x1ZGVzXG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xudmFyIHRvTGVuZ3RoID0gcmVxdWlyZSgnLi9fdG8tbGVuZ3RoJyk7XG52YXIgdG9BYnNvbHV0ZUluZGV4ID0gcmVxdWlyZSgnLi9fdG8tYWJzb2x1dGUtaW5kZXgnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKElTX0lOQ0xVREVTKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoJHRoaXMsIGVsLCBmcm9tSW5kZXgpIHtcbiAgICB2YXIgTyA9IHRvSU9iamVjdCgkdGhpcyk7XG4gICAgdmFyIGxlbmd0aCA9IHRvTGVuZ3RoKE8ubGVuZ3RoKTtcbiAgICB2YXIgaW5kZXggPSB0b0Fic29sdXRlSW5kZXgoZnJvbUluZGV4LCBsZW5ndGgpO1xuICAgIHZhciB2YWx1ZTtcbiAgICAvLyBBcnJheSNpbmNsdWRlcyB1c2VzIFNhbWVWYWx1ZVplcm8gZXF1YWxpdHkgYWxnb3JpdGhtXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZVxuICAgIGlmIChJU19JTkNMVURFUyAmJiBlbCAhPSBlbCkgd2hpbGUgKGxlbmd0aCA+IGluZGV4KSB7XG4gICAgICB2YWx1ZSA9IE9baW5kZXgrK107XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlXG4gICAgICBpZiAodmFsdWUgIT0gdmFsdWUpIHJldHVybiB0cnVlO1xuICAgIC8vIEFycmF5I2luZGV4T2YgaWdub3JlcyBob2xlcywgQXJyYXkjaW5jbHVkZXMgLSBub3RcbiAgICB9IGVsc2UgZm9yICg7bGVuZ3RoID4gaW5kZXg7IGluZGV4KyspIGlmIChJU19JTkNMVURFUyB8fCBpbmRleCBpbiBPKSB7XG4gICAgICBpZiAoT1tpbmRleF0gPT09IGVsKSByZXR1cm4gSVNfSU5DTFVERVMgfHwgaW5kZXggfHwgMDtcbiAgICB9IHJldHVybiAhSVNfSU5DTFVERVMgJiYgLTE7XG4gIH07XG59O1xuIiwiLy8gZ2V0dGluZyB0YWcgZnJvbSAxOS4xLjMuNiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nKClcbnZhciBjb2YgPSByZXF1aXJlKCcuL19jb2YnKTtcbnZhciBUQUcgPSByZXF1aXJlKCcuL193a3MnKSgndG9TdHJpbmdUYWcnKTtcbi8vIEVTMyB3cm9uZyBoZXJlXG52YXIgQVJHID0gY29mKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKSA9PSAnQXJndW1lbnRzJztcblxuLy8gZmFsbGJhY2sgZm9yIElFMTEgU2NyaXB0IEFjY2VzcyBEZW5pZWQgZXJyb3JcbnZhciB0cnlHZXQgPSBmdW5jdGlvbiAoaXQsIGtleSkge1xuICB0cnkge1xuICAgIHJldHVybiBpdFtrZXldO1xuICB9IGNhdGNoIChlKSB7IC8qIGVtcHR5ICovIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHZhciBPLCBULCBCO1xuICByZXR1cm4gaXQgPT09IHVuZGVmaW5lZCA/ICdVbmRlZmluZWQnIDogaXQgPT09IG51bGwgPyAnTnVsbCdcbiAgICAvLyBAQHRvU3RyaW5nVGFnIGNhc2VcbiAgICA6IHR5cGVvZiAoVCA9IHRyeUdldChPID0gT2JqZWN0KGl0KSwgVEFHKSkgPT0gJ3N0cmluZycgPyBUXG4gICAgLy8gYnVpbHRpblRhZyBjYXNlXG4gICAgOiBBUkcgPyBjb2YoTylcbiAgICAvLyBFUzMgYXJndW1lbnRzIGZhbGxiYWNrXG4gICAgOiAoQiA9IGNvZihPKSkgPT0gJ09iamVjdCcgJiYgdHlwZW9mIE8uY2FsbGVlID09ICdmdW5jdGlvbicgPyAnQXJndW1lbnRzJyA6IEI7XG59O1xuIiwidmFyIHRvU3RyaW5nID0ge30udG9TdHJpbmc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKGl0KS5zbGljZSg4LCAtMSk7XG59O1xuIiwidmFyIGNvcmUgPSBtb2R1bGUuZXhwb3J0cyA9IHsgdmVyc2lvbjogJzIuNS43JyB9O1xuaWYgKHR5cGVvZiBfX2UgPT0gJ251bWJlcicpIF9fZSA9IGNvcmU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcbiIsIi8vIG9wdGlvbmFsIC8gc2ltcGxlIGNvbnRleHQgYmluZGluZ1xudmFyIGFGdW5jdGlvbiA9IHJlcXVpcmUoJy4vX2EtZnVuY3Rpb24nKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGZuLCB0aGF0LCBsZW5ndGgpIHtcbiAgYUZ1bmN0aW9uKGZuKTtcbiAgaWYgKHRoYXQgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGZuO1xuICBzd2l0Y2ggKGxlbmd0aCkge1xuICAgIGNhc2UgMTogcmV0dXJuIGZ1bmN0aW9uIChhKSB7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhKTtcbiAgICB9O1xuICAgIGNhc2UgMjogcmV0dXJuIGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiKTtcbiAgICB9O1xuICAgIGNhc2UgMzogcmV0dXJuIGZ1bmN0aW9uIChhLCBiLCBjKSB7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiLCBjKTtcbiAgICB9O1xuICB9XG4gIHJldHVybiBmdW5jdGlvbiAoLyogLi4uYXJncyAqLykge1xuICAgIHJldHVybiBmbi5hcHBseSh0aGF0LCBhcmd1bWVudHMpO1xuICB9O1xufTtcbiIsIi8vIDcuMi4xIFJlcXVpcmVPYmplY3RDb2VyY2libGUoYXJndW1lbnQpXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICBpZiAoaXQgPT0gdW5kZWZpbmVkKSB0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjYWxsIG1ldGhvZCBvbiAgXCIgKyBpdCk7XG4gIHJldHVybiBpdDtcbn07XG4iLCIvLyBUaGFuaydzIElFOCBmb3IgaGlzIGZ1bm55IGRlZmluZVByb3BlcnR5XG5tb2R1bGUuZXhwb3J0cyA9ICFyZXF1aXJlKCcuL19mYWlscycpKGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ2EnLCB7IGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gNzsgfSB9KS5hICE9IDc7XG59KTtcbiIsInZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xudmFyIGRvY3VtZW50ID0gcmVxdWlyZSgnLi9fZ2xvYmFsJykuZG9jdW1lbnQ7XG4vLyB0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCBpcyAnb2JqZWN0JyBpbiBvbGQgSUVcbnZhciBpcyA9IGlzT2JqZWN0KGRvY3VtZW50KSAmJiBpc09iamVjdChkb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBpcyA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoaXQpIDoge307XG59O1xuIiwiLy8gSUUgOC0gZG9uJ3QgZW51bSBidWcga2V5c1xubW9kdWxlLmV4cG9ydHMgPSAoXG4gICdjb25zdHJ1Y3RvcixoYXNPd25Qcm9wZXJ0eSxpc1Byb3RvdHlwZU9mLHByb3BlcnR5SXNFbnVtZXJhYmxlLHRvTG9jYWxlU3RyaW5nLHRvU3RyaW5nLHZhbHVlT2YnXG4pLnNwbGl0KCcsJyk7XG4iLCIvLyBhbGwgZW51bWVyYWJsZSBvYmplY3Qga2V5cywgaW5jbHVkZXMgc3ltYm9sc1xudmFyIGdldEtleXMgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cycpO1xudmFyIGdPUFMgPSByZXF1aXJlKCcuL19vYmplY3QtZ29wcycpO1xudmFyIHBJRSA9IHJlcXVpcmUoJy4vX29iamVjdC1waWUnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHZhciByZXN1bHQgPSBnZXRLZXlzKGl0KTtcbiAgdmFyIGdldFN5bWJvbHMgPSBnT1BTLmY7XG4gIGlmIChnZXRTeW1ib2xzKSB7XG4gICAgdmFyIHN5bWJvbHMgPSBnZXRTeW1ib2xzKGl0KTtcbiAgICB2YXIgaXNFbnVtID0gcElFLmY7XG4gICAgdmFyIGkgPSAwO1xuICAgIHZhciBrZXk7XG4gICAgd2hpbGUgKHN5bWJvbHMubGVuZ3RoID4gaSkgaWYgKGlzRW51bS5jYWxsKGl0LCBrZXkgPSBzeW1ib2xzW2krK10pKSByZXN1bHQucHVzaChrZXkpO1xuICB9IHJldHVybiByZXN1bHQ7XG59O1xuIiwidmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpO1xudmFyIGNvcmUgPSByZXF1aXJlKCcuL19jb3JlJyk7XG52YXIgY3R4ID0gcmVxdWlyZSgnLi9fY3R4Jyk7XG52YXIgaGlkZSA9IHJlcXVpcmUoJy4vX2hpZGUnKTtcbnZhciBoYXMgPSByZXF1aXJlKCcuL19oYXMnKTtcbnZhciBQUk9UT1RZUEUgPSAncHJvdG90eXBlJztcblxudmFyICRleHBvcnQgPSBmdW5jdGlvbiAodHlwZSwgbmFtZSwgc291cmNlKSB7XG4gIHZhciBJU19GT1JDRUQgPSB0eXBlICYgJGV4cG9ydC5GO1xuICB2YXIgSVNfR0xPQkFMID0gdHlwZSAmICRleHBvcnQuRztcbiAgdmFyIElTX1NUQVRJQyA9IHR5cGUgJiAkZXhwb3J0LlM7XG4gIHZhciBJU19QUk9UTyA9IHR5cGUgJiAkZXhwb3J0LlA7XG4gIHZhciBJU19CSU5EID0gdHlwZSAmICRleHBvcnQuQjtcbiAgdmFyIElTX1dSQVAgPSB0eXBlICYgJGV4cG9ydC5XO1xuICB2YXIgZXhwb3J0cyA9IElTX0dMT0JBTCA/IGNvcmUgOiBjb3JlW25hbWVdIHx8IChjb3JlW25hbWVdID0ge30pO1xuICB2YXIgZXhwUHJvdG8gPSBleHBvcnRzW1BST1RPVFlQRV07XG4gIHZhciB0YXJnZXQgPSBJU19HTE9CQUwgPyBnbG9iYWwgOiBJU19TVEFUSUMgPyBnbG9iYWxbbmFtZV0gOiAoZ2xvYmFsW25hbWVdIHx8IHt9KVtQUk9UT1RZUEVdO1xuICB2YXIga2V5LCBvd24sIG91dDtcbiAgaWYgKElTX0dMT0JBTCkgc291cmNlID0gbmFtZTtcbiAgZm9yIChrZXkgaW4gc291cmNlKSB7XG4gICAgLy8gY29udGFpbnMgaW4gbmF0aXZlXG4gICAgb3duID0gIUlTX0ZPUkNFRCAmJiB0YXJnZXQgJiYgdGFyZ2V0W2tleV0gIT09IHVuZGVmaW5lZDtcbiAgICBpZiAob3duICYmIGhhcyhleHBvcnRzLCBrZXkpKSBjb250aW51ZTtcbiAgICAvLyBleHBvcnQgbmF0aXZlIG9yIHBhc3NlZFxuICAgIG91dCA9IG93biA/IHRhcmdldFtrZXldIDogc291cmNlW2tleV07XG4gICAgLy8gcHJldmVudCBnbG9iYWwgcG9sbHV0aW9uIGZvciBuYW1lc3BhY2VzXG4gICAgZXhwb3J0c1trZXldID0gSVNfR0xPQkFMICYmIHR5cGVvZiB0YXJnZXRba2V5XSAhPSAnZnVuY3Rpb24nID8gc291cmNlW2tleV1cbiAgICAvLyBiaW5kIHRpbWVycyB0byBnbG9iYWwgZm9yIGNhbGwgZnJvbSBleHBvcnQgY29udGV4dFxuICAgIDogSVNfQklORCAmJiBvd24gPyBjdHgob3V0LCBnbG9iYWwpXG4gICAgLy8gd3JhcCBnbG9iYWwgY29uc3RydWN0b3JzIGZvciBwcmV2ZW50IGNoYW5nZSB0aGVtIGluIGxpYnJhcnlcbiAgICA6IElTX1dSQVAgJiYgdGFyZ2V0W2tleV0gPT0gb3V0ID8gKGZ1bmN0aW9uIChDKSB7XG4gICAgICB2YXIgRiA9IGZ1bmN0aW9uIChhLCBiLCBjKSB7XG4gICAgICAgIGlmICh0aGlzIGluc3RhbmNlb2YgQykge1xuICAgICAgICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gbmV3IEMoKTtcbiAgICAgICAgICAgIGNhc2UgMTogcmV0dXJuIG5ldyBDKGEpO1xuICAgICAgICAgICAgY2FzZSAyOiByZXR1cm4gbmV3IEMoYSwgYik7XG4gICAgICAgICAgfSByZXR1cm4gbmV3IEMoYSwgYiwgYyk7XG4gICAgICAgIH0gcmV0dXJuIEMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgICBGW1BST1RPVFlQRV0gPSBDW1BST1RPVFlQRV07XG4gICAgICByZXR1cm4gRjtcbiAgICAvLyBtYWtlIHN0YXRpYyB2ZXJzaW9ucyBmb3IgcHJvdG90eXBlIG1ldGhvZHNcbiAgICB9KShvdXQpIDogSVNfUFJPVE8gJiYgdHlwZW9mIG91dCA9PSAnZnVuY3Rpb24nID8gY3R4KEZ1bmN0aW9uLmNhbGwsIG91dCkgOiBvdXQ7XG4gICAgLy8gZXhwb3J0IHByb3RvIG1ldGhvZHMgdG8gY29yZS4lQ09OU1RSVUNUT1IlLm1ldGhvZHMuJU5BTUUlXG4gICAgaWYgKElTX1BST1RPKSB7XG4gICAgICAoZXhwb3J0cy52aXJ0dWFsIHx8IChleHBvcnRzLnZpcnR1YWwgPSB7fSkpW2tleV0gPSBvdXQ7XG4gICAgICAvLyBleHBvcnQgcHJvdG8gbWV0aG9kcyB0byBjb3JlLiVDT05TVFJVQ1RPUiUucHJvdG90eXBlLiVOQU1FJVxuICAgICAgaWYgKHR5cGUgJiAkZXhwb3J0LlIgJiYgZXhwUHJvdG8gJiYgIWV4cFByb3RvW2tleV0pIGhpZGUoZXhwUHJvdG8sIGtleSwgb3V0KTtcbiAgICB9XG4gIH1cbn07XG4vLyB0eXBlIGJpdG1hcFxuJGV4cG9ydC5GID0gMTsgICAvLyBmb3JjZWRcbiRleHBvcnQuRyA9IDI7ICAgLy8gZ2xvYmFsXG4kZXhwb3J0LlMgPSA0OyAgIC8vIHN0YXRpY1xuJGV4cG9ydC5QID0gODsgICAvLyBwcm90b1xuJGV4cG9ydC5CID0gMTY7ICAvLyBiaW5kXG4kZXhwb3J0LlcgPSAzMjsgIC8vIHdyYXBcbiRleHBvcnQuVSA9IDY0OyAgLy8gc2FmZVxuJGV4cG9ydC5SID0gMTI4OyAvLyByZWFsIHByb3RvIG1ldGhvZCBmb3IgYGxpYnJhcnlgXG5tb2R1bGUuZXhwb3J0cyA9ICRleHBvcnQ7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChleGVjKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuICEhZXhlYygpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn07XG4iLCJ2YXIgY3R4ID0gcmVxdWlyZSgnLi9fY3R4Jyk7XG52YXIgY2FsbCA9IHJlcXVpcmUoJy4vX2l0ZXItY2FsbCcpO1xudmFyIGlzQXJyYXlJdGVyID0gcmVxdWlyZSgnLi9faXMtYXJyYXktaXRlcicpO1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG52YXIgdG9MZW5ndGggPSByZXF1aXJlKCcuL190by1sZW5ndGgnKTtcbnZhciBnZXRJdGVyRm4gPSByZXF1aXJlKCcuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCcpO1xudmFyIEJSRUFLID0ge307XG52YXIgUkVUVVJOID0ge307XG52YXIgZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0ZXJhYmxlLCBlbnRyaWVzLCBmbiwgdGhhdCwgSVRFUkFUT1IpIHtcbiAgdmFyIGl0ZXJGbiA9IElURVJBVE9SID8gZnVuY3Rpb24gKCkgeyByZXR1cm4gaXRlcmFibGU7IH0gOiBnZXRJdGVyRm4oaXRlcmFibGUpO1xuICB2YXIgZiA9IGN0eChmbiwgdGhhdCwgZW50cmllcyA/IDIgOiAxKTtcbiAgdmFyIGluZGV4ID0gMDtcbiAgdmFyIGxlbmd0aCwgc3RlcCwgaXRlcmF0b3IsIHJlc3VsdDtcbiAgaWYgKHR5cGVvZiBpdGVyRm4gIT0gJ2Z1bmN0aW9uJykgdGhyb3cgVHlwZUVycm9yKGl0ZXJhYmxlICsgJyBpcyBub3QgaXRlcmFibGUhJyk7XG4gIC8vIGZhc3QgY2FzZSBmb3IgYXJyYXlzIHdpdGggZGVmYXVsdCBpdGVyYXRvclxuICBpZiAoaXNBcnJheUl0ZXIoaXRlckZuKSkgZm9yIChsZW5ndGggPSB0b0xlbmd0aChpdGVyYWJsZS5sZW5ndGgpOyBsZW5ndGggPiBpbmRleDsgaW5kZXgrKykge1xuICAgIHJlc3VsdCA9IGVudHJpZXMgPyBmKGFuT2JqZWN0KHN0ZXAgPSBpdGVyYWJsZVtpbmRleF0pWzBdLCBzdGVwWzFdKSA6IGYoaXRlcmFibGVbaW5kZXhdKTtcbiAgICBpZiAocmVzdWx0ID09PSBCUkVBSyB8fCByZXN1bHQgPT09IFJFVFVSTikgcmV0dXJuIHJlc3VsdDtcbiAgfSBlbHNlIGZvciAoaXRlcmF0b3IgPSBpdGVyRm4uY2FsbChpdGVyYWJsZSk7ICEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZTspIHtcbiAgICByZXN1bHQgPSBjYWxsKGl0ZXJhdG9yLCBmLCBzdGVwLnZhbHVlLCBlbnRyaWVzKTtcbiAgICBpZiAocmVzdWx0ID09PSBCUkVBSyB8fCByZXN1bHQgPT09IFJFVFVSTikgcmV0dXJuIHJlc3VsdDtcbiAgfVxufTtcbmV4cG9ydHMuQlJFQUsgPSBCUkVBSztcbmV4cG9ydHMuUkVUVVJOID0gUkVUVVJOO1xuIiwiLy8gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzg2I2lzc3VlY29tbWVudC0xMTU3NTkwMjhcbnZhciBnbG9iYWwgPSBtb2R1bGUuZXhwb3J0cyA9IHR5cGVvZiB3aW5kb3cgIT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Lk1hdGggPT0gTWF0aFxuICA/IHdpbmRvdyA6IHR5cGVvZiBzZWxmICE9ICd1bmRlZmluZWQnICYmIHNlbGYuTWF0aCA9PSBNYXRoID8gc2VsZlxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmV3LWZ1bmNcbiAgOiBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuaWYgKHR5cGVvZiBfX2cgPT0gJ251bWJlcicpIF9fZyA9IGdsb2JhbDsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuIiwidmFyIGhhc093blByb3BlcnR5ID0ge30uaGFzT3duUHJvcGVydHk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCwga2V5KSB7XG4gIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGl0LCBrZXkpO1xufTtcbiIsInZhciBkUCA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpO1xudmFyIGNyZWF0ZURlc2MgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgPyBmdW5jdGlvbiAob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIHJldHVybiBkUC5mKG9iamVjdCwga2V5LCBjcmVhdGVEZXNjKDEsIHZhbHVlKSk7XG59IDogZnVuY3Rpb24gKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICByZXR1cm4gb2JqZWN0O1xufTtcbiIsInZhciBkb2N1bWVudCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpLmRvY3VtZW50O1xubW9kdWxlLmV4cG9ydHMgPSBkb2N1bWVudCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4iLCJtb2R1bGUuZXhwb3J0cyA9ICFyZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpICYmICFyZXF1aXJlKCcuL19mYWlscycpKGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXF1aXJlKCcuL19kb20tY3JlYXRlJykoJ2RpdicpLCAnYScsIHsgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiA3OyB9IH0pLmEgIT0gNztcbn0pO1xuIiwiLy8gZmFzdCBhcHBseSwgaHR0cDovL2pzcGVyZi5sbmtpdC5jb20vZmFzdC1hcHBseS81XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChmbiwgYXJncywgdGhhdCkge1xuICB2YXIgdW4gPSB0aGF0ID09PSB1bmRlZmluZWQ7XG4gIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICBjYXNlIDA6IHJldHVybiB1biA/IGZuKClcbiAgICAgICAgICAgICAgICAgICAgICA6IGZuLmNhbGwodGhhdCk7XG4gICAgY2FzZSAxOiByZXR1cm4gdW4gPyBmbihhcmdzWzBdKVxuICAgICAgICAgICAgICAgICAgICAgIDogZm4uY2FsbCh0aGF0LCBhcmdzWzBdKTtcbiAgICBjYXNlIDI6IHJldHVybiB1biA/IGZuKGFyZ3NbMF0sIGFyZ3NbMV0pXG4gICAgICAgICAgICAgICAgICAgICAgOiBmbi5jYWxsKHRoYXQsIGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgIGNhc2UgMzogcmV0dXJuIHVuID8gZm4oYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSlcbiAgICAgICAgICAgICAgICAgICAgICA6IGZuLmNhbGwodGhhdCwgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgY2FzZSA0OiByZXR1cm4gdW4gPyBmbihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdKVxuICAgICAgICAgICAgICAgICAgICAgIDogZm4uY2FsbCh0aGF0LCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdKTtcbiAgfSByZXR1cm4gZm4uYXBwbHkodGhhdCwgYXJncyk7XG59O1xuIiwiLy8gZmFsbGJhY2sgZm9yIG5vbi1hcnJheS1saWtlIEVTMyBhbmQgbm9uLWVudW1lcmFibGUgb2xkIFY4IHN0cmluZ3NcbnZhciBjb2YgPSByZXF1aXJlKCcuL19jb2YnKTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wcm90b3R5cGUtYnVpbHRpbnNcbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0KCd6JykucHJvcGVydHlJc0VudW1lcmFibGUoMCkgPyBPYmplY3QgOiBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGNvZihpdCkgPT0gJ1N0cmluZycgPyBpdC5zcGxpdCgnJykgOiBPYmplY3QoaXQpO1xufTtcbiIsIi8vIGNoZWNrIG9uIGRlZmF1bHQgQXJyYXkgaXRlcmF0b3JcbnZhciBJdGVyYXRvcnMgPSByZXF1aXJlKCcuL19pdGVyYXRvcnMnKTtcbnZhciBJVEVSQVRPUiA9IHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpO1xudmFyIEFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGU7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBpdCAhPT0gdW5kZWZpbmVkICYmIChJdGVyYXRvcnMuQXJyYXkgPT09IGl0IHx8IEFycmF5UHJvdG9bSVRFUkFUT1JdID09PSBpdCk7XG59O1xuIiwiLy8gNy4yLjIgSXNBcnJheShhcmd1bWVudClcbnZhciBjb2YgPSByZXF1aXJlKCcuL19jb2YnKTtcbm1vZHVsZS5leHBvcnRzID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiBpc0FycmF5KGFyZykge1xuICByZXR1cm4gY29mKGFyZykgPT0gJ0FycmF5Jztcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gdHlwZW9mIGl0ID09PSAnb2JqZWN0JyA/IGl0ICE9PSBudWxsIDogdHlwZW9mIGl0ID09PSAnZnVuY3Rpb24nO1xufTtcbiIsIi8vIGNhbGwgc29tZXRoaW5nIG9uIGl0ZXJhdG9yIHN0ZXAgd2l0aCBzYWZlIGNsb3Npbmcgb24gZXJyb3JcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXRlcmF0b3IsIGZuLCB2YWx1ZSwgZW50cmllcykge1xuICB0cnkge1xuICAgIHJldHVybiBlbnRyaWVzID8gZm4oYW5PYmplY3QodmFsdWUpWzBdLCB2YWx1ZVsxXSkgOiBmbih2YWx1ZSk7XG4gIC8vIDcuNC42IEl0ZXJhdG9yQ2xvc2UoaXRlcmF0b3IsIGNvbXBsZXRpb24pXG4gIH0gY2F0Y2ggKGUpIHtcbiAgICB2YXIgcmV0ID0gaXRlcmF0b3JbJ3JldHVybiddO1xuICAgIGlmIChyZXQgIT09IHVuZGVmaW5lZCkgYW5PYmplY3QocmV0LmNhbGwoaXRlcmF0b3IpKTtcbiAgICB0aHJvdyBlO1xuICB9XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIGNyZWF0ZSA9IHJlcXVpcmUoJy4vX29iamVjdC1jcmVhdGUnKTtcbnZhciBkZXNjcmlwdG9yID0gcmVxdWlyZSgnLi9fcHJvcGVydHktZGVzYycpO1xudmFyIHNldFRvU3RyaW5nVGFnID0gcmVxdWlyZSgnLi9fc2V0LXRvLXN0cmluZy10YWcnKTtcbnZhciBJdGVyYXRvclByb3RvdHlwZSA9IHt9O1xuXG4vLyAyNS4xLjIuMS4xICVJdGVyYXRvclByb3RvdHlwZSVbQEBpdGVyYXRvcl0oKVxucmVxdWlyZSgnLi9faGlkZScpKEl0ZXJhdG9yUHJvdG90eXBlLCByZXF1aXJlKCcuL193a3MnKSgnaXRlcmF0b3InKSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBOQU1FLCBuZXh0KSB7XG4gIENvbnN0cnVjdG9yLnByb3RvdHlwZSA9IGNyZWF0ZShJdGVyYXRvclByb3RvdHlwZSwgeyBuZXh0OiBkZXNjcmlwdG9yKDEsIG5leHQpIH0pO1xuICBzZXRUb1N0cmluZ1RhZyhDb25zdHJ1Y3RvciwgTkFNRSArICcgSXRlcmF0b3InKTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG52YXIgTElCUkFSWSA9IHJlcXVpcmUoJy4vX2xpYnJhcnknKTtcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG52YXIgcmVkZWZpbmUgPSByZXF1aXJlKCcuL19yZWRlZmluZScpO1xudmFyIGhpZGUgPSByZXF1aXJlKCcuL19oaWRlJyk7XG52YXIgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJyk7XG52YXIgJGl0ZXJDcmVhdGUgPSByZXF1aXJlKCcuL19pdGVyLWNyZWF0ZScpO1xudmFyIHNldFRvU3RyaW5nVGFnID0gcmVxdWlyZSgnLi9fc2V0LXRvLXN0cmluZy10YWcnKTtcbnZhciBnZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoJy4vX29iamVjdC1ncG8nKTtcbnZhciBJVEVSQVRPUiA9IHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpO1xudmFyIEJVR0dZID0gIShbXS5rZXlzICYmICduZXh0JyBpbiBbXS5rZXlzKCkpOyAvLyBTYWZhcmkgaGFzIGJ1Z2d5IGl0ZXJhdG9ycyB3L28gYG5leHRgXG52YXIgRkZfSVRFUkFUT1IgPSAnQEBpdGVyYXRvcic7XG52YXIgS0VZUyA9ICdrZXlzJztcbnZhciBWQUxVRVMgPSAndmFsdWVzJztcblxudmFyIHJldHVyblRoaXMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChCYXNlLCBOQU1FLCBDb25zdHJ1Y3RvciwgbmV4dCwgREVGQVVMVCwgSVNfU0VULCBGT1JDRUQpIHtcbiAgJGl0ZXJDcmVhdGUoQ29uc3RydWN0b3IsIE5BTUUsIG5leHQpO1xuICB2YXIgZ2V0TWV0aG9kID0gZnVuY3Rpb24gKGtpbmQpIHtcbiAgICBpZiAoIUJVR0dZICYmIGtpbmQgaW4gcHJvdG8pIHJldHVybiBwcm90b1traW5kXTtcbiAgICBzd2l0Y2ggKGtpbmQpIHtcbiAgICAgIGNhc2UgS0VZUzogcmV0dXJuIGZ1bmN0aW9uIGtleXMoKSB7IHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7IH07XG4gICAgICBjYXNlIFZBTFVFUzogcmV0dXJuIGZ1bmN0aW9uIHZhbHVlcygpIHsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcbiAgICB9IHJldHVybiBmdW5jdGlvbiBlbnRyaWVzKCkgeyByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpOyB9O1xuICB9O1xuICB2YXIgVEFHID0gTkFNRSArICcgSXRlcmF0b3InO1xuICB2YXIgREVGX1ZBTFVFUyA9IERFRkFVTFQgPT0gVkFMVUVTO1xuICB2YXIgVkFMVUVTX0JVRyA9IGZhbHNlO1xuICB2YXIgcHJvdG8gPSBCYXNlLnByb3RvdHlwZTtcbiAgdmFyICRuYXRpdmUgPSBwcm90b1tJVEVSQVRPUl0gfHwgcHJvdG9bRkZfSVRFUkFUT1JdIHx8IERFRkFVTFQgJiYgcHJvdG9bREVGQVVMVF07XG4gIHZhciAkZGVmYXVsdCA9ICRuYXRpdmUgfHwgZ2V0TWV0aG9kKERFRkFVTFQpO1xuICB2YXIgJGVudHJpZXMgPSBERUZBVUxUID8gIURFRl9WQUxVRVMgPyAkZGVmYXVsdCA6IGdldE1ldGhvZCgnZW50cmllcycpIDogdW5kZWZpbmVkO1xuICB2YXIgJGFueU5hdGl2ZSA9IE5BTUUgPT0gJ0FycmF5JyA/IHByb3RvLmVudHJpZXMgfHwgJG5hdGl2ZSA6ICRuYXRpdmU7XG4gIHZhciBtZXRob2RzLCBrZXksIEl0ZXJhdG9yUHJvdG90eXBlO1xuICAvLyBGaXggbmF0aXZlXG4gIGlmICgkYW55TmF0aXZlKSB7XG4gICAgSXRlcmF0b3JQcm90b3R5cGUgPSBnZXRQcm90b3R5cGVPZigkYW55TmF0aXZlLmNhbGwobmV3IEJhc2UoKSkpO1xuICAgIGlmIChJdGVyYXRvclByb3RvdHlwZSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBJdGVyYXRvclByb3RvdHlwZS5uZXh0KSB7XG4gICAgICAvLyBTZXQgQEB0b1N0cmluZ1RhZyB0byBuYXRpdmUgaXRlcmF0b3JzXG4gICAgICBzZXRUb1N0cmluZ1RhZyhJdGVyYXRvclByb3RvdHlwZSwgVEFHLCB0cnVlKTtcbiAgICAgIC8vIGZpeCBmb3Igc29tZSBvbGQgZW5naW5lc1xuICAgICAgaWYgKCFMSUJSQVJZICYmIHR5cGVvZiBJdGVyYXRvclByb3RvdHlwZVtJVEVSQVRPUl0gIT0gJ2Z1bmN0aW9uJykgaGlkZShJdGVyYXRvclByb3RvdHlwZSwgSVRFUkFUT1IsIHJldHVyblRoaXMpO1xuICAgIH1cbiAgfVxuICAvLyBmaXggQXJyYXkje3ZhbHVlcywgQEBpdGVyYXRvcn0ubmFtZSBpbiBWOCAvIEZGXG4gIGlmIChERUZfVkFMVUVTICYmICRuYXRpdmUgJiYgJG5hdGl2ZS5uYW1lICE9PSBWQUxVRVMpIHtcbiAgICBWQUxVRVNfQlVHID0gdHJ1ZTtcbiAgICAkZGVmYXVsdCA9IGZ1bmN0aW9uIHZhbHVlcygpIHsgcmV0dXJuICRuYXRpdmUuY2FsbCh0aGlzKTsgfTtcbiAgfVxuICAvLyBEZWZpbmUgaXRlcmF0b3JcbiAgaWYgKCghTElCUkFSWSB8fCBGT1JDRUQpICYmIChCVUdHWSB8fCBWQUxVRVNfQlVHIHx8ICFwcm90b1tJVEVSQVRPUl0pKSB7XG4gICAgaGlkZShwcm90bywgSVRFUkFUT1IsICRkZWZhdWx0KTtcbiAgfVxuICAvLyBQbHVnIGZvciBsaWJyYXJ5XG4gIEl0ZXJhdG9yc1tOQU1FXSA9ICRkZWZhdWx0O1xuICBJdGVyYXRvcnNbVEFHXSA9IHJldHVyblRoaXM7XG4gIGlmIChERUZBVUxUKSB7XG4gICAgbWV0aG9kcyA9IHtcbiAgICAgIHZhbHVlczogREVGX1ZBTFVFUyA/ICRkZWZhdWx0IDogZ2V0TWV0aG9kKFZBTFVFUyksXG4gICAgICBrZXlzOiBJU19TRVQgPyAkZGVmYXVsdCA6IGdldE1ldGhvZChLRVlTKSxcbiAgICAgIGVudHJpZXM6ICRlbnRyaWVzXG4gICAgfTtcbiAgICBpZiAoRk9SQ0VEKSBmb3IgKGtleSBpbiBtZXRob2RzKSB7XG4gICAgICBpZiAoIShrZXkgaW4gcHJvdG8pKSByZWRlZmluZShwcm90bywga2V5LCBtZXRob2RzW2tleV0pO1xuICAgIH0gZWxzZSAkZXhwb3J0KCRleHBvcnQuUCArICRleHBvcnQuRiAqIChCVUdHWSB8fCBWQUxVRVNfQlVHKSwgTkFNRSwgbWV0aG9kcyk7XG4gIH1cbiAgcmV0dXJuIG1ldGhvZHM7XG59O1xuIiwidmFyIElURVJBVE9SID0gcmVxdWlyZSgnLi9fd2tzJykoJ2l0ZXJhdG9yJyk7XG52YXIgU0FGRV9DTE9TSU5HID0gZmFsc2U7XG5cbnRyeSB7XG4gIHZhciByaXRlciA9IFs3XVtJVEVSQVRPUl0oKTtcbiAgcml0ZXJbJ3JldHVybiddID0gZnVuY3Rpb24gKCkgeyBTQUZFX0NMT1NJTkcgPSB0cnVlOyB9O1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdGhyb3ctbGl0ZXJhbFxuICBBcnJheS5mcm9tKHJpdGVyLCBmdW5jdGlvbiAoKSB7IHRocm93IDI7IH0pO1xufSBjYXRjaCAoZSkgeyAvKiBlbXB0eSAqLyB9XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGV4ZWMsIHNraXBDbG9zaW5nKSB7XG4gIGlmICghc2tpcENsb3NpbmcgJiYgIVNBRkVfQ0xPU0lORykgcmV0dXJuIGZhbHNlO1xuICB2YXIgc2FmZSA9IGZhbHNlO1xuICB0cnkge1xuICAgIHZhciBhcnIgPSBbN107XG4gICAgdmFyIGl0ZXIgPSBhcnJbSVRFUkFUT1JdKCk7XG4gICAgaXRlci5uZXh0ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4geyBkb25lOiBzYWZlID0gdHJ1ZSB9OyB9O1xuICAgIGFycltJVEVSQVRPUl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiBpdGVyOyB9O1xuICAgIGV4ZWMoYXJyKTtcbiAgfSBjYXRjaCAoZSkgeyAvKiBlbXB0eSAqLyB9XG4gIHJldHVybiBzYWZlO1xufTtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGRvbmUsIHZhbHVlKSB7XG4gIHJldHVybiB7IHZhbHVlOiB2YWx1ZSwgZG9uZTogISFkb25lIH07XG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSB7fTtcbiIsIm1vZHVsZS5leHBvcnRzID0gdHJ1ZTtcbiIsInZhciBNRVRBID0gcmVxdWlyZSgnLi9fdWlkJykoJ21ldGEnKTtcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xudmFyIGhhcyA9IHJlcXVpcmUoJy4vX2hhcycpO1xudmFyIHNldERlc2MgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKS5mO1xudmFyIGlkID0gMDtcbnZhciBpc0V4dGVuc2libGUgPSBPYmplY3QuaXNFeHRlbnNpYmxlIHx8IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRydWU7XG59O1xudmFyIEZSRUVaRSA9ICFyZXF1aXJlKCcuL19mYWlscycpKGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIGlzRXh0ZW5zaWJsZShPYmplY3QucHJldmVudEV4dGVuc2lvbnMoe30pKTtcbn0pO1xudmFyIHNldE1ldGEgPSBmdW5jdGlvbiAoaXQpIHtcbiAgc2V0RGVzYyhpdCwgTUVUQSwgeyB2YWx1ZToge1xuICAgIGk6ICdPJyArICsraWQsIC8vIG9iamVjdCBJRFxuICAgIHc6IHt9ICAgICAgICAgIC8vIHdlYWsgY29sbGVjdGlvbnMgSURzXG4gIH0gfSk7XG59O1xudmFyIGZhc3RLZXkgPSBmdW5jdGlvbiAoaXQsIGNyZWF0ZSkge1xuICAvLyByZXR1cm4gcHJpbWl0aXZlIHdpdGggcHJlZml4XG4gIGlmICghaXNPYmplY3QoaXQpKSByZXR1cm4gdHlwZW9mIGl0ID09ICdzeW1ib2wnID8gaXQgOiAodHlwZW9mIGl0ID09ICdzdHJpbmcnID8gJ1MnIDogJ1AnKSArIGl0O1xuICBpZiAoIWhhcyhpdCwgTUVUQSkpIHtcbiAgICAvLyBjYW4ndCBzZXQgbWV0YWRhdGEgdG8gdW5jYXVnaHQgZnJvemVuIG9iamVjdFxuICAgIGlmICghaXNFeHRlbnNpYmxlKGl0KSkgcmV0dXJuICdGJztcbiAgICAvLyBub3QgbmVjZXNzYXJ5IHRvIGFkZCBtZXRhZGF0YVxuICAgIGlmICghY3JlYXRlKSByZXR1cm4gJ0UnO1xuICAgIC8vIGFkZCBtaXNzaW5nIG1ldGFkYXRhXG4gICAgc2V0TWV0YShpdCk7XG4gIC8vIHJldHVybiBvYmplY3QgSURcbiAgfSByZXR1cm4gaXRbTUVUQV0uaTtcbn07XG52YXIgZ2V0V2VhayA9IGZ1bmN0aW9uIChpdCwgY3JlYXRlKSB7XG4gIGlmICghaGFzKGl0LCBNRVRBKSkge1xuICAgIC8vIGNhbid0IHNldCBtZXRhZGF0YSB0byB1bmNhdWdodCBmcm96ZW4gb2JqZWN0XG4gICAgaWYgKCFpc0V4dGVuc2libGUoaXQpKSByZXR1cm4gdHJ1ZTtcbiAgICAvLyBub3QgbmVjZXNzYXJ5IHRvIGFkZCBtZXRhZGF0YVxuICAgIGlmICghY3JlYXRlKSByZXR1cm4gZmFsc2U7XG4gICAgLy8gYWRkIG1pc3NpbmcgbWV0YWRhdGFcbiAgICBzZXRNZXRhKGl0KTtcbiAgLy8gcmV0dXJuIGhhc2ggd2VhayBjb2xsZWN0aW9ucyBJRHNcbiAgfSByZXR1cm4gaXRbTUVUQV0udztcbn07XG4vLyBhZGQgbWV0YWRhdGEgb24gZnJlZXplLWZhbWlseSBtZXRob2RzIGNhbGxpbmdcbnZhciBvbkZyZWV6ZSA9IGZ1bmN0aW9uIChpdCkge1xuICBpZiAoRlJFRVpFICYmIG1ldGEuTkVFRCAmJiBpc0V4dGVuc2libGUoaXQpICYmICFoYXMoaXQsIE1FVEEpKSBzZXRNZXRhKGl0KTtcbiAgcmV0dXJuIGl0O1xufTtcbnZhciBtZXRhID0gbW9kdWxlLmV4cG9ydHMgPSB7XG4gIEtFWTogTUVUQSxcbiAgTkVFRDogZmFsc2UsXG4gIGZhc3RLZXk6IGZhc3RLZXksXG4gIGdldFdlYWs6IGdldFdlYWssXG4gIG9uRnJlZXplOiBvbkZyZWV6ZVxufTtcbiIsInZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKTtcbnZhciBtYWNyb3Rhc2sgPSByZXF1aXJlKCcuL190YXNrJykuc2V0O1xudmFyIE9ic2VydmVyID0gZ2xvYmFsLk11dGF0aW9uT2JzZXJ2ZXIgfHwgZ2xvYmFsLldlYktpdE11dGF0aW9uT2JzZXJ2ZXI7XG52YXIgcHJvY2VzcyA9IGdsb2JhbC5wcm9jZXNzO1xudmFyIFByb21pc2UgPSBnbG9iYWwuUHJvbWlzZTtcbnZhciBpc05vZGUgPSByZXF1aXJlKCcuL19jb2YnKShwcm9jZXNzKSA9PSAncHJvY2Vzcyc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuICB2YXIgaGVhZCwgbGFzdCwgbm90aWZ5O1xuXG4gIHZhciBmbHVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcGFyZW50LCBmbjtcbiAgICBpZiAoaXNOb2RlICYmIChwYXJlbnQgPSBwcm9jZXNzLmRvbWFpbikpIHBhcmVudC5leGl0KCk7XG4gICAgd2hpbGUgKGhlYWQpIHtcbiAgICAgIGZuID0gaGVhZC5mbjtcbiAgICAgIGhlYWQgPSBoZWFkLm5leHQ7XG4gICAgICB0cnkge1xuICAgICAgICBmbigpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBpZiAoaGVhZCkgbm90aWZ5KCk7XG4gICAgICAgIGVsc2UgbGFzdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICB9IGxhc3QgPSB1bmRlZmluZWQ7XG4gICAgaWYgKHBhcmVudCkgcGFyZW50LmVudGVyKCk7XG4gIH07XG5cbiAgLy8gTm9kZS5qc1xuICBpZiAoaXNOb2RlKSB7XG4gICAgbm90aWZ5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcHJvY2Vzcy5uZXh0VGljayhmbHVzaCk7XG4gICAgfTtcbiAgLy8gYnJvd3NlcnMgd2l0aCBNdXRhdGlvbk9ic2VydmVyLCBleGNlcHQgaU9TIFNhZmFyaSAtIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy8zMzlcbiAgfSBlbHNlIGlmIChPYnNlcnZlciAmJiAhKGdsb2JhbC5uYXZpZ2F0b3IgJiYgZ2xvYmFsLm5hdmlnYXRvci5zdGFuZGFsb25lKSkge1xuICAgIHZhciB0b2dnbGUgPSB0cnVlO1xuICAgIHZhciBub2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuICAgIG5ldyBPYnNlcnZlcihmbHVzaCkub2JzZXJ2ZShub2RlLCB7IGNoYXJhY3RlckRhdGE6IHRydWUgfSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3XG4gICAgbm90aWZ5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgbm9kZS5kYXRhID0gdG9nZ2xlID0gIXRvZ2dsZTtcbiAgICB9O1xuICAvLyBlbnZpcm9ubWVudHMgd2l0aCBtYXliZSBub24tY29tcGxldGVseSBjb3JyZWN0LCBidXQgZXhpc3RlbnQgUHJvbWlzZVxuICB9IGVsc2UgaWYgKFByb21pc2UgJiYgUHJvbWlzZS5yZXNvbHZlKSB7XG4gICAgLy8gUHJvbWlzZS5yZXNvbHZlIHdpdGhvdXQgYW4gYXJndW1lbnQgdGhyb3dzIGFuIGVycm9yIGluIExHIFdlYk9TIDJcbiAgICB2YXIgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSh1bmRlZmluZWQpO1xuICAgIG5vdGlmeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHByb21pc2UudGhlbihmbHVzaCk7XG4gICAgfTtcbiAgLy8gZm9yIG90aGVyIGVudmlyb25tZW50cyAtIG1hY3JvdGFzayBiYXNlZCBvbjpcbiAgLy8gLSBzZXRJbW1lZGlhdGVcbiAgLy8gLSBNZXNzYWdlQ2hhbm5lbFxuICAvLyAtIHdpbmRvdy5wb3N0TWVzc2FnXG4gIC8vIC0gb25yZWFkeXN0YXRlY2hhbmdlXG4gIC8vIC0gc2V0VGltZW91dFxuICB9IGVsc2Uge1xuICAgIG5vdGlmeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIHN0cmFuZ2UgSUUgKyB3ZWJwYWNrIGRldiBzZXJ2ZXIgYnVnIC0gdXNlIC5jYWxsKGdsb2JhbClcbiAgICAgIG1hY3JvdGFzay5jYWxsKGdsb2JhbCwgZmx1c2gpO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKGZuKSB7XG4gICAgdmFyIHRhc2sgPSB7IGZuOiBmbiwgbmV4dDogdW5kZWZpbmVkIH07XG4gICAgaWYgKGxhc3QpIGxhc3QubmV4dCA9IHRhc2s7XG4gICAgaWYgKCFoZWFkKSB7XG4gICAgICBoZWFkID0gdGFzaztcbiAgICAgIG5vdGlmeSgpO1xuICAgIH0gbGFzdCA9IHRhc2s7XG4gIH07XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuLy8gMjUuNC4xLjUgTmV3UHJvbWlzZUNhcGFiaWxpdHkoQylcbnZhciBhRnVuY3Rpb24gPSByZXF1aXJlKCcuL19hLWZ1bmN0aW9uJyk7XG5cbmZ1bmN0aW9uIFByb21pc2VDYXBhYmlsaXR5KEMpIHtcbiAgdmFyIHJlc29sdmUsIHJlamVjdDtcbiAgdGhpcy5wcm9taXNlID0gbmV3IEMoZnVuY3Rpb24gKCQkcmVzb2x2ZSwgJCRyZWplY3QpIHtcbiAgICBpZiAocmVzb2x2ZSAhPT0gdW5kZWZpbmVkIHx8IHJlamVjdCAhPT0gdW5kZWZpbmVkKSB0aHJvdyBUeXBlRXJyb3IoJ0JhZCBQcm9taXNlIGNvbnN0cnVjdG9yJyk7XG4gICAgcmVzb2x2ZSA9ICQkcmVzb2x2ZTtcbiAgICByZWplY3QgPSAkJHJlamVjdDtcbiAgfSk7XG4gIHRoaXMucmVzb2x2ZSA9IGFGdW5jdGlvbihyZXNvbHZlKTtcbiAgdGhpcy5yZWplY3QgPSBhRnVuY3Rpb24ocmVqZWN0KTtcbn1cblxubW9kdWxlLmV4cG9ydHMuZiA9IGZ1bmN0aW9uIChDKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZUNhcGFiaWxpdHkoQyk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuLy8gMTkuMS4yLjEgT2JqZWN0LmFzc2lnbih0YXJnZXQsIHNvdXJjZSwgLi4uKVxudmFyIGdldEtleXMgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cycpO1xudmFyIGdPUFMgPSByZXF1aXJlKCcuL19vYmplY3QtZ29wcycpO1xudmFyIHBJRSA9IHJlcXVpcmUoJy4vX29iamVjdC1waWUnKTtcbnZhciB0b09iamVjdCA9IHJlcXVpcmUoJy4vX3RvLW9iamVjdCcpO1xudmFyIElPYmplY3QgPSByZXF1aXJlKCcuL19pb2JqZWN0Jyk7XG52YXIgJGFzc2lnbiA9IE9iamVjdC5hc3NpZ247XG5cbi8vIHNob3VsZCB3b3JrIHdpdGggc3ltYm9scyBhbmQgc2hvdWxkIGhhdmUgZGV0ZXJtaW5pc3RpYyBwcm9wZXJ0eSBvcmRlciAoVjggYnVnKVxubW9kdWxlLmV4cG9ydHMgPSAhJGFzc2lnbiB8fCByZXF1aXJlKCcuL19mYWlscycpKGZ1bmN0aW9uICgpIHtcbiAgdmFyIEEgPSB7fTtcbiAgdmFyIEIgPSB7fTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gIHZhciBTID0gU3ltYm9sKCk7XG4gIHZhciBLID0gJ2FiY2RlZmdoaWprbG1ub3BxcnN0JztcbiAgQVtTXSA9IDc7XG4gIEsuc3BsaXQoJycpLmZvckVhY2goZnVuY3Rpb24gKGspIHsgQltrXSA9IGs7IH0pO1xuICByZXR1cm4gJGFzc2lnbih7fSwgQSlbU10gIT0gNyB8fCBPYmplY3Qua2V5cygkYXNzaWduKHt9LCBCKSkuam9pbignJykgIT0gSztcbn0pID8gZnVuY3Rpb24gYXNzaWduKHRhcmdldCwgc291cmNlKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgdmFyIFQgPSB0b09iamVjdCh0YXJnZXQpO1xuICB2YXIgYUxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gIHZhciBpbmRleCA9IDE7XG4gIHZhciBnZXRTeW1ib2xzID0gZ09QUy5mO1xuICB2YXIgaXNFbnVtID0gcElFLmY7XG4gIHdoaWxlIChhTGVuID4gaW5kZXgpIHtcbiAgICB2YXIgUyA9IElPYmplY3QoYXJndW1lbnRzW2luZGV4KytdKTtcbiAgICB2YXIga2V5cyA9IGdldFN5bWJvbHMgPyBnZXRLZXlzKFMpLmNvbmNhdChnZXRTeW1ib2xzKFMpKSA6IGdldEtleXMoUyk7XG4gICAgdmFyIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICAgIHZhciBqID0gMDtcbiAgICB2YXIga2V5O1xuICAgIHdoaWxlIChsZW5ndGggPiBqKSBpZiAoaXNFbnVtLmNhbGwoUywga2V5ID0ga2V5c1tqKytdKSkgVFtrZXldID0gU1trZXldO1xuICB9IHJldHVybiBUO1xufSA6ICRhc3NpZ247XG4iLCIvLyAxOS4xLjIuMiAvIDE1LjIuMy41IE9iamVjdC5jcmVhdGUoTyBbLCBQcm9wZXJ0aWVzXSlcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xudmFyIGRQcyA9IHJlcXVpcmUoJy4vX29iamVjdC1kcHMnKTtcbnZhciBlbnVtQnVnS2V5cyA9IHJlcXVpcmUoJy4vX2VudW0tYnVnLWtleXMnKTtcbnZhciBJRV9QUk9UTyA9IHJlcXVpcmUoJy4vX3NoYXJlZC1rZXknKSgnSUVfUFJPVE8nKTtcbnZhciBFbXB0eSA9IGZ1bmN0aW9uICgpIHsgLyogZW1wdHkgKi8gfTtcbnZhciBQUk9UT1RZUEUgPSAncHJvdG90eXBlJztcblxuLy8gQ3JlYXRlIG9iamVjdCB3aXRoIGZha2UgYG51bGxgIHByb3RvdHlwZTogdXNlIGlmcmFtZSBPYmplY3Qgd2l0aCBjbGVhcmVkIHByb3RvdHlwZVxudmFyIGNyZWF0ZURpY3QgPSBmdW5jdGlvbiAoKSB7XG4gIC8vIFRocmFzaCwgd2FzdGUgYW5kIHNvZG9teTogSUUgR0MgYnVnXG4gIHZhciBpZnJhbWUgPSByZXF1aXJlKCcuL19kb20tY3JlYXRlJykoJ2lmcmFtZScpO1xuICB2YXIgaSA9IGVudW1CdWdLZXlzLmxlbmd0aDtcbiAgdmFyIGx0ID0gJzwnO1xuICB2YXIgZ3QgPSAnPic7XG4gIHZhciBpZnJhbWVEb2N1bWVudDtcbiAgaWZyYW1lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIHJlcXVpcmUoJy4vX2h0bWwnKS5hcHBlbmRDaGlsZChpZnJhbWUpO1xuICBpZnJhbWUuc3JjID0gJ2phdmFzY3JpcHQ6JzsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1zY3JpcHQtdXJsXG4gIC8vIGNyZWF0ZURpY3QgPSBpZnJhbWUuY29udGVudFdpbmRvdy5PYmplY3Q7XG4gIC8vIGh0bWwucmVtb3ZlQ2hpbGQoaWZyYW1lKTtcbiAgaWZyYW1lRG9jdW1lbnQgPSBpZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudDtcbiAgaWZyYW1lRG9jdW1lbnQub3BlbigpO1xuICBpZnJhbWVEb2N1bWVudC53cml0ZShsdCArICdzY3JpcHQnICsgZ3QgKyAnZG9jdW1lbnQuRj1PYmplY3QnICsgbHQgKyAnL3NjcmlwdCcgKyBndCk7XG4gIGlmcmFtZURvY3VtZW50LmNsb3NlKCk7XG4gIGNyZWF0ZURpY3QgPSBpZnJhbWVEb2N1bWVudC5GO1xuICB3aGlsZSAoaS0tKSBkZWxldGUgY3JlYXRlRGljdFtQUk9UT1RZUEVdW2VudW1CdWdLZXlzW2ldXTtcbiAgcmV0dXJuIGNyZWF0ZURpY3QoKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmNyZWF0ZSB8fCBmdW5jdGlvbiBjcmVhdGUoTywgUHJvcGVydGllcykge1xuICB2YXIgcmVzdWx0O1xuICBpZiAoTyAhPT0gbnVsbCkge1xuICAgIEVtcHR5W1BST1RPVFlQRV0gPSBhbk9iamVjdChPKTtcbiAgICByZXN1bHQgPSBuZXcgRW1wdHkoKTtcbiAgICBFbXB0eVtQUk9UT1RZUEVdID0gbnVsbDtcbiAgICAvLyBhZGQgXCJfX3Byb3RvX19cIiBmb3IgT2JqZWN0LmdldFByb3RvdHlwZU9mIHBvbHlmaWxsXG4gICAgcmVzdWx0W0lFX1BST1RPXSA9IE87XG4gIH0gZWxzZSByZXN1bHQgPSBjcmVhdGVEaWN0KCk7XG4gIHJldHVybiBQcm9wZXJ0aWVzID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiBkUHMocmVzdWx0LCBQcm9wZXJ0aWVzKTtcbn07XG4iLCJ2YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciBJRThfRE9NX0RFRklORSA9IHJlcXVpcmUoJy4vX2llOC1kb20tZGVmaW5lJyk7XG52YXIgdG9QcmltaXRpdmUgPSByZXF1aXJlKCcuL190by1wcmltaXRpdmUnKTtcbnZhciBkUCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcblxuZXhwb3J0cy5mID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSA6IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpIHtcbiAgYW5PYmplY3QoTyk7XG4gIFAgPSB0b1ByaW1pdGl2ZShQLCB0cnVlKTtcbiAgYW5PYmplY3QoQXR0cmlidXRlcyk7XG4gIGlmIChJRThfRE9NX0RFRklORSkgdHJ5IHtcbiAgICByZXR1cm4gZFAoTywgUCwgQXR0cmlidXRlcyk7XG4gIH0gY2F0Y2ggKGUpIHsgLyogZW1wdHkgKi8gfVxuICBpZiAoJ2dldCcgaW4gQXR0cmlidXRlcyB8fCAnc2V0JyBpbiBBdHRyaWJ1dGVzKSB0aHJvdyBUeXBlRXJyb3IoJ0FjY2Vzc29ycyBub3Qgc3VwcG9ydGVkIScpO1xuICBpZiAoJ3ZhbHVlJyBpbiBBdHRyaWJ1dGVzKSBPW1BdID0gQXR0cmlidXRlcy52YWx1ZTtcbiAgcmV0dXJuIE87XG59O1xuIiwidmFyIGRQID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJyk7XG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciBnZXRLZXlzID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMgOiBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKE8sIFByb3BlcnRpZXMpIHtcbiAgYW5PYmplY3QoTyk7XG4gIHZhciBrZXlzID0gZ2V0S2V5cyhQcm9wZXJ0aWVzKTtcbiAgdmFyIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICB2YXIgaSA9IDA7XG4gIHZhciBQO1xuICB3aGlsZSAobGVuZ3RoID4gaSkgZFAuZihPLCBQID0ga2V5c1tpKytdLCBQcm9wZXJ0aWVzW1BdKTtcbiAgcmV0dXJuIE87XG59O1xuIiwidmFyIHBJRSA9IHJlcXVpcmUoJy4vX29iamVjdC1waWUnKTtcbnZhciBjcmVhdGVEZXNjID0gcmVxdWlyZSgnLi9fcHJvcGVydHktZGVzYycpO1xudmFyIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKTtcbnZhciB0b1ByaW1pdGl2ZSA9IHJlcXVpcmUoJy4vX3RvLXByaW1pdGl2ZScpO1xudmFyIGhhcyA9IHJlcXVpcmUoJy4vX2hhcycpO1xudmFyIElFOF9ET01fREVGSU5FID0gcmVxdWlyZSgnLi9faWU4LWRvbS1kZWZpbmUnKTtcbnZhciBnT1BEID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcblxuZXhwb3J0cy5mID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IGdPUEQgOiBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywgUCkge1xuICBPID0gdG9JT2JqZWN0KE8pO1xuICBQID0gdG9QcmltaXRpdmUoUCwgdHJ1ZSk7XG4gIGlmIChJRThfRE9NX0RFRklORSkgdHJ5IHtcbiAgICByZXR1cm4gZ09QRChPLCBQKTtcbiAgfSBjYXRjaCAoZSkgeyAvKiBlbXB0eSAqLyB9XG4gIGlmIChoYXMoTywgUCkpIHJldHVybiBjcmVhdGVEZXNjKCFwSUUuZi5jYWxsKE8sIFApLCBPW1BdKTtcbn07XG4iLCIvLyBmYWxsYmFjayBmb3IgSUUxMSBidWdneSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyB3aXRoIGlmcmFtZSBhbmQgd2luZG93XG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xudmFyIGdPUE4gPSByZXF1aXJlKCcuL19vYmplY3QtZ29wbicpLmY7XG52YXIgdG9TdHJpbmcgPSB7fS50b1N0cmluZztcblxudmFyIHdpbmRvd05hbWVzID0gdHlwZW9mIHdpbmRvdyA9PSAnb2JqZWN0JyAmJiB3aW5kb3cgJiYgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXNcbiAgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh3aW5kb3cpIDogW107XG5cbnZhciBnZXRXaW5kb3dOYW1lcyA9IGZ1bmN0aW9uIChpdCkge1xuICB0cnkge1xuICAgIHJldHVybiBnT1BOKGl0KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiB3aW5kb3dOYW1lcy5zbGljZSgpO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cy5mID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhpdCkge1xuICByZXR1cm4gd2luZG93TmFtZXMgJiYgdG9TdHJpbmcuY2FsbChpdCkgPT0gJ1tvYmplY3QgV2luZG93XScgPyBnZXRXaW5kb3dOYW1lcyhpdCkgOiBnT1BOKHRvSU9iamVjdChpdCkpO1xufTtcbiIsIi8vIDE5LjEuMi43IC8gMTUuMi4zLjQgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoTylcbnZhciAka2V5cyA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzLWludGVybmFsJyk7XG52YXIgaGlkZGVuS2V5cyA9IHJlcXVpcmUoJy4vX2VudW0tYnVnLWtleXMnKS5jb25jYXQoJ2xlbmd0aCcsICdwcm90b3R5cGUnKTtcblxuZXhwb3J0cy5mID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgfHwgZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhPKSB7XG4gIHJldHVybiAka2V5cyhPLCBoaWRkZW5LZXlzKTtcbn07XG4iLCJleHBvcnRzLmYgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xuIiwiLy8gMTkuMS4yLjkgLyAxNS4yLjMuMiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTylcbnZhciBoYXMgPSByZXF1aXJlKCcuL19oYXMnKTtcbnZhciB0b09iamVjdCA9IHJlcXVpcmUoJy4vX3RvLW9iamVjdCcpO1xudmFyIElFX1BST1RPID0gcmVxdWlyZSgnLi9fc2hhcmVkLWtleScpKCdJRV9QUk9UTycpO1xudmFyIE9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gKE8pIHtcbiAgTyA9IHRvT2JqZWN0KE8pO1xuICBpZiAoaGFzKE8sIElFX1BST1RPKSkgcmV0dXJuIE9bSUVfUFJPVE9dO1xuICBpZiAodHlwZW9mIE8uY29uc3RydWN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBPIGluc3RhbmNlb2YgTy5jb25zdHJ1Y3Rvcikge1xuICAgIHJldHVybiBPLmNvbnN0cnVjdG9yLnByb3RvdHlwZTtcbiAgfSByZXR1cm4gTyBpbnN0YW5jZW9mIE9iamVjdCA/IE9iamVjdFByb3RvIDogbnVsbDtcbn07XG4iLCJ2YXIgaGFzID0gcmVxdWlyZSgnLi9faGFzJyk7XG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xudmFyIGFycmF5SW5kZXhPZiA9IHJlcXVpcmUoJy4vX2FycmF5LWluY2x1ZGVzJykoZmFsc2UpO1xudmFyIElFX1BST1RPID0gcmVxdWlyZSgnLi9fc2hhcmVkLWtleScpKCdJRV9QUk9UTycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvYmplY3QsIG5hbWVzKSB7XG4gIHZhciBPID0gdG9JT2JqZWN0KG9iamVjdCk7XG4gIHZhciBpID0gMDtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICB2YXIga2V5O1xuICBmb3IgKGtleSBpbiBPKSBpZiAoa2V5ICE9IElFX1BST1RPKSBoYXMoTywga2V5KSAmJiByZXN1bHQucHVzaChrZXkpO1xuICAvLyBEb24ndCBlbnVtIGJ1ZyAmIGhpZGRlbiBrZXlzXG4gIHdoaWxlIChuYW1lcy5sZW5ndGggPiBpKSBpZiAoaGFzKE8sIGtleSA9IG5hbWVzW2krK10pKSB7XG4gICAgfmFycmF5SW5kZXhPZihyZXN1bHQsIGtleSkgfHwgcmVzdWx0LnB1c2goa2V5KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcbiIsIi8vIDE5LjEuMi4xNCAvIDE1LjIuMy4xNCBPYmplY3Qua2V5cyhPKVxudmFyICRrZXlzID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMtaW50ZXJuYWwnKTtcbnZhciBlbnVtQnVnS2V5cyA9IHJlcXVpcmUoJy4vX2VudW0tYnVnLWtleXMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3Qua2V5cyB8fCBmdW5jdGlvbiBrZXlzKE8pIHtcbiAgcmV0dXJuICRrZXlzKE8sIGVudW1CdWdLZXlzKTtcbn07XG4iLCJleHBvcnRzLmYgPSB7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcbiIsIi8vIG1vc3QgT2JqZWN0IG1ldGhvZHMgYnkgRVM2IHNob3VsZCBhY2NlcHQgcHJpbWl0aXZlc1xudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbnZhciBjb3JlID0gcmVxdWlyZSgnLi9fY29yZScpO1xudmFyIGZhaWxzID0gcmVxdWlyZSgnLi9fZmFpbHMnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKEtFWSwgZXhlYykge1xuICB2YXIgZm4gPSAoY29yZS5PYmplY3QgfHwge30pW0tFWV0gfHwgT2JqZWN0W0tFWV07XG4gIHZhciBleHAgPSB7fTtcbiAgZXhwW0tFWV0gPSBleGVjKGZuKTtcbiAgJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiBmYWlscyhmdW5jdGlvbiAoKSB7IGZuKDEpOyB9KSwgJ09iamVjdCcsIGV4cCk7XG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZXhlYykge1xuICB0cnkge1xuICAgIHJldHVybiB7IGU6IGZhbHNlLCB2OiBleGVjKCkgfTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiB7IGU6IHRydWUsIHY6IGUgfTtcbiAgfVxufTtcbiIsInZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG52YXIgbmV3UHJvbWlzZUNhcGFiaWxpdHkgPSByZXF1aXJlKCcuL19uZXctcHJvbWlzZS1jYXBhYmlsaXR5Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKEMsIHgpIHtcbiAgYW5PYmplY3QoQyk7XG4gIGlmIChpc09iamVjdCh4KSAmJiB4LmNvbnN0cnVjdG9yID09PSBDKSByZXR1cm4geDtcbiAgdmFyIHByb21pc2VDYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkuZihDKTtcbiAgdmFyIHJlc29sdmUgPSBwcm9taXNlQ2FwYWJpbGl0eS5yZXNvbHZlO1xuICByZXNvbHZlKHgpO1xuICByZXR1cm4gcHJvbWlzZUNhcGFiaWxpdHkucHJvbWlzZTtcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChiaXRtYXAsIHZhbHVlKSB7XG4gIHJldHVybiB7XG4gICAgZW51bWVyYWJsZTogIShiaXRtYXAgJiAxKSxcbiAgICBjb25maWd1cmFibGU6ICEoYml0bWFwICYgMiksXG4gICAgd3JpdGFibGU6ICEoYml0bWFwICYgNCksXG4gICAgdmFsdWU6IHZhbHVlXG4gIH07XG59O1xuIiwidmFyIGhpZGUgPSByZXF1aXJlKCcuL19oaWRlJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh0YXJnZXQsIHNyYywgc2FmZSkge1xuICBmb3IgKHZhciBrZXkgaW4gc3JjKSB7XG4gICAgaWYgKHNhZmUgJiYgdGFyZ2V0W2tleV0pIHRhcmdldFtrZXldID0gc3JjW2tleV07XG4gICAgZWxzZSBoaWRlKHRhcmdldCwga2V5LCBzcmNba2V5XSk7XG4gIH0gcmV0dXJuIHRhcmdldDtcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2hpZGUnKTtcbiIsIi8vIFdvcmtzIHdpdGggX19wcm90b19fIG9ubHkuIE9sZCB2OCBjYW4ndCB3b3JrIHdpdGggbnVsbCBwcm90byBvYmplY3RzLlxuLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG8gKi9cbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG52YXIgY2hlY2sgPSBmdW5jdGlvbiAoTywgcHJvdG8pIHtcbiAgYW5PYmplY3QoTyk7XG4gIGlmICghaXNPYmplY3QocHJvdG8pICYmIHByb3RvICE9PSBudWxsKSB0aHJvdyBUeXBlRXJyb3IocHJvdG8gKyBcIjogY2FuJ3Qgc2V0IGFzIHByb3RvdHlwZSFcIik7XG59O1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHNldDogT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8ICgnX19wcm90b19fJyBpbiB7fSA/IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICBmdW5jdGlvbiAodGVzdCwgYnVnZ3ksIHNldCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgc2V0ID0gcmVxdWlyZSgnLi9fY3R4JykoRnVuY3Rpb24uY2FsbCwgcmVxdWlyZSgnLi9fb2JqZWN0LWdvcGQnKS5mKE9iamVjdC5wcm90b3R5cGUsICdfX3Byb3RvX18nKS5zZXQsIDIpO1xuICAgICAgICBzZXQodGVzdCwgW10pO1xuICAgICAgICBidWdneSA9ICEodGVzdCBpbnN0YW5jZW9mIEFycmF5KTtcbiAgICAgIH0gY2F0Y2ggKGUpIHsgYnVnZ3kgPSB0cnVlOyB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24gc2V0UHJvdG90eXBlT2YoTywgcHJvdG8pIHtcbiAgICAgICAgY2hlY2soTywgcHJvdG8pO1xuICAgICAgICBpZiAoYnVnZ3kpIE8uX19wcm90b19fID0gcHJvdG87XG4gICAgICAgIGVsc2Ugc2V0KE8sIHByb3RvKTtcbiAgICAgICAgcmV0dXJuIE87XG4gICAgICB9O1xuICAgIH0oe30sIGZhbHNlKSA6IHVuZGVmaW5lZCksXG4gIGNoZWNrOiBjaGVja1xufTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKTtcbnZhciBjb3JlID0gcmVxdWlyZSgnLi9fY29yZScpO1xudmFyIGRQID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJyk7XG52YXIgREVTQ1JJUFRPUlMgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpO1xudmFyIFNQRUNJRVMgPSByZXF1aXJlKCcuL193a3MnKSgnc3BlY2llcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChLRVkpIHtcbiAgdmFyIEMgPSB0eXBlb2YgY29yZVtLRVldID09ICdmdW5jdGlvbicgPyBjb3JlW0tFWV0gOiBnbG9iYWxbS0VZXTtcbiAgaWYgKERFU0NSSVBUT1JTICYmIEMgJiYgIUNbU1BFQ0lFU10pIGRQLmYoQywgU1BFQ0lFUywge1xuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH1cbiAgfSk7XG59O1xuIiwidmFyIGRlZiA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpLmY7XG52YXIgaGFzID0gcmVxdWlyZSgnLi9faGFzJyk7XG52YXIgVEFHID0gcmVxdWlyZSgnLi9fd2tzJykoJ3RvU3RyaW5nVGFnJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0LCB0YWcsIHN0YXQpIHtcbiAgaWYgKGl0ICYmICFoYXMoaXQgPSBzdGF0ID8gaXQgOiBpdC5wcm90b3R5cGUsIFRBRykpIGRlZihpdCwgVEFHLCB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgdmFsdWU6IHRhZyB9KTtcbn07XG4iLCJ2YXIgc2hhcmVkID0gcmVxdWlyZSgnLi9fc2hhcmVkJykoJ2tleXMnKTtcbnZhciB1aWQgPSByZXF1aXJlKCcuL191aWQnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGtleSkge1xuICByZXR1cm4gc2hhcmVkW2tleV0gfHwgKHNoYXJlZFtrZXldID0gdWlkKGtleSkpO1xufTtcbiIsInZhciBjb3JlID0gcmVxdWlyZSgnLi9fY29yZScpO1xudmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpO1xudmFyIFNIQVJFRCA9ICdfX2NvcmUtanNfc2hhcmVkX18nO1xudmFyIHN0b3JlID0gZ2xvYmFsW1NIQVJFRF0gfHwgKGdsb2JhbFtTSEFSRURdID0ge30pO1xuXG4obW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICByZXR1cm4gc3RvcmVba2V5XSB8fCAoc3RvcmVba2V5XSA9IHZhbHVlICE9PSB1bmRlZmluZWQgPyB2YWx1ZSA6IHt9KTtcbn0pKCd2ZXJzaW9ucycsIFtdKS5wdXNoKHtcbiAgdmVyc2lvbjogY29yZS52ZXJzaW9uLFxuICBtb2RlOiByZXF1aXJlKCcuL19saWJyYXJ5JykgPyAncHVyZScgOiAnZ2xvYmFsJyxcbiAgY29weXJpZ2h0OiAnwqkgMjAxOCBEZW5pcyBQdXNoa2FyZXYgKHpsb2lyb2NrLnJ1KSdcbn0pO1xuIiwiLy8gNy4zLjIwIFNwZWNpZXNDb25zdHJ1Y3RvcihPLCBkZWZhdWx0Q29uc3RydWN0b3IpXG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciBhRnVuY3Rpb24gPSByZXF1aXJlKCcuL19hLWZ1bmN0aW9uJyk7XG52YXIgU1BFQ0lFUyA9IHJlcXVpcmUoJy4vX3drcycpKCdzcGVjaWVzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChPLCBEKSB7XG4gIHZhciBDID0gYW5PYmplY3QoTykuY29uc3RydWN0b3I7XG4gIHZhciBTO1xuICByZXR1cm4gQyA9PT0gdW5kZWZpbmVkIHx8IChTID0gYW5PYmplY3QoQylbU1BFQ0lFU10pID09IHVuZGVmaW5lZCA/IEQgOiBhRnVuY3Rpb24oUyk7XG59O1xuIiwidmFyIHRvSW50ZWdlciA9IHJlcXVpcmUoJy4vX3RvLWludGVnZXInKTtcbnZhciBkZWZpbmVkID0gcmVxdWlyZSgnLi9fZGVmaW5lZCcpO1xuLy8gdHJ1ZSAgLT4gU3RyaW5nI2F0XG4vLyBmYWxzZSAtPiBTdHJpbmcjY29kZVBvaW50QXRcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKFRPX1NUUklORykge1xuICByZXR1cm4gZnVuY3Rpb24gKHRoYXQsIHBvcykge1xuICAgIHZhciBzID0gU3RyaW5nKGRlZmluZWQodGhhdCkpO1xuICAgIHZhciBpID0gdG9JbnRlZ2VyKHBvcyk7XG4gICAgdmFyIGwgPSBzLmxlbmd0aDtcbiAgICB2YXIgYSwgYjtcbiAgICBpZiAoaSA8IDAgfHwgaSA+PSBsKSByZXR1cm4gVE9fU1RSSU5HID8gJycgOiB1bmRlZmluZWQ7XG4gICAgYSA9IHMuY2hhckNvZGVBdChpKTtcbiAgICByZXR1cm4gYSA8IDB4ZDgwMCB8fCBhID4gMHhkYmZmIHx8IGkgKyAxID09PSBsIHx8IChiID0gcy5jaGFyQ29kZUF0KGkgKyAxKSkgPCAweGRjMDAgfHwgYiA+IDB4ZGZmZlxuICAgICAgPyBUT19TVFJJTkcgPyBzLmNoYXJBdChpKSA6IGFcbiAgICAgIDogVE9fU1RSSU5HID8gcy5zbGljZShpLCBpICsgMikgOiAoYSAtIDB4ZDgwMCA8PCAxMCkgKyAoYiAtIDB4ZGMwMCkgKyAweDEwMDAwO1xuICB9O1xufTtcbiIsInZhciBjdHggPSByZXF1aXJlKCcuL19jdHgnKTtcbnZhciBpbnZva2UgPSByZXF1aXJlKCcuL19pbnZva2UnKTtcbnZhciBodG1sID0gcmVxdWlyZSgnLi9faHRtbCcpO1xudmFyIGNlbCA9IHJlcXVpcmUoJy4vX2RvbS1jcmVhdGUnKTtcbnZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKTtcbnZhciBwcm9jZXNzID0gZ2xvYmFsLnByb2Nlc3M7XG52YXIgc2V0VGFzayA9IGdsb2JhbC5zZXRJbW1lZGlhdGU7XG52YXIgY2xlYXJUYXNrID0gZ2xvYmFsLmNsZWFySW1tZWRpYXRlO1xudmFyIE1lc3NhZ2VDaGFubmVsID0gZ2xvYmFsLk1lc3NhZ2VDaGFubmVsO1xudmFyIERpc3BhdGNoID0gZ2xvYmFsLkRpc3BhdGNoO1xudmFyIGNvdW50ZXIgPSAwO1xudmFyIHF1ZXVlID0ge307XG52YXIgT05SRUFEWVNUQVRFQ0hBTkdFID0gJ29ucmVhZHlzdGF0ZWNoYW5nZSc7XG52YXIgZGVmZXIsIGNoYW5uZWwsIHBvcnQ7XG52YXIgcnVuID0gZnVuY3Rpb24gKCkge1xuICB2YXIgaWQgPSArdGhpcztcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb3RvdHlwZS1idWlsdGluc1xuICBpZiAocXVldWUuaGFzT3duUHJvcGVydHkoaWQpKSB7XG4gICAgdmFyIGZuID0gcXVldWVbaWRdO1xuICAgIGRlbGV0ZSBxdWV1ZVtpZF07XG4gICAgZm4oKTtcbiAgfVxufTtcbnZhciBsaXN0ZW5lciA9IGZ1bmN0aW9uIChldmVudCkge1xuICBydW4uY2FsbChldmVudC5kYXRhKTtcbn07XG4vLyBOb2RlLmpzIDAuOSsgJiBJRTEwKyBoYXMgc2V0SW1tZWRpYXRlLCBvdGhlcndpc2U6XG5pZiAoIXNldFRhc2sgfHwgIWNsZWFyVGFzaykge1xuICBzZXRUYXNrID0gZnVuY3Rpb24gc2V0SW1tZWRpYXRlKGZuKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICB2YXIgaSA9IDE7XG4gICAgd2hpbGUgKGFyZ3VtZW50cy5sZW5ndGggPiBpKSBhcmdzLnB1c2goYXJndW1lbnRzW2krK10pO1xuICAgIHF1ZXVlWysrY291bnRlcl0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmV3LWZ1bmNcbiAgICAgIGludm9rZSh0eXBlb2YgZm4gPT0gJ2Z1bmN0aW9uJyA/IGZuIDogRnVuY3Rpb24oZm4pLCBhcmdzKTtcbiAgICB9O1xuICAgIGRlZmVyKGNvdW50ZXIpO1xuICAgIHJldHVybiBjb3VudGVyO1xuICB9O1xuICBjbGVhclRhc2sgPSBmdW5jdGlvbiBjbGVhckltbWVkaWF0ZShpZCkge1xuICAgIGRlbGV0ZSBxdWV1ZVtpZF07XG4gIH07XG4gIC8vIE5vZGUuanMgMC44LVxuICBpZiAocmVxdWlyZSgnLi9fY29mJykocHJvY2VzcykgPT0gJ3Byb2Nlc3MnKSB7XG4gICAgZGVmZXIgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgIHByb2Nlc3MubmV4dFRpY2soY3R4KHJ1biwgaWQsIDEpKTtcbiAgICB9O1xuICAvLyBTcGhlcmUgKEpTIGdhbWUgZW5naW5lKSBEaXNwYXRjaCBBUElcbiAgfSBlbHNlIGlmIChEaXNwYXRjaCAmJiBEaXNwYXRjaC5ub3cpIHtcbiAgICBkZWZlciA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgRGlzcGF0Y2gubm93KGN0eChydW4sIGlkLCAxKSk7XG4gICAgfTtcbiAgLy8gQnJvd3NlcnMgd2l0aCBNZXNzYWdlQ2hhbm5lbCwgaW5jbHVkZXMgV2ViV29ya2Vyc1xuICB9IGVsc2UgaWYgKE1lc3NhZ2VDaGFubmVsKSB7XG4gICAgY2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbCgpO1xuICAgIHBvcnQgPSBjaGFubmVsLnBvcnQyO1xuICAgIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gbGlzdGVuZXI7XG4gICAgZGVmZXIgPSBjdHgocG9ydC5wb3N0TWVzc2FnZSwgcG9ydCwgMSk7XG4gIC8vIEJyb3dzZXJzIHdpdGggcG9zdE1lc3NhZ2UsIHNraXAgV2ViV29ya2Vyc1xuICAvLyBJRTggaGFzIHBvc3RNZXNzYWdlLCBidXQgaXQncyBzeW5jICYgdHlwZW9mIGl0cyBwb3N0TWVzc2FnZSBpcyAnb2JqZWN0J1xuICB9IGVsc2UgaWYgKGdsb2JhbC5hZGRFdmVudExpc3RlbmVyICYmIHR5cGVvZiBwb3N0TWVzc2FnZSA9PSAnZnVuY3Rpb24nICYmICFnbG9iYWwuaW1wb3J0U2NyaXB0cykge1xuICAgIGRlZmVyID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICBnbG9iYWwucG9zdE1lc3NhZ2UoaWQgKyAnJywgJyonKTtcbiAgICB9O1xuICAgIGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgbGlzdGVuZXIsIGZhbHNlKTtcbiAgLy8gSUU4LVxuICB9IGVsc2UgaWYgKE9OUkVBRFlTVEFURUNIQU5HRSBpbiBjZWwoJ3NjcmlwdCcpKSB7XG4gICAgZGVmZXIgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgIGh0bWwuYXBwZW5kQ2hpbGQoY2VsKCdzY3JpcHQnKSlbT05SRUFEWVNUQVRFQ0hBTkdFXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaHRtbC5yZW1vdmVDaGlsZCh0aGlzKTtcbiAgICAgICAgcnVuLmNhbGwoaWQpO1xuICAgICAgfTtcbiAgICB9O1xuICAvLyBSZXN0IG9sZCBicm93c2Vyc1xuICB9IGVsc2Uge1xuICAgIGRlZmVyID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICBzZXRUaW1lb3V0KGN0eChydW4sIGlkLCAxKSwgMCk7XG4gICAgfTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHNldDogc2V0VGFzayxcbiAgY2xlYXI6IGNsZWFyVGFza1xufTtcbiIsInZhciB0b0ludGVnZXIgPSByZXF1aXJlKCcuL190by1pbnRlZ2VyJyk7XG52YXIgbWF4ID0gTWF0aC5tYXg7XG52YXIgbWluID0gTWF0aC5taW47XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpbmRleCwgbGVuZ3RoKSB7XG4gIGluZGV4ID0gdG9JbnRlZ2VyKGluZGV4KTtcbiAgcmV0dXJuIGluZGV4IDwgMCA/IG1heChpbmRleCArIGxlbmd0aCwgMCkgOiBtaW4oaW5kZXgsIGxlbmd0aCk7XG59O1xuIiwiLy8gNy4xLjQgVG9JbnRlZ2VyXG52YXIgY2VpbCA9IE1hdGguY2VpbDtcbnZhciBmbG9vciA9IE1hdGguZmxvb3I7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gaXNOYU4oaXQgPSAraXQpID8gMCA6IChpdCA+IDAgPyBmbG9vciA6IGNlaWwpKGl0KTtcbn07XG4iLCIvLyB0byBpbmRleGVkIG9iamVjdCwgdG9PYmplY3Qgd2l0aCBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIHN0cmluZ3NcbnZhciBJT2JqZWN0ID0gcmVxdWlyZSgnLi9faW9iamVjdCcpO1xudmFyIGRlZmluZWQgPSByZXF1aXJlKCcuL19kZWZpbmVkJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gSU9iamVjdChkZWZpbmVkKGl0KSk7XG59O1xuIiwiLy8gNy4xLjE1IFRvTGVuZ3RoXG52YXIgdG9JbnRlZ2VyID0gcmVxdWlyZSgnLi9fdG8taW50ZWdlcicpO1xudmFyIG1pbiA9IE1hdGgubWluO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGl0ID4gMCA/IG1pbih0b0ludGVnZXIoaXQpLCAweDFmZmZmZmZmZmZmZmZmKSA6IDA7IC8vIHBvdygyLCA1MykgLSAxID09IDkwMDcxOTkyNTQ3NDA5OTFcbn07XG4iLCIvLyA3LjEuMTMgVG9PYmplY3QoYXJndW1lbnQpXG52YXIgZGVmaW5lZCA9IHJlcXVpcmUoJy4vX2RlZmluZWQnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBPYmplY3QoZGVmaW5lZChpdCkpO1xufTtcbiIsIi8vIDcuMS4xIFRvUHJpbWl0aXZlKGlucHV0IFssIFByZWZlcnJlZFR5cGVdKVxudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG4vLyBpbnN0ZWFkIG9mIHRoZSBFUzYgc3BlYyB2ZXJzaW9uLCB3ZSBkaWRuJ3QgaW1wbGVtZW50IEBAdG9QcmltaXRpdmUgY2FzZVxuLy8gYW5kIHRoZSBzZWNvbmQgYXJndW1lbnQgLSBmbGFnIC0gcHJlZmVycmVkIHR5cGUgaXMgYSBzdHJpbmdcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0LCBTKSB7XG4gIGlmICghaXNPYmplY3QoaXQpKSByZXR1cm4gaXQ7XG4gIHZhciBmbiwgdmFsO1xuICBpZiAoUyAmJiB0eXBlb2YgKGZuID0gaXQudG9TdHJpbmcpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSkgcmV0dXJuIHZhbDtcbiAgaWYgKHR5cGVvZiAoZm4gPSBpdC52YWx1ZU9mKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpIHJldHVybiB2YWw7XG4gIGlmICghUyAmJiB0eXBlb2YgKGZuID0gaXQudG9TdHJpbmcpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSkgcmV0dXJuIHZhbDtcbiAgdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlXCIpO1xufTtcbiIsInZhciBpZCA9IDA7XG52YXIgcHggPSBNYXRoLnJhbmRvbSgpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHJldHVybiAnU3ltYm9sKCcuY29uY2F0KGtleSA9PT0gdW5kZWZpbmVkID8gJycgOiBrZXksICcpXycsICgrK2lkICsgcHgpLnRvU3RyaW5nKDM2KSk7XG59O1xuIiwidmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpO1xudmFyIG5hdmlnYXRvciA9IGdsb2JhbC5uYXZpZ2F0b3I7XG5cbm1vZHVsZS5leHBvcnRzID0gbmF2aWdhdG9yICYmIG5hdmlnYXRvci51c2VyQWdlbnQgfHwgJyc7XG4iLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgY29yZSA9IHJlcXVpcmUoJy4vX2NvcmUnKTtcbnZhciBMSUJSQVJZID0gcmVxdWlyZSgnLi9fbGlicmFyeScpO1xudmFyIHdrc0V4dCA9IHJlcXVpcmUoJy4vX3drcy1leHQnKTtcbnZhciBkZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpLmY7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gIHZhciAkU3ltYm9sID0gY29yZS5TeW1ib2wgfHwgKGNvcmUuU3ltYm9sID0gTElCUkFSWSA/IHt9IDogZ2xvYmFsLlN5bWJvbCB8fCB7fSk7XG4gIGlmIChuYW1lLmNoYXJBdCgwKSAhPSAnXycgJiYgIShuYW1lIGluICRTeW1ib2wpKSBkZWZpbmVQcm9wZXJ0eSgkU3ltYm9sLCBuYW1lLCB7IHZhbHVlOiB3a3NFeHQuZihuYW1lKSB9KTtcbn07XG4iLCJleHBvcnRzLmYgPSByZXF1aXJlKCcuL193a3MnKTtcbiIsInZhciBzdG9yZSA9IHJlcXVpcmUoJy4vX3NoYXJlZCcpKCd3a3MnKTtcbnZhciB1aWQgPSByZXF1aXJlKCcuL191aWQnKTtcbnZhciBTeW1ib2wgPSByZXF1aXJlKCcuL19nbG9iYWwnKS5TeW1ib2w7XG52YXIgVVNFX1NZTUJPTCA9IHR5cGVvZiBTeW1ib2wgPT0gJ2Z1bmN0aW9uJztcblxudmFyICRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobmFtZSkge1xuICByZXR1cm4gc3RvcmVbbmFtZV0gfHwgKHN0b3JlW25hbWVdID1cbiAgICBVU0VfU1lNQk9MICYmIFN5bWJvbFtuYW1lXSB8fCAoVVNFX1NZTUJPTCA/IFN5bWJvbCA6IHVpZCkoJ1N5bWJvbC4nICsgbmFtZSkpO1xufTtcblxuJGV4cG9ydHMuc3RvcmUgPSBzdG9yZTtcbiIsInZhciBjbGFzc29mID0gcmVxdWlyZSgnLi9fY2xhc3NvZicpO1xudmFyIElURVJBVE9SID0gcmVxdWlyZSgnLi9fd2tzJykoJ2l0ZXJhdG9yJyk7XG52YXIgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2NvcmUnKS5nZXRJdGVyYXRvck1ldGhvZCA9IGZ1bmN0aW9uIChpdCkge1xuICBpZiAoaXQgIT0gdW5kZWZpbmVkKSByZXR1cm4gaXRbSVRFUkFUT1JdXG4gICAgfHwgaXRbJ0BAaXRlcmF0b3InXVxuICAgIHx8IEl0ZXJhdG9yc1tjbGFzc29mKGl0KV07XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIGFkZFRvVW5zY29wYWJsZXMgPSByZXF1aXJlKCcuL19hZGQtdG8tdW5zY29wYWJsZXMnKTtcbnZhciBzdGVwID0gcmVxdWlyZSgnLi9faXRlci1zdGVwJyk7XG52YXIgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJyk7XG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xuXG4vLyAyMi4xLjMuNCBBcnJheS5wcm90b3R5cGUuZW50cmllcygpXG4vLyAyMi4xLjMuMTMgQXJyYXkucHJvdG90eXBlLmtleXMoKVxuLy8gMjIuMS4zLjI5IEFycmF5LnByb3RvdHlwZS52YWx1ZXMoKVxuLy8gMjIuMS4zLjMwIEFycmF5LnByb3RvdHlwZVtAQGl0ZXJhdG9yXSgpXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2l0ZXItZGVmaW5lJykoQXJyYXksICdBcnJheScsIGZ1bmN0aW9uIChpdGVyYXRlZCwga2luZCkge1xuICB0aGlzLl90ID0gdG9JT2JqZWN0KGl0ZXJhdGVkKTsgLy8gdGFyZ2V0XG4gIHRoaXMuX2kgPSAwOyAgICAgICAgICAgICAgICAgICAvLyBuZXh0IGluZGV4XG4gIHRoaXMuX2sgPSBraW5kOyAgICAgICAgICAgICAgICAvLyBraW5kXG4vLyAyMi4xLjUuMi4xICVBcnJheUl0ZXJhdG9yUHJvdG90eXBlJS5uZXh0KClcbn0sIGZ1bmN0aW9uICgpIHtcbiAgdmFyIE8gPSB0aGlzLl90O1xuICB2YXIga2luZCA9IHRoaXMuX2s7XG4gIHZhciBpbmRleCA9IHRoaXMuX2krKztcbiAgaWYgKCFPIHx8IGluZGV4ID49IE8ubGVuZ3RoKSB7XG4gICAgdGhpcy5fdCA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gc3RlcCgxKTtcbiAgfVxuICBpZiAoa2luZCA9PSAna2V5cycpIHJldHVybiBzdGVwKDAsIGluZGV4KTtcbiAgaWYgKGtpbmQgPT0gJ3ZhbHVlcycpIHJldHVybiBzdGVwKDAsIE9baW5kZXhdKTtcbiAgcmV0dXJuIHN0ZXAoMCwgW2luZGV4LCBPW2luZGV4XV0pO1xufSwgJ3ZhbHVlcycpO1xuXG4vLyBhcmd1bWVudHNMaXN0W0BAaXRlcmF0b3JdIGlzICVBcnJheVByb3RvX3ZhbHVlcyUgKDkuNC40LjYsIDkuNC40LjcpXG5JdGVyYXRvcnMuQXJndW1lbnRzID0gSXRlcmF0b3JzLkFycmF5O1xuXG5hZGRUb1Vuc2NvcGFibGVzKCdrZXlzJyk7XG5hZGRUb1Vuc2NvcGFibGVzKCd2YWx1ZXMnKTtcbmFkZFRvVW5zY29wYWJsZXMoJ2VudHJpZXMnKTtcbiIsIi8vIDE5LjEuMy4xIE9iamVjdC5hc3NpZ24odGFyZ2V0LCBzb3VyY2UpXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xuXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiwgJ09iamVjdCcsIHsgYXNzaWduOiByZXF1aXJlKCcuL19vYmplY3QtYXNzaWduJykgfSk7XG4iLCJ2YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xuLy8gMTkuMS4yLjIgLyAxNS4yLjMuNSBPYmplY3QuY3JlYXRlKE8gWywgUHJvcGVydGllc10pXG4kZXhwb3J0KCRleHBvcnQuUywgJ09iamVjdCcsIHsgY3JlYXRlOiByZXF1aXJlKCcuL19vYmplY3QtY3JlYXRlJykgfSk7XG4iLCJ2YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xuLy8gMTkuMS4yLjQgLyAxNS4yLjMuNiBPYmplY3QuZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcylcbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIXJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJyksICdPYmplY3QnLCB7IGRlZmluZVByb3BlcnR5OiByZXF1aXJlKCcuL19vYmplY3QtZHAnKS5mIH0pO1xuIiwiLy8gMTkuMS4yLjYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBQKVxudmFyIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKTtcbnZhciAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcGQnKS5mO1xuXG5yZXF1aXJlKCcuL19vYmplY3Qtc2FwJykoJ2dldE93blByb3BlcnR5RGVzY3JpcHRvcicsIGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihpdCwga2V5KSB7XG4gICAgcmV0dXJuICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodG9JT2JqZWN0KGl0KSwga2V5KTtcbiAgfTtcbn0pO1xuIiwiLy8gMTkuMS4yLjkgT2JqZWN0LmdldFByb3RvdHlwZU9mKE8pXG52YXIgdG9PYmplY3QgPSByZXF1aXJlKCcuL190by1vYmplY3QnKTtcbnZhciAkZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKCcuL19vYmplY3QtZ3BvJyk7XG5cbnJlcXVpcmUoJy4vX29iamVjdC1zYXAnKSgnZ2V0UHJvdG90eXBlT2YnLCBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBmdW5jdGlvbiBnZXRQcm90b3R5cGVPZihpdCkge1xuICAgIHJldHVybiAkZ2V0UHJvdG90eXBlT2YodG9PYmplY3QoaXQpKTtcbiAgfTtcbn0pO1xuIiwiLy8gMTkuMS4zLjE5IE9iamVjdC5zZXRQcm90b3R5cGVPZihPLCBwcm90bylcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG4kZXhwb3J0KCRleHBvcnQuUywgJ09iamVjdCcsIHsgc2V0UHJvdG90eXBlT2Y6IHJlcXVpcmUoJy4vX3NldC1wcm90bycpLnNldCB9KTtcbiIsIiIsIid1c2Ugc3RyaWN0JztcbnZhciBMSUJSQVJZID0gcmVxdWlyZSgnLi9fbGlicmFyeScpO1xudmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpO1xudmFyIGN0eCA9IHJlcXVpcmUoJy4vX2N0eCcpO1xudmFyIGNsYXNzb2YgPSByZXF1aXJlKCcuL19jbGFzc29mJyk7XG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG52YXIgYUZ1bmN0aW9uID0gcmVxdWlyZSgnLi9fYS1mdW5jdGlvbicpO1xudmFyIGFuSW5zdGFuY2UgPSByZXF1aXJlKCcuL19hbi1pbnN0YW5jZScpO1xudmFyIGZvck9mID0gcmVxdWlyZSgnLi9fZm9yLW9mJyk7XG52YXIgc3BlY2llc0NvbnN0cnVjdG9yID0gcmVxdWlyZSgnLi9fc3BlY2llcy1jb25zdHJ1Y3RvcicpO1xudmFyIHRhc2sgPSByZXF1aXJlKCcuL190YXNrJykuc2V0O1xudmFyIG1pY3JvdGFzayA9IHJlcXVpcmUoJy4vX21pY3JvdGFzaycpKCk7XG52YXIgbmV3UHJvbWlzZUNhcGFiaWxpdHlNb2R1bGUgPSByZXF1aXJlKCcuL19uZXctcHJvbWlzZS1jYXBhYmlsaXR5Jyk7XG52YXIgcGVyZm9ybSA9IHJlcXVpcmUoJy4vX3BlcmZvcm0nKTtcbnZhciB1c2VyQWdlbnQgPSByZXF1aXJlKCcuL191c2VyLWFnZW50Jyk7XG52YXIgcHJvbWlzZVJlc29sdmUgPSByZXF1aXJlKCcuL19wcm9taXNlLXJlc29sdmUnKTtcbnZhciBQUk9NSVNFID0gJ1Byb21pc2UnO1xudmFyIFR5cGVFcnJvciA9IGdsb2JhbC5UeXBlRXJyb3I7XG52YXIgcHJvY2VzcyA9IGdsb2JhbC5wcm9jZXNzO1xudmFyIHZlcnNpb25zID0gcHJvY2VzcyAmJiBwcm9jZXNzLnZlcnNpb25zO1xudmFyIHY4ID0gdmVyc2lvbnMgJiYgdmVyc2lvbnMudjggfHwgJyc7XG52YXIgJFByb21pc2UgPSBnbG9iYWxbUFJPTUlTRV07XG52YXIgaXNOb2RlID0gY2xhc3NvZihwcm9jZXNzKSA9PSAncHJvY2Vzcyc7XG52YXIgZW1wdHkgPSBmdW5jdGlvbiAoKSB7IC8qIGVtcHR5ICovIH07XG52YXIgSW50ZXJuYWwsIG5ld0dlbmVyaWNQcm9taXNlQ2FwYWJpbGl0eSwgT3duUHJvbWlzZUNhcGFiaWxpdHksIFdyYXBwZXI7XG52YXIgbmV3UHJvbWlzZUNhcGFiaWxpdHkgPSBuZXdHZW5lcmljUHJvbWlzZUNhcGFiaWxpdHkgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eU1vZHVsZS5mO1xuXG52YXIgVVNFX05BVElWRSA9ICEhZnVuY3Rpb24gKCkge1xuICB0cnkge1xuICAgIC8vIGNvcnJlY3Qgc3ViY2xhc3Npbmcgd2l0aCBAQHNwZWNpZXMgc3VwcG9ydFxuICAgIHZhciBwcm9taXNlID0gJFByb21pc2UucmVzb2x2ZSgxKTtcbiAgICB2YXIgRmFrZVByb21pc2UgPSAocHJvbWlzZS5jb25zdHJ1Y3RvciA9IHt9KVtyZXF1aXJlKCcuL193a3MnKSgnc3BlY2llcycpXSA9IGZ1bmN0aW9uIChleGVjKSB7XG4gICAgICBleGVjKGVtcHR5LCBlbXB0eSk7XG4gICAgfTtcbiAgICAvLyB1bmhhbmRsZWQgcmVqZWN0aW9ucyB0cmFja2luZyBzdXBwb3J0LCBOb2RlSlMgUHJvbWlzZSB3aXRob3V0IGl0IGZhaWxzIEBAc3BlY2llcyB0ZXN0XG4gICAgcmV0dXJuIChpc05vZGUgfHwgdHlwZW9mIFByb21pc2VSZWplY3Rpb25FdmVudCA9PSAnZnVuY3Rpb24nKVxuICAgICAgJiYgcHJvbWlzZS50aGVuKGVtcHR5KSBpbnN0YW5jZW9mIEZha2VQcm9taXNlXG4gICAgICAvLyB2OCA2LjYgKE5vZGUgMTAgYW5kIENocm9tZSA2NikgaGF2ZSBhIGJ1ZyB3aXRoIHJlc29sdmluZyBjdXN0b20gdGhlbmFibGVzXG4gICAgICAvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD04MzA1NjVcbiAgICAgIC8vIHdlIGNhbid0IGRldGVjdCBpdCBzeW5jaHJvbm91c2x5LCBzbyBqdXN0IGNoZWNrIHZlcnNpb25zXG4gICAgICAmJiB2OC5pbmRleE9mKCc2LjYnKSAhPT0gMFxuICAgICAgJiYgdXNlckFnZW50LmluZGV4T2YoJ0Nocm9tZS82NicpID09PSAtMTtcbiAgfSBjYXRjaCAoZSkgeyAvKiBlbXB0eSAqLyB9XG59KCk7XG5cbi8vIGhlbHBlcnNcbnZhciBpc1RoZW5hYmxlID0gZnVuY3Rpb24gKGl0KSB7XG4gIHZhciB0aGVuO1xuICByZXR1cm4gaXNPYmplY3QoaXQpICYmIHR5cGVvZiAodGhlbiA9IGl0LnRoZW4pID09ICdmdW5jdGlvbicgPyB0aGVuIDogZmFsc2U7XG59O1xudmFyIG5vdGlmeSA9IGZ1bmN0aW9uIChwcm9taXNlLCBpc1JlamVjdCkge1xuICBpZiAocHJvbWlzZS5fbikgcmV0dXJuO1xuICBwcm9taXNlLl9uID0gdHJ1ZTtcbiAgdmFyIGNoYWluID0gcHJvbWlzZS5fYztcbiAgbWljcm90YXNrKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdmFsdWUgPSBwcm9taXNlLl92O1xuICAgIHZhciBvayA9IHByb21pc2UuX3MgPT0gMTtcbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIHJ1biA9IGZ1bmN0aW9uIChyZWFjdGlvbikge1xuICAgICAgdmFyIGhhbmRsZXIgPSBvayA/IHJlYWN0aW9uLm9rIDogcmVhY3Rpb24uZmFpbDtcbiAgICAgIHZhciByZXNvbHZlID0gcmVhY3Rpb24ucmVzb2x2ZTtcbiAgICAgIHZhciByZWplY3QgPSByZWFjdGlvbi5yZWplY3Q7XG4gICAgICB2YXIgZG9tYWluID0gcmVhY3Rpb24uZG9tYWluO1xuICAgICAgdmFyIHJlc3VsdCwgdGhlbiwgZXhpdGVkO1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgICAgICBpZiAoIW9rKSB7XG4gICAgICAgICAgICBpZiAocHJvbWlzZS5faCA9PSAyKSBvbkhhbmRsZVVuaGFuZGxlZChwcm9taXNlKTtcbiAgICAgICAgICAgIHByb21pc2UuX2ggPSAxO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaGFuZGxlciA9PT0gdHJ1ZSkgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoZG9tYWluKSBkb21haW4uZW50ZXIoKTtcbiAgICAgICAgICAgIHJlc3VsdCA9IGhhbmRsZXIodmFsdWUpOyAvLyBtYXkgdGhyb3dcbiAgICAgICAgICAgIGlmIChkb21haW4pIHtcbiAgICAgICAgICAgICAgZG9tYWluLmV4aXQoKTtcbiAgICAgICAgICAgICAgZXhpdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHJlc3VsdCA9PT0gcmVhY3Rpb24ucHJvbWlzZSkge1xuICAgICAgICAgICAgcmVqZWN0KFR5cGVFcnJvcignUHJvbWlzZS1jaGFpbiBjeWNsZScpKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHRoZW4gPSBpc1RoZW5hYmxlKHJlc3VsdCkpIHtcbiAgICAgICAgICAgIHRoZW4uY2FsbChyZXN1bHQsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgfSBlbHNlIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfSBlbHNlIHJlamVjdCh2YWx1ZSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGlmIChkb21haW4gJiYgIWV4aXRlZCkgZG9tYWluLmV4aXQoKTtcbiAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgfVxuICAgIH07XG4gICAgd2hpbGUgKGNoYWluLmxlbmd0aCA+IGkpIHJ1bihjaGFpbltpKytdKTsgLy8gdmFyaWFibGUgbGVuZ3RoIC0gY2FuJ3QgdXNlIGZvckVhY2hcbiAgICBwcm9taXNlLl9jID0gW107XG4gICAgcHJvbWlzZS5fbiA9IGZhbHNlO1xuICAgIGlmIChpc1JlamVjdCAmJiAhcHJvbWlzZS5faCkgb25VbmhhbmRsZWQocHJvbWlzZSk7XG4gIH0pO1xufTtcbnZhciBvblVuaGFuZGxlZCA9IGZ1bmN0aW9uIChwcm9taXNlKSB7XG4gIHRhc2suY2FsbChnbG9iYWwsIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdmFsdWUgPSBwcm9taXNlLl92O1xuICAgIHZhciB1bmhhbmRsZWQgPSBpc1VuaGFuZGxlZChwcm9taXNlKTtcbiAgICB2YXIgcmVzdWx0LCBoYW5kbGVyLCBjb25zb2xlO1xuICAgIGlmICh1bmhhbmRsZWQpIHtcbiAgICAgIHJlc3VsdCA9IHBlcmZvcm0oZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoaXNOb2RlKSB7XG4gICAgICAgICAgcHJvY2Vzcy5lbWl0KCd1bmhhbmRsZWRSZWplY3Rpb24nLCB2YWx1ZSwgcHJvbWlzZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaGFuZGxlciA9IGdsb2JhbC5vbnVuaGFuZGxlZHJlamVjdGlvbikge1xuICAgICAgICAgIGhhbmRsZXIoeyBwcm9taXNlOiBwcm9taXNlLCByZWFzb246IHZhbHVlIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKChjb25zb2xlID0gZ2xvYmFsLmNvbnNvbGUpICYmIGNvbnNvbGUuZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdVbmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb24nLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgLy8gQnJvd3NlcnMgc2hvdWxkIG5vdCB0cmlnZ2VyIGByZWplY3Rpb25IYW5kbGVkYCBldmVudCBpZiBpdCB3YXMgaGFuZGxlZCBoZXJlLCBOb2RlSlMgLSBzaG91bGRcbiAgICAgIHByb21pc2UuX2ggPSBpc05vZGUgfHwgaXNVbmhhbmRsZWQocHJvbWlzZSkgPyAyIDogMTtcbiAgICB9IHByb21pc2UuX2EgPSB1bmRlZmluZWQ7XG4gICAgaWYgKHVuaGFuZGxlZCAmJiByZXN1bHQuZSkgdGhyb3cgcmVzdWx0LnY7XG4gIH0pO1xufTtcbnZhciBpc1VuaGFuZGxlZCA9IGZ1bmN0aW9uIChwcm9taXNlKSB7XG4gIHJldHVybiBwcm9taXNlLl9oICE9PSAxICYmIChwcm9taXNlLl9hIHx8IHByb21pc2UuX2MpLmxlbmd0aCA9PT0gMDtcbn07XG52YXIgb25IYW5kbGVVbmhhbmRsZWQgPSBmdW5jdGlvbiAocHJvbWlzZSkge1xuICB0YXNrLmNhbGwoZ2xvYmFsLCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGhhbmRsZXI7XG4gICAgaWYgKGlzTm9kZSkge1xuICAgICAgcHJvY2Vzcy5lbWl0KCdyZWplY3Rpb25IYW5kbGVkJywgcHJvbWlzZSk7XG4gICAgfSBlbHNlIGlmIChoYW5kbGVyID0gZ2xvYmFsLm9ucmVqZWN0aW9uaGFuZGxlZCkge1xuICAgICAgaGFuZGxlcih7IHByb21pc2U6IHByb21pc2UsIHJlYXNvbjogcHJvbWlzZS5fdiB9KTtcbiAgICB9XG4gIH0pO1xufTtcbnZhciAkcmVqZWN0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gIHZhciBwcm9taXNlID0gdGhpcztcbiAgaWYgKHByb21pc2UuX2QpIHJldHVybjtcbiAgcHJvbWlzZS5fZCA9IHRydWU7XG4gIHByb21pc2UgPSBwcm9taXNlLl93IHx8IHByb21pc2U7IC8vIHVud3JhcFxuICBwcm9taXNlLl92ID0gdmFsdWU7XG4gIHByb21pc2UuX3MgPSAyO1xuICBpZiAoIXByb21pc2UuX2EpIHByb21pc2UuX2EgPSBwcm9taXNlLl9jLnNsaWNlKCk7XG4gIG5vdGlmeShwcm9taXNlLCB0cnVlKTtcbn07XG52YXIgJHJlc29sdmUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgdmFyIHByb21pc2UgPSB0aGlzO1xuICB2YXIgdGhlbjtcbiAgaWYgKHByb21pc2UuX2QpIHJldHVybjtcbiAgcHJvbWlzZS5fZCA9IHRydWU7XG4gIHByb21pc2UgPSBwcm9taXNlLl93IHx8IHByb21pc2U7IC8vIHVud3JhcFxuICB0cnkge1xuICAgIGlmIChwcm9taXNlID09PSB2YWx1ZSkgdGhyb3cgVHlwZUVycm9yKFwiUHJvbWlzZSBjYW4ndCBiZSByZXNvbHZlZCBpdHNlbGZcIik7XG4gICAgaWYgKHRoZW4gPSBpc1RoZW5hYmxlKHZhbHVlKSkge1xuICAgICAgbWljcm90YXNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHdyYXBwZXIgPSB7IF93OiBwcm9taXNlLCBfZDogZmFsc2UgfTsgLy8gd3JhcFxuICAgICAgICB0cnkge1xuICAgICAgICAgIHRoZW4uY2FsbCh2YWx1ZSwgY3R4KCRyZXNvbHZlLCB3cmFwcGVyLCAxKSwgY3R4KCRyZWplY3QsIHdyYXBwZXIsIDEpKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICRyZWplY3QuY2FsbCh3cmFwcGVyLCBlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByb21pc2UuX3YgPSB2YWx1ZTtcbiAgICAgIHByb21pc2UuX3MgPSAxO1xuICAgICAgbm90aWZ5KHByb21pc2UsIGZhbHNlKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAkcmVqZWN0LmNhbGwoeyBfdzogcHJvbWlzZSwgX2Q6IGZhbHNlIH0sIGUpOyAvLyB3cmFwXG4gIH1cbn07XG5cbi8vIGNvbnN0cnVjdG9yIHBvbHlmaWxsXG5pZiAoIVVTRV9OQVRJVkUpIHtcbiAgLy8gMjUuNC4zLjEgUHJvbWlzZShleGVjdXRvcilcbiAgJFByb21pc2UgPSBmdW5jdGlvbiBQcm9taXNlKGV4ZWN1dG9yKSB7XG4gICAgYW5JbnN0YW5jZSh0aGlzLCAkUHJvbWlzZSwgUFJPTUlTRSwgJ19oJyk7XG4gICAgYUZ1bmN0aW9uKGV4ZWN1dG9yKTtcbiAgICBJbnRlcm5hbC5jYWxsKHRoaXMpO1xuICAgIHRyeSB7XG4gICAgICBleGVjdXRvcihjdHgoJHJlc29sdmUsIHRoaXMsIDEpLCBjdHgoJHJlamVjdCwgdGhpcywgMSkpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgJHJlamVjdC5jYWxsKHRoaXMsIGVycik7XG4gICAgfVxuICB9O1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgSW50ZXJuYWwgPSBmdW5jdGlvbiBQcm9taXNlKGV4ZWN1dG9yKSB7XG4gICAgdGhpcy5fYyA9IFtdOyAgICAgICAgICAgICAvLyA8LSBhd2FpdGluZyByZWFjdGlvbnNcbiAgICB0aGlzLl9hID0gdW5kZWZpbmVkOyAgICAgIC8vIDwtIGNoZWNrZWQgaW4gaXNVbmhhbmRsZWQgcmVhY3Rpb25zXG4gICAgdGhpcy5fcyA9IDA7ICAgICAgICAgICAgICAvLyA8LSBzdGF0ZVxuICAgIHRoaXMuX2QgPSBmYWxzZTsgICAgICAgICAgLy8gPC0gZG9uZVxuICAgIHRoaXMuX3YgPSB1bmRlZmluZWQ7ICAgICAgLy8gPC0gdmFsdWVcbiAgICB0aGlzLl9oID0gMDsgICAgICAgICAgICAgIC8vIDwtIHJlamVjdGlvbiBzdGF0ZSwgMCAtIGRlZmF1bHQsIDEgLSBoYW5kbGVkLCAyIC0gdW5oYW5kbGVkXG4gICAgdGhpcy5fbiA9IGZhbHNlOyAgICAgICAgICAvLyA8LSBub3RpZnlcbiAgfTtcbiAgSW50ZXJuYWwucHJvdG90eXBlID0gcmVxdWlyZSgnLi9fcmVkZWZpbmUtYWxsJykoJFByb21pc2UucHJvdG90eXBlLCB7XG4gICAgLy8gMjUuNC41LjMgUHJvbWlzZS5wcm90b3R5cGUudGhlbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZClcbiAgICB0aGVuOiBmdW5jdGlvbiB0aGVuKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKSB7XG4gICAgICB2YXIgcmVhY3Rpb24gPSBuZXdQcm9taXNlQ2FwYWJpbGl0eShzcGVjaWVzQ29uc3RydWN0b3IodGhpcywgJFByb21pc2UpKTtcbiAgICAgIHJlYWN0aW9uLm9rID0gdHlwZW9mIG9uRnVsZmlsbGVkID09ICdmdW5jdGlvbicgPyBvbkZ1bGZpbGxlZCA6IHRydWU7XG4gICAgICByZWFjdGlvbi5mYWlsID0gdHlwZW9mIG9uUmVqZWN0ZWQgPT0gJ2Z1bmN0aW9uJyAmJiBvblJlamVjdGVkO1xuICAgICAgcmVhY3Rpb24uZG9tYWluID0gaXNOb2RlID8gcHJvY2Vzcy5kb21haW4gOiB1bmRlZmluZWQ7XG4gICAgICB0aGlzLl9jLnB1c2gocmVhY3Rpb24pO1xuICAgICAgaWYgKHRoaXMuX2EpIHRoaXMuX2EucHVzaChyZWFjdGlvbik7XG4gICAgICBpZiAodGhpcy5fcykgbm90aWZ5KHRoaXMsIGZhbHNlKTtcbiAgICAgIHJldHVybiByZWFjdGlvbi5wcm9taXNlO1xuICAgIH0sXG4gICAgLy8gMjUuNC41LjEgUHJvbWlzZS5wcm90b3R5cGUuY2F0Y2gob25SZWplY3RlZClcbiAgICAnY2F0Y2gnOiBmdW5jdGlvbiAob25SZWplY3RlZCkge1xuICAgICAgcmV0dXJuIHRoaXMudGhlbih1bmRlZmluZWQsIG9uUmVqZWN0ZWQpO1xuICAgIH1cbiAgfSk7XG4gIE93blByb21pc2VDYXBhYmlsaXR5ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBwcm9taXNlID0gbmV3IEludGVybmFsKCk7XG4gICAgdGhpcy5wcm9taXNlID0gcHJvbWlzZTtcbiAgICB0aGlzLnJlc29sdmUgPSBjdHgoJHJlc29sdmUsIHByb21pc2UsIDEpO1xuICAgIHRoaXMucmVqZWN0ID0gY3R4KCRyZWplY3QsIHByb21pc2UsIDEpO1xuICB9O1xuICBuZXdQcm9taXNlQ2FwYWJpbGl0eU1vZHVsZS5mID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkgPSBmdW5jdGlvbiAoQykge1xuICAgIHJldHVybiBDID09PSAkUHJvbWlzZSB8fCBDID09PSBXcmFwcGVyXG4gICAgICA/IG5ldyBPd25Qcm9taXNlQ2FwYWJpbGl0eShDKVxuICAgICAgOiBuZXdHZW5lcmljUHJvbWlzZUNhcGFiaWxpdHkoQyk7XG4gIH07XG59XG5cbiRleHBvcnQoJGV4cG9ydC5HICsgJGV4cG9ydC5XICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsIHsgUHJvbWlzZTogJFByb21pc2UgfSk7XG5yZXF1aXJlKCcuL19zZXQtdG8tc3RyaW5nLXRhZycpKCRQcm9taXNlLCBQUk9NSVNFKTtcbnJlcXVpcmUoJy4vX3NldC1zcGVjaWVzJykoUFJPTUlTRSk7XG5XcmFwcGVyID0gcmVxdWlyZSgnLi9fY29yZScpW1BST01JU0VdO1xuXG4vLyBzdGF0aWNzXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICFVU0VfTkFUSVZFLCBQUk9NSVNFLCB7XG4gIC8vIDI1LjQuNC41IFByb21pc2UucmVqZWN0KHIpXG4gIHJlamVjdDogZnVuY3Rpb24gcmVqZWN0KHIpIHtcbiAgICB2YXIgY2FwYWJpbGl0eSA9IG5ld1Byb21pc2VDYXBhYmlsaXR5KHRoaXMpO1xuICAgIHZhciAkJHJlamVjdCA9IGNhcGFiaWxpdHkucmVqZWN0O1xuICAgICQkcmVqZWN0KHIpO1xuICAgIHJldHVybiBjYXBhYmlsaXR5LnByb21pc2U7XG4gIH1cbn0pO1xuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAoTElCUkFSWSB8fCAhVVNFX05BVElWRSksIFBST01JU0UsIHtcbiAgLy8gMjUuNC40LjYgUHJvbWlzZS5yZXNvbHZlKHgpXG4gIHJlc29sdmU6IGZ1bmN0aW9uIHJlc29sdmUoeCkge1xuICAgIHJldHVybiBwcm9taXNlUmVzb2x2ZShMSUJSQVJZICYmIHRoaXMgPT09IFdyYXBwZXIgPyAkUHJvbWlzZSA6IHRoaXMsIHgpO1xuICB9XG59KTtcbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIShVU0VfTkFUSVZFICYmIHJlcXVpcmUoJy4vX2l0ZXItZGV0ZWN0JykoZnVuY3Rpb24gKGl0ZXIpIHtcbiAgJFByb21pc2UuYWxsKGl0ZXIpWydjYXRjaCddKGVtcHR5KTtcbn0pKSwgUFJPTUlTRSwge1xuICAvLyAyNS40LjQuMSBQcm9taXNlLmFsbChpdGVyYWJsZSlcbiAgYWxsOiBmdW5jdGlvbiBhbGwoaXRlcmFibGUpIHtcbiAgICB2YXIgQyA9IHRoaXM7XG4gICAgdmFyIGNhcGFiaWxpdHkgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eShDKTtcbiAgICB2YXIgcmVzb2x2ZSA9IGNhcGFiaWxpdHkucmVzb2x2ZTtcbiAgICB2YXIgcmVqZWN0ID0gY2FwYWJpbGl0eS5yZWplY3Q7XG4gICAgdmFyIHJlc3VsdCA9IHBlcmZvcm0oZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHZhbHVlcyA9IFtdO1xuICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgIHZhciByZW1haW5pbmcgPSAxO1xuICAgICAgZm9yT2YoaXRlcmFibGUsIGZhbHNlLCBmdW5jdGlvbiAocHJvbWlzZSkge1xuICAgICAgICB2YXIgJGluZGV4ID0gaW5kZXgrKztcbiAgICAgICAgdmFyIGFscmVhZHlDYWxsZWQgPSBmYWxzZTtcbiAgICAgICAgdmFsdWVzLnB1c2godW5kZWZpbmVkKTtcbiAgICAgICAgcmVtYWluaW5nKys7XG4gICAgICAgIEMucmVzb2x2ZShwcm9taXNlKS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgIGlmIChhbHJlYWR5Q2FsbGVkKSByZXR1cm47XG4gICAgICAgICAgYWxyZWFkeUNhbGxlZCA9IHRydWU7XG4gICAgICAgICAgdmFsdWVzWyRpbmRleF0gPSB2YWx1ZTtcbiAgICAgICAgICAtLXJlbWFpbmluZyB8fCByZXNvbHZlKHZhbHVlcyk7XG4gICAgICAgIH0sIHJlamVjdCk7XG4gICAgICB9KTtcbiAgICAgIC0tcmVtYWluaW5nIHx8IHJlc29sdmUodmFsdWVzKTtcbiAgICB9KTtcbiAgICBpZiAocmVzdWx0LmUpIHJlamVjdChyZXN1bHQudik7XG4gICAgcmV0dXJuIGNhcGFiaWxpdHkucHJvbWlzZTtcbiAgfSxcbiAgLy8gMjUuNC40LjQgUHJvbWlzZS5yYWNlKGl0ZXJhYmxlKVxuICByYWNlOiBmdW5jdGlvbiByYWNlKGl0ZXJhYmxlKSB7XG4gICAgdmFyIEMgPSB0aGlzO1xuICAgIHZhciBjYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkoQyk7XG4gICAgdmFyIHJlamVjdCA9IGNhcGFiaWxpdHkucmVqZWN0O1xuICAgIHZhciByZXN1bHQgPSBwZXJmb3JtKGZ1bmN0aW9uICgpIHtcbiAgICAgIGZvck9mKGl0ZXJhYmxlLCBmYWxzZSwgZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgICAgICAgQy5yZXNvbHZlKHByb21pc2UpLnRoZW4oY2FwYWJpbGl0eS5yZXNvbHZlLCByZWplY3QpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgaWYgKHJlc3VsdC5lKSByZWplY3QocmVzdWx0LnYpO1xuICAgIHJldHVybiBjYXBhYmlsaXR5LnByb21pc2U7XG4gIH1cbn0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyICRhdCA9IHJlcXVpcmUoJy4vX3N0cmluZy1hdCcpKHRydWUpO1xuXG4vLyAyMS4xLjMuMjcgU3RyaW5nLnByb3RvdHlwZVtAQGl0ZXJhdG9yXSgpXG5yZXF1aXJlKCcuL19pdGVyLWRlZmluZScpKFN0cmluZywgJ1N0cmluZycsIGZ1bmN0aW9uIChpdGVyYXRlZCkge1xuICB0aGlzLl90ID0gU3RyaW5nKGl0ZXJhdGVkKTsgLy8gdGFyZ2V0XG4gIHRoaXMuX2kgPSAwOyAgICAgICAgICAgICAgICAvLyBuZXh0IGluZGV4XG4vLyAyMS4xLjUuMi4xICVTdHJpbmdJdGVyYXRvclByb3RvdHlwZSUubmV4dCgpXG59LCBmdW5jdGlvbiAoKSB7XG4gIHZhciBPID0gdGhpcy5fdDtcbiAgdmFyIGluZGV4ID0gdGhpcy5faTtcbiAgdmFyIHBvaW50O1xuICBpZiAoaW5kZXggPj0gTy5sZW5ndGgpIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbiAgcG9pbnQgPSAkYXQoTywgaW5kZXgpO1xuICB0aGlzLl9pICs9IHBvaW50Lmxlbmd0aDtcbiAgcmV0dXJuIHsgdmFsdWU6IHBvaW50LCBkb25lOiBmYWxzZSB9O1xufSk7XG4iLCIndXNlIHN0cmljdCc7XG4vLyBFQ01BU2NyaXB0IDYgc3ltYm9scyBzaGltXG52YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgaGFzID0gcmVxdWlyZSgnLi9faGFzJyk7XG52YXIgREVTQ1JJUFRPUlMgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpO1xudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbnZhciByZWRlZmluZSA9IHJlcXVpcmUoJy4vX3JlZGVmaW5lJyk7XG52YXIgTUVUQSA9IHJlcXVpcmUoJy4vX21ldGEnKS5LRVk7XG52YXIgJGZhaWxzID0gcmVxdWlyZSgnLi9fZmFpbHMnKTtcbnZhciBzaGFyZWQgPSByZXF1aXJlKCcuL19zaGFyZWQnKTtcbnZhciBzZXRUb1N0cmluZ1RhZyA9IHJlcXVpcmUoJy4vX3NldC10by1zdHJpbmctdGFnJyk7XG52YXIgdWlkID0gcmVxdWlyZSgnLi9fdWlkJyk7XG52YXIgd2tzID0gcmVxdWlyZSgnLi9fd2tzJyk7XG52YXIgd2tzRXh0ID0gcmVxdWlyZSgnLi9fd2tzLWV4dCcpO1xudmFyIHdrc0RlZmluZSA9IHJlcXVpcmUoJy4vX3drcy1kZWZpbmUnKTtcbnZhciBlbnVtS2V5cyA9IHJlcXVpcmUoJy4vX2VudW0ta2V5cycpO1xudmFyIGlzQXJyYXkgPSByZXF1aXJlKCcuL19pcy1hcnJheScpO1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbnZhciB0b0lPYmplY3QgPSByZXF1aXJlKCcuL190by1pb2JqZWN0Jyk7XG52YXIgdG9QcmltaXRpdmUgPSByZXF1aXJlKCcuL190by1wcmltaXRpdmUnKTtcbnZhciBjcmVhdGVEZXNjID0gcmVxdWlyZSgnLi9fcHJvcGVydHktZGVzYycpO1xudmFyIF9jcmVhdGUgPSByZXF1aXJlKCcuL19vYmplY3QtY3JlYXRlJyk7XG52YXIgZ09QTkV4dCA9IHJlcXVpcmUoJy4vX29iamVjdC1nb3BuLWV4dCcpO1xudmFyICRHT1BEID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcGQnKTtcbnZhciAkRFAgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKTtcbnZhciAka2V5cyA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzJyk7XG52YXIgZ09QRCA9ICRHT1BELmY7XG52YXIgZFAgPSAkRFAuZjtcbnZhciBnT1BOID0gZ09QTkV4dC5mO1xudmFyICRTeW1ib2wgPSBnbG9iYWwuU3ltYm9sO1xudmFyICRKU09OID0gZ2xvYmFsLkpTT047XG52YXIgX3N0cmluZ2lmeSA9ICRKU09OICYmICRKU09OLnN0cmluZ2lmeTtcbnZhciBQUk9UT1RZUEUgPSAncHJvdG90eXBlJztcbnZhciBISURERU4gPSB3a3MoJ19oaWRkZW4nKTtcbnZhciBUT19QUklNSVRJVkUgPSB3a3MoJ3RvUHJpbWl0aXZlJyk7XG52YXIgaXNFbnVtID0ge30ucHJvcGVydHlJc0VudW1lcmFibGU7XG52YXIgU3ltYm9sUmVnaXN0cnkgPSBzaGFyZWQoJ3N5bWJvbC1yZWdpc3RyeScpO1xudmFyIEFsbFN5bWJvbHMgPSBzaGFyZWQoJ3N5bWJvbHMnKTtcbnZhciBPUFN5bWJvbHMgPSBzaGFyZWQoJ29wLXN5bWJvbHMnKTtcbnZhciBPYmplY3RQcm90byA9IE9iamVjdFtQUk9UT1RZUEVdO1xudmFyIFVTRV9OQVRJVkUgPSB0eXBlb2YgJFN5bWJvbCA9PSAnZnVuY3Rpb24nO1xudmFyIFFPYmplY3QgPSBnbG9iYWwuUU9iamVjdDtcbi8vIERvbid0IHVzZSBzZXR0ZXJzIGluIFF0IFNjcmlwdCwgaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzE3M1xudmFyIHNldHRlciA9ICFRT2JqZWN0IHx8ICFRT2JqZWN0W1BST1RPVFlQRV0gfHwgIVFPYmplY3RbUFJPVE9UWVBFXS5maW5kQ2hpbGQ7XG5cbi8vIGZhbGxiYWNrIGZvciBvbGQgQW5kcm9pZCwgaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTY4N1xudmFyIHNldFN5bWJvbERlc2MgPSBERVNDUklQVE9SUyAmJiAkZmFpbHMoZnVuY3Rpb24gKCkge1xuICByZXR1cm4gX2NyZWF0ZShkUCh7fSwgJ2EnLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBkUCh0aGlzLCAnYScsIHsgdmFsdWU6IDcgfSkuYTsgfVxuICB9KSkuYSAhPSA3O1xufSkgPyBmdW5jdGlvbiAoaXQsIGtleSwgRCkge1xuICB2YXIgcHJvdG9EZXNjID0gZ09QRChPYmplY3RQcm90bywga2V5KTtcbiAgaWYgKHByb3RvRGVzYykgZGVsZXRlIE9iamVjdFByb3RvW2tleV07XG4gIGRQKGl0LCBrZXksIEQpO1xuICBpZiAocHJvdG9EZXNjICYmIGl0ICE9PSBPYmplY3RQcm90bykgZFAoT2JqZWN0UHJvdG8sIGtleSwgcHJvdG9EZXNjKTtcbn0gOiBkUDtcblxudmFyIHdyYXAgPSBmdW5jdGlvbiAodGFnKSB7XG4gIHZhciBzeW0gPSBBbGxTeW1ib2xzW3RhZ10gPSBfY3JlYXRlKCRTeW1ib2xbUFJPVE9UWVBFXSk7XG4gIHN5bS5fayA9IHRhZztcbiAgcmV0dXJuIHN5bTtcbn07XG5cbnZhciBpc1N5bWJvbCA9IFVTRV9OQVRJVkUgJiYgdHlwZW9mICRTeW1ib2wuaXRlcmF0b3IgPT0gJ3N5bWJvbCcgPyBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIHR5cGVvZiBpdCA9PSAnc3ltYm9sJztcbn0gOiBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGl0IGluc3RhbmNlb2YgJFN5bWJvbDtcbn07XG5cbnZhciAkZGVmaW5lUHJvcGVydHkgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShpdCwga2V5LCBEKSB7XG4gIGlmIChpdCA9PT0gT2JqZWN0UHJvdG8pICRkZWZpbmVQcm9wZXJ0eShPUFN5bWJvbHMsIGtleSwgRCk7XG4gIGFuT2JqZWN0KGl0KTtcbiAga2V5ID0gdG9QcmltaXRpdmUoa2V5LCB0cnVlKTtcbiAgYW5PYmplY3QoRCk7XG4gIGlmIChoYXMoQWxsU3ltYm9scywga2V5KSkge1xuICAgIGlmICghRC5lbnVtZXJhYmxlKSB7XG4gICAgICBpZiAoIWhhcyhpdCwgSElEREVOKSkgZFAoaXQsIEhJRERFTiwgY3JlYXRlRGVzYygxLCB7fSkpO1xuICAgICAgaXRbSElEREVOXVtrZXldID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGhhcyhpdCwgSElEREVOKSAmJiBpdFtISURERU5dW2tleV0pIGl0W0hJRERFTl1ba2V5XSA9IGZhbHNlO1xuICAgICAgRCA9IF9jcmVhdGUoRCwgeyBlbnVtZXJhYmxlOiBjcmVhdGVEZXNjKDAsIGZhbHNlKSB9KTtcbiAgICB9IHJldHVybiBzZXRTeW1ib2xEZXNjKGl0LCBrZXksIEQpO1xuICB9IHJldHVybiBkUChpdCwga2V5LCBEKTtcbn07XG52YXIgJGRlZmluZVByb3BlcnRpZXMgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKGl0LCBQKSB7XG4gIGFuT2JqZWN0KGl0KTtcbiAgdmFyIGtleXMgPSBlbnVtS2V5cyhQID0gdG9JT2JqZWN0KFApKTtcbiAgdmFyIGkgPSAwO1xuICB2YXIgbCA9IGtleXMubGVuZ3RoO1xuICB2YXIga2V5O1xuICB3aGlsZSAobCA+IGkpICRkZWZpbmVQcm9wZXJ0eShpdCwga2V5ID0ga2V5c1tpKytdLCBQW2tleV0pO1xuICByZXR1cm4gaXQ7XG59O1xudmFyICRjcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUoaXQsIFApIHtcbiAgcmV0dXJuIFAgPT09IHVuZGVmaW5lZCA/IF9jcmVhdGUoaXQpIDogJGRlZmluZVByb3BlcnRpZXMoX2NyZWF0ZShpdCksIFApO1xufTtcbnZhciAkcHJvcGVydHlJc0VudW1lcmFibGUgPSBmdW5jdGlvbiBwcm9wZXJ0eUlzRW51bWVyYWJsZShrZXkpIHtcbiAgdmFyIEUgPSBpc0VudW0uY2FsbCh0aGlzLCBrZXkgPSB0b1ByaW1pdGl2ZShrZXksIHRydWUpKTtcbiAgaWYgKHRoaXMgPT09IE9iamVjdFByb3RvICYmIGhhcyhBbGxTeW1ib2xzLCBrZXkpICYmICFoYXMoT1BTeW1ib2xzLCBrZXkpKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiBFIHx8ICFoYXModGhpcywga2V5KSB8fCAhaGFzKEFsbFN5bWJvbHMsIGtleSkgfHwgaGFzKHRoaXMsIEhJRERFTikgJiYgdGhpc1tISURERU5dW2tleV0gPyBFIDogdHJ1ZTtcbn07XG52YXIgJGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihpdCwga2V5KSB7XG4gIGl0ID0gdG9JT2JqZWN0KGl0KTtcbiAga2V5ID0gdG9QcmltaXRpdmUoa2V5LCB0cnVlKTtcbiAgaWYgKGl0ID09PSBPYmplY3RQcm90byAmJiBoYXMoQWxsU3ltYm9scywga2V5KSAmJiAhaGFzKE9QU3ltYm9scywga2V5KSkgcmV0dXJuO1xuICB2YXIgRCA9IGdPUEQoaXQsIGtleSk7XG4gIGlmIChEICYmIGhhcyhBbGxTeW1ib2xzLCBrZXkpICYmICEoaGFzKGl0LCBISURERU4pICYmIGl0W0hJRERFTl1ba2V5XSkpIEQuZW51bWVyYWJsZSA9IHRydWU7XG4gIHJldHVybiBEO1xufTtcbnZhciAkZ2V0T3duUHJvcGVydHlOYW1lcyA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5TmFtZXMoaXQpIHtcbiAgdmFyIG5hbWVzID0gZ09QTih0b0lPYmplY3QoaXQpKTtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICB2YXIgaSA9IDA7XG4gIHZhciBrZXk7XG4gIHdoaWxlIChuYW1lcy5sZW5ndGggPiBpKSB7XG4gICAgaWYgKCFoYXMoQWxsU3ltYm9scywga2V5ID0gbmFtZXNbaSsrXSkgJiYga2V5ICE9IEhJRERFTiAmJiBrZXkgIT0gTUVUQSkgcmVzdWx0LnB1c2goa2V5KTtcbiAgfSByZXR1cm4gcmVzdWx0O1xufTtcbnZhciAkZ2V0T3duUHJvcGVydHlTeW1ib2xzID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlTeW1ib2xzKGl0KSB7XG4gIHZhciBJU19PUCA9IGl0ID09PSBPYmplY3RQcm90bztcbiAgdmFyIG5hbWVzID0gZ09QTihJU19PUCA/IE9QU3ltYm9scyA6IHRvSU9iamVjdChpdCkpO1xuICB2YXIgcmVzdWx0ID0gW107XG4gIHZhciBpID0gMDtcbiAgdmFyIGtleTtcbiAgd2hpbGUgKG5hbWVzLmxlbmd0aCA+IGkpIHtcbiAgICBpZiAoaGFzKEFsbFN5bWJvbHMsIGtleSA9IG5hbWVzW2krK10pICYmIChJU19PUCA/IGhhcyhPYmplY3RQcm90bywga2V5KSA6IHRydWUpKSByZXN1bHQucHVzaChBbGxTeW1ib2xzW2tleV0pO1xuICB9IHJldHVybiByZXN1bHQ7XG59O1xuXG4vLyAxOS40LjEuMSBTeW1ib2woW2Rlc2NyaXB0aW9uXSlcbmlmICghVVNFX05BVElWRSkge1xuICAkU3ltYm9sID0gZnVuY3Rpb24gU3ltYm9sKCkge1xuICAgIGlmICh0aGlzIGluc3RhbmNlb2YgJFN5bWJvbCkgdGhyb3cgVHlwZUVycm9yKCdTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3IhJyk7XG4gICAgdmFyIHRhZyA9IHVpZChhcmd1bWVudHMubGVuZ3RoID4gMCA/IGFyZ3VtZW50c1swXSA6IHVuZGVmaW5lZCk7XG4gICAgdmFyICRzZXQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIGlmICh0aGlzID09PSBPYmplY3RQcm90bykgJHNldC5jYWxsKE9QU3ltYm9scywgdmFsdWUpO1xuICAgICAgaWYgKGhhcyh0aGlzLCBISURERU4pICYmIGhhcyh0aGlzW0hJRERFTl0sIHRhZykpIHRoaXNbSElEREVOXVt0YWddID0gZmFsc2U7XG4gICAgICBzZXRTeW1ib2xEZXNjKHRoaXMsIHRhZywgY3JlYXRlRGVzYygxLCB2YWx1ZSkpO1xuICAgIH07XG4gICAgaWYgKERFU0NSSVBUT1JTICYmIHNldHRlcikgc2V0U3ltYm9sRGVzYyhPYmplY3RQcm90bywgdGFnLCB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgc2V0OiAkc2V0IH0pO1xuICAgIHJldHVybiB3cmFwKHRhZyk7XG4gIH07XG4gIHJlZGVmaW5lKCRTeW1ib2xbUFJPVE9UWVBFXSwgJ3RvU3RyaW5nJywgZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2s7XG4gIH0pO1xuXG4gICRHT1BELmYgPSAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuICAkRFAuZiA9ICRkZWZpbmVQcm9wZXJ0eTtcbiAgcmVxdWlyZSgnLi9fb2JqZWN0LWdvcG4nKS5mID0gZ09QTkV4dC5mID0gJGdldE93blByb3BlcnR5TmFtZXM7XG4gIHJlcXVpcmUoJy4vX29iamVjdC1waWUnKS5mID0gJHByb3BlcnR5SXNFbnVtZXJhYmxlO1xuICByZXF1aXJlKCcuL19vYmplY3QtZ29wcycpLmYgPSAkZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xuXG4gIGlmIChERVNDUklQVE9SUyAmJiAhcmVxdWlyZSgnLi9fbGlicmFyeScpKSB7XG4gICAgcmVkZWZpbmUoT2JqZWN0UHJvdG8sICdwcm9wZXJ0eUlzRW51bWVyYWJsZScsICRwcm9wZXJ0eUlzRW51bWVyYWJsZSwgdHJ1ZSk7XG4gIH1cblxuICB3a3NFeHQuZiA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgcmV0dXJuIHdyYXAod2tzKG5hbWUpKTtcbiAgfTtcbn1cblxuJGV4cG9ydCgkZXhwb3J0LkcgKyAkZXhwb3J0LlcgKyAkZXhwb3J0LkYgKiAhVVNFX05BVElWRSwgeyBTeW1ib2w6ICRTeW1ib2wgfSk7XG5cbmZvciAodmFyIGVzNlN5bWJvbHMgPSAoXG4gIC8vIDE5LjQuMi4yLCAxOS40LjIuMywgMTkuNC4yLjQsIDE5LjQuMi42LCAxOS40LjIuOCwgMTkuNC4yLjksIDE5LjQuMi4xMCwgMTkuNC4yLjExLCAxOS40LjIuMTIsIDE5LjQuMi4xMywgMTkuNC4yLjE0XG4gICdoYXNJbnN0YW5jZSxpc0NvbmNhdFNwcmVhZGFibGUsaXRlcmF0b3IsbWF0Y2gscmVwbGFjZSxzZWFyY2gsc3BlY2llcyxzcGxpdCx0b1ByaW1pdGl2ZSx0b1N0cmluZ1RhZyx1bnNjb3BhYmxlcydcbikuc3BsaXQoJywnKSwgaiA9IDA7IGVzNlN5bWJvbHMubGVuZ3RoID4gajspd2tzKGVzNlN5bWJvbHNbaisrXSk7XG5cbmZvciAodmFyIHdlbGxLbm93blN5bWJvbHMgPSAka2V5cyh3a3Muc3RvcmUpLCBrID0gMDsgd2VsbEtub3duU3ltYm9scy5sZW5ndGggPiBrOykgd2tzRGVmaW5lKHdlbGxLbm93blN5bWJvbHNbaysrXSk7XG5cbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsICdTeW1ib2wnLCB7XG4gIC8vIDE5LjQuMi4xIFN5bWJvbC5mb3Ioa2V5KVxuICAnZm9yJzogZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiBoYXMoU3ltYm9sUmVnaXN0cnksIGtleSArPSAnJylcbiAgICAgID8gU3ltYm9sUmVnaXN0cnlba2V5XVxuICAgICAgOiBTeW1ib2xSZWdpc3RyeVtrZXldID0gJFN5bWJvbChrZXkpO1xuICB9LFxuICAvLyAxOS40LjIuNSBTeW1ib2wua2V5Rm9yKHN5bSlcbiAga2V5Rm9yOiBmdW5jdGlvbiBrZXlGb3Ioc3ltKSB7XG4gICAgaWYgKCFpc1N5bWJvbChzeW0pKSB0aHJvdyBUeXBlRXJyb3Ioc3ltICsgJyBpcyBub3QgYSBzeW1ib2whJyk7XG4gICAgZm9yICh2YXIga2V5IGluIFN5bWJvbFJlZ2lzdHJ5KSBpZiAoU3ltYm9sUmVnaXN0cnlba2V5XSA9PT0gc3ltKSByZXR1cm4ga2V5O1xuICB9LFxuICB1c2VTZXR0ZXI6IGZ1bmN0aW9uICgpIHsgc2V0dGVyID0gdHJ1ZTsgfSxcbiAgdXNlU2ltcGxlOiBmdW5jdGlvbiAoKSB7IHNldHRlciA9IGZhbHNlOyB9XG59KTtcblxuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhVVNFX05BVElWRSwgJ09iamVjdCcsIHtcbiAgLy8gMTkuMS4yLjIgT2JqZWN0LmNyZWF0ZShPIFssIFByb3BlcnRpZXNdKVxuICBjcmVhdGU6ICRjcmVhdGUsXG4gIC8vIDE5LjEuMi40IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKVxuICBkZWZpbmVQcm9wZXJ0eTogJGRlZmluZVByb3BlcnR5LFxuICAvLyAxOS4xLjIuMyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhPLCBQcm9wZXJ0aWVzKVxuICBkZWZpbmVQcm9wZXJ0aWVzOiAkZGVmaW5lUHJvcGVydGllcyxcbiAgLy8gMTkuMS4yLjYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBQKVxuICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6ICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsXG4gIC8vIDE5LjEuMi43IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE8pXG4gIGdldE93blByb3BlcnR5TmFtZXM6ICRnZXRPd25Qcm9wZXJ0eU5hbWVzLFxuICAvLyAxOS4xLjIuOCBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKE8pXG4gIGdldE93blByb3BlcnR5U3ltYm9sczogJGdldE93blByb3BlcnR5U3ltYm9sc1xufSk7XG5cbi8vIDI0LjMuMiBKU09OLnN0cmluZ2lmeSh2YWx1ZSBbLCByZXBsYWNlciBbLCBzcGFjZV1dKVxuJEpTT04gJiYgJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAoIVVTRV9OQVRJVkUgfHwgJGZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgdmFyIFMgPSAkU3ltYm9sKCk7XG4gIC8vIE1TIEVkZ2UgY29udmVydHMgc3ltYm9sIHZhbHVlcyB0byBKU09OIGFzIHt9XG4gIC8vIFdlYktpdCBjb252ZXJ0cyBzeW1ib2wgdmFsdWVzIHRvIEpTT04gYXMgbnVsbFxuICAvLyBWOCB0aHJvd3Mgb24gYm94ZWQgc3ltYm9sc1xuICByZXR1cm4gX3N0cmluZ2lmeShbU10pICE9ICdbbnVsbF0nIHx8IF9zdHJpbmdpZnkoeyBhOiBTIH0pICE9ICd7fScgfHwgX3N0cmluZ2lmeShPYmplY3QoUykpICE9ICd7fSc7XG59KSksICdKU09OJywge1xuICBzdHJpbmdpZnk6IGZ1bmN0aW9uIHN0cmluZ2lmeShpdCkge1xuICAgIHZhciBhcmdzID0gW2l0XTtcbiAgICB2YXIgaSA9IDE7XG4gICAgdmFyIHJlcGxhY2VyLCAkcmVwbGFjZXI7XG4gICAgd2hpbGUgKGFyZ3VtZW50cy5sZW5ndGggPiBpKSBhcmdzLnB1c2goYXJndW1lbnRzW2krK10pO1xuICAgICRyZXBsYWNlciA9IHJlcGxhY2VyID0gYXJnc1sxXTtcbiAgICBpZiAoIWlzT2JqZWN0KHJlcGxhY2VyKSAmJiBpdCA9PT0gdW5kZWZpbmVkIHx8IGlzU3ltYm9sKGl0KSkgcmV0dXJuOyAvLyBJRTggcmV0dXJucyBzdHJpbmcgb24gdW5kZWZpbmVkXG4gICAgaWYgKCFpc0FycmF5KHJlcGxhY2VyKSkgcmVwbGFjZXIgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgaWYgKHR5cGVvZiAkcmVwbGFjZXIgPT0gJ2Z1bmN0aW9uJykgdmFsdWUgPSAkcmVwbGFjZXIuY2FsbCh0aGlzLCBrZXksIHZhbHVlKTtcbiAgICAgIGlmICghaXNTeW1ib2wodmFsdWUpKSByZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgICBhcmdzWzFdID0gcmVwbGFjZXI7XG4gICAgcmV0dXJuIF9zdHJpbmdpZnkuYXBwbHkoJEpTT04sIGFyZ3MpO1xuICB9XG59KTtcblxuLy8gMTkuNC4zLjQgU3ltYm9sLnByb3RvdHlwZVtAQHRvUHJpbWl0aXZlXShoaW50KVxuJFN5bWJvbFtQUk9UT1RZUEVdW1RPX1BSSU1JVElWRV0gfHwgcmVxdWlyZSgnLi9faGlkZScpKCRTeW1ib2xbUFJPVE9UWVBFXSwgVE9fUFJJTUlUSVZFLCAkU3ltYm9sW1BST1RPVFlQRV0udmFsdWVPZik7XG4vLyAxOS40LjMuNSBTeW1ib2wucHJvdG90eXBlW0BAdG9TdHJpbmdUYWddXG5zZXRUb1N0cmluZ1RhZygkU3ltYm9sLCAnU3ltYm9sJyk7XG4vLyAyMC4yLjEuOSBNYXRoW0BAdG9TdHJpbmdUYWddXG5zZXRUb1N0cmluZ1RhZyhNYXRoLCAnTWF0aCcsIHRydWUpO1xuLy8gMjQuMy4zIEpTT05bQEB0b1N0cmluZ1RhZ11cbnNldFRvU3RyaW5nVGFnKGdsb2JhbC5KU09OLCAnSlNPTicsIHRydWUpO1xuIiwiLy8gaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtcHJvbWlzZS1maW5hbGx5XG4ndXNlIHN0cmljdCc7XG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xudmFyIGNvcmUgPSByZXF1aXJlKCcuL19jb3JlJyk7XG52YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgc3BlY2llc0NvbnN0cnVjdG9yID0gcmVxdWlyZSgnLi9fc3BlY2llcy1jb25zdHJ1Y3RvcicpO1xudmFyIHByb21pc2VSZXNvbHZlID0gcmVxdWlyZSgnLi9fcHJvbWlzZS1yZXNvbHZlJyk7XG5cbiRleHBvcnQoJGV4cG9ydC5QICsgJGV4cG9ydC5SLCAnUHJvbWlzZScsIHsgJ2ZpbmFsbHknOiBmdW5jdGlvbiAob25GaW5hbGx5KSB7XG4gIHZhciBDID0gc3BlY2llc0NvbnN0cnVjdG9yKHRoaXMsIGNvcmUuUHJvbWlzZSB8fCBnbG9iYWwuUHJvbWlzZSk7XG4gIHZhciBpc0Z1bmN0aW9uID0gdHlwZW9mIG9uRmluYWxseSA9PSAnZnVuY3Rpb24nO1xuICByZXR1cm4gdGhpcy50aGVuKFxuICAgIGlzRnVuY3Rpb24gPyBmdW5jdGlvbiAoeCkge1xuICAgICAgcmV0dXJuIHByb21pc2VSZXNvbHZlKEMsIG9uRmluYWxseSgpKS50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHg7IH0pO1xuICAgIH0gOiBvbkZpbmFsbHksXG4gICAgaXNGdW5jdGlvbiA/IGZ1bmN0aW9uIChlKSB7XG4gICAgICByZXR1cm4gcHJvbWlzZVJlc29sdmUoQywgb25GaW5hbGx5KCkpLnRoZW4oZnVuY3Rpb24gKCkgeyB0aHJvdyBlOyB9KTtcbiAgICB9IDogb25GaW5hbGx5XG4gICk7XG59IH0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtcHJvbWlzZS10cnlcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG52YXIgbmV3UHJvbWlzZUNhcGFiaWxpdHkgPSByZXF1aXJlKCcuL19uZXctcHJvbWlzZS1jYXBhYmlsaXR5Jyk7XG52YXIgcGVyZm9ybSA9IHJlcXVpcmUoJy4vX3BlcmZvcm0nKTtcblxuJGV4cG9ydCgkZXhwb3J0LlMsICdQcm9taXNlJywgeyAndHJ5JzogZnVuY3Rpb24gKGNhbGxiYWNrZm4pIHtcbiAgdmFyIHByb21pc2VDYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkuZih0aGlzKTtcbiAgdmFyIHJlc3VsdCA9IHBlcmZvcm0oY2FsbGJhY2tmbik7XG4gIChyZXN1bHQuZSA/IHByb21pc2VDYXBhYmlsaXR5LnJlamVjdCA6IHByb21pc2VDYXBhYmlsaXR5LnJlc29sdmUpKHJlc3VsdC52KTtcbiAgcmV0dXJuIHByb21pc2VDYXBhYmlsaXR5LnByb21pc2U7XG59IH0pO1xuIiwicmVxdWlyZSgnLi9fd2tzLWRlZmluZScpKCdhc3luY0l0ZXJhdG9yJyk7XG4iLCJyZXF1aXJlKCcuL193a3MtZGVmaW5lJykoJ29ic2VydmFibGUnKTtcbiIsInJlcXVpcmUoJy4vZXM2LmFycmF5Lml0ZXJhdG9yJyk7XG52YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgaGlkZSA9IHJlcXVpcmUoJy4vX2hpZGUnKTtcbnZhciBJdGVyYXRvcnMgPSByZXF1aXJlKCcuL19pdGVyYXRvcnMnKTtcbnZhciBUT19TVFJJTkdfVEFHID0gcmVxdWlyZSgnLi9fd2tzJykoJ3RvU3RyaW5nVGFnJyk7XG5cbnZhciBET01JdGVyYWJsZXMgPSAoJ0NTU1J1bGVMaXN0LENTU1N0eWxlRGVjbGFyYXRpb24sQ1NTVmFsdWVMaXN0LENsaWVudFJlY3RMaXN0LERPTVJlY3RMaXN0LERPTVN0cmluZ0xpc3QsJyArXG4gICdET01Ub2tlbkxpc3QsRGF0YVRyYW5zZmVySXRlbUxpc3QsRmlsZUxpc3QsSFRNTEFsbENvbGxlY3Rpb24sSFRNTENvbGxlY3Rpb24sSFRNTEZvcm1FbGVtZW50LEhUTUxTZWxlY3RFbGVtZW50LCcgK1xuICAnTWVkaWFMaXN0LE1pbWVUeXBlQXJyYXksTmFtZWROb2RlTWFwLE5vZGVMaXN0LFBhaW50UmVxdWVzdExpc3QsUGx1Z2luLFBsdWdpbkFycmF5LFNWR0xlbmd0aExpc3QsU1ZHTnVtYmVyTGlzdCwnICtcbiAgJ1NWR1BhdGhTZWdMaXN0LFNWR1BvaW50TGlzdCxTVkdTdHJpbmdMaXN0LFNWR1RyYW5zZm9ybUxpc3QsU291cmNlQnVmZmVyTGlzdCxTdHlsZVNoZWV0TGlzdCxUZXh0VHJhY2tDdWVMaXN0LCcgK1xuICAnVGV4dFRyYWNrTGlzdCxUb3VjaExpc3QnKS5zcGxpdCgnLCcpO1xuXG5mb3IgKHZhciBpID0gMDsgaSA8IERPTUl0ZXJhYmxlcy5sZW5ndGg7IGkrKykge1xuICB2YXIgTkFNRSA9IERPTUl0ZXJhYmxlc1tpXTtcbiAgdmFyIENvbGxlY3Rpb24gPSBnbG9iYWxbTkFNRV07XG4gIHZhciBwcm90byA9IENvbGxlY3Rpb24gJiYgQ29sbGVjdGlvbi5wcm90b3R5cGU7XG4gIGlmIChwcm90byAmJiAhcHJvdG9bVE9fU1RSSU5HX1RBR10pIGhpZGUocHJvdG8sIFRPX1NUUklOR19UQUcsIE5BTUUpO1xuICBJdGVyYXRvcnNbTkFNRV0gPSBJdGVyYXRvcnMuQXJyYXk7XG59XG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxudmFyIG9iamVjdENyZWF0ZSA9IE9iamVjdC5jcmVhdGUgfHwgb2JqZWN0Q3JlYXRlUG9seWZpbGxcbnZhciBvYmplY3RLZXlzID0gT2JqZWN0LmtleXMgfHwgb2JqZWN0S2V5c1BvbHlmaWxsXG52YXIgYmluZCA9IEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kIHx8IGZ1bmN0aW9uQmluZFBvbHlmaWxsXG5cbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgaWYgKCF0aGlzLl9ldmVudHMgfHwgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLCAnX2V2ZW50cycpKSB7XG4gICAgdGhpcy5fZXZlbnRzID0gb2JqZWN0Q3JlYXRlKG51bGwpO1xuICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgfVxuXG4gIHRoaXMuX21heExpc3RlbmVycyA9IHRoaXMuX21heExpc3RlbmVycyB8fCB1bmRlZmluZWQ7XG59XG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcblxuLy8gQmFja3dhcmRzLWNvbXBhdCB3aXRoIG5vZGUgMC4xMC54XG5FdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9ldmVudHMgPSB1bmRlZmluZWQ7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9tYXhMaXN0ZW5lcnMgPSB1bmRlZmluZWQ7XG5cbi8vIEJ5IGRlZmF1bHQgRXZlbnRFbWl0dGVycyB3aWxsIHByaW50IGEgd2FybmluZyBpZiBtb3JlIHRoYW4gMTAgbGlzdGVuZXJzIGFyZVxuLy8gYWRkZWQgdG8gaXQuIFRoaXMgaXMgYSB1c2VmdWwgZGVmYXVsdCB3aGljaCBoZWxwcyBmaW5kaW5nIG1lbW9yeSBsZWFrcy5cbnZhciBkZWZhdWx0TWF4TGlzdGVuZXJzID0gMTA7XG5cbnZhciBoYXNEZWZpbmVQcm9wZXJ0eTtcbnRyeSB7XG4gIHZhciBvID0ge307XG4gIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCAneCcsIHsgdmFsdWU6IDAgfSk7XG4gIGhhc0RlZmluZVByb3BlcnR5ID0gby54ID09PSAwO1xufSBjYXRjaCAoZXJyKSB7IGhhc0RlZmluZVByb3BlcnR5ID0gZmFsc2UgfVxuaWYgKGhhc0RlZmluZVByb3BlcnR5KSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFdmVudEVtaXR0ZXIsICdkZWZhdWx0TWF4TGlzdGVuZXJzJywge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBkZWZhdWx0TWF4TGlzdGVuZXJzO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbihhcmcpIHtcbiAgICAgIC8vIGNoZWNrIHdoZXRoZXIgdGhlIGlucHV0IGlzIGEgcG9zaXRpdmUgbnVtYmVyICh3aG9zZSB2YWx1ZSBpcyB6ZXJvIG9yXG4gICAgICAvLyBncmVhdGVyIGFuZCBub3QgYSBOYU4pLlxuICAgICAgaWYgKHR5cGVvZiBhcmcgIT09ICdudW1iZXInIHx8IGFyZyA8IDAgfHwgYXJnICE9PSBhcmcpXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiZGVmYXVsdE1heExpc3RlbmVyc1wiIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXInKTtcbiAgICAgIGRlZmF1bHRNYXhMaXN0ZW5lcnMgPSBhcmc7XG4gICAgfVxuICB9KTtcbn0gZWxzZSB7XG4gIEV2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzID0gZGVmYXVsdE1heExpc3RlbmVycztcbn1cblxuLy8gT2J2aW91c2x5IG5vdCBhbGwgRW1pdHRlcnMgc2hvdWxkIGJlIGxpbWl0ZWQgdG8gMTAuIFRoaXMgZnVuY3Rpb24gYWxsb3dzXG4vLyB0aGF0IHRvIGJlIGluY3JlYXNlZC4gU2V0IHRvIHplcm8gZm9yIHVubGltaXRlZC5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24gc2V0TWF4TGlzdGVuZXJzKG4pIHtcbiAgaWYgKHR5cGVvZiBuICE9PSAnbnVtYmVyJyB8fCBuIDwgMCB8fCBpc05hTihuKSlcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcIm5cIiBhcmd1bWVudCBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyJyk7XG4gIHRoaXMuX21heExpc3RlbmVycyA9IG47XG4gIHJldHVybiB0aGlzO1xufTtcblxuZnVuY3Rpb24gJGdldE1heExpc3RlbmVycyh0aGF0KSB7XG4gIGlmICh0aGF0Ll9tYXhMaXN0ZW5lcnMgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gIHJldHVybiB0aGF0Ll9tYXhMaXN0ZW5lcnM7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZ2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24gZ2V0TWF4TGlzdGVuZXJzKCkge1xuICByZXR1cm4gJGdldE1heExpc3RlbmVycyh0aGlzKTtcbn07XG5cbi8vIFRoZXNlIHN0YW5kYWxvbmUgZW1pdCogZnVuY3Rpb25zIGFyZSB1c2VkIHRvIG9wdGltaXplIGNhbGxpbmcgb2YgZXZlbnRcbi8vIGhhbmRsZXJzIGZvciBmYXN0IGNhc2VzIGJlY2F1c2UgZW1pdCgpIGl0c2VsZiBvZnRlbiBoYXMgYSB2YXJpYWJsZSBudW1iZXIgb2Zcbi8vIGFyZ3VtZW50cyBhbmQgY2FuIGJlIGRlb3B0aW1pemVkIGJlY2F1c2Ugb2YgdGhhdC4gVGhlc2UgZnVuY3Rpb25zIGFsd2F5cyBoYXZlXG4vLyB0aGUgc2FtZSBudW1iZXIgb2YgYXJndW1lbnRzIGFuZCB0aHVzIGRvIG5vdCBnZXQgZGVvcHRpbWl6ZWQsIHNvIHRoZSBjb2RlXG4vLyBpbnNpZGUgdGhlbSBjYW4gZXhlY3V0ZSBmYXN0ZXIuXG5mdW5jdGlvbiBlbWl0Tm9uZShoYW5kbGVyLCBpc0ZuLCBzZWxmKSB7XG4gIGlmIChpc0ZuKVxuICAgIGhhbmRsZXIuY2FsbChzZWxmKTtcbiAgZWxzZSB7XG4gICAgdmFyIGxlbiA9IGhhbmRsZXIubGVuZ3RoO1xuICAgIHZhciBsaXN0ZW5lcnMgPSBhcnJheUNsb25lKGhhbmRsZXIsIGxlbik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSlcbiAgICAgIGxpc3RlbmVyc1tpXS5jYWxsKHNlbGYpO1xuICB9XG59XG5mdW5jdGlvbiBlbWl0T25lKGhhbmRsZXIsIGlzRm4sIHNlbGYsIGFyZzEpIHtcbiAgaWYgKGlzRm4pXG4gICAgaGFuZGxlci5jYWxsKHNlbGYsIGFyZzEpO1xuICBlbHNlIHtcbiAgICB2YXIgbGVuID0gaGFuZGxlci5sZW5ndGg7XG4gICAgdmFyIGxpc3RlbmVycyA9IGFycmF5Q2xvbmUoaGFuZGxlciwgbGVuKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKVxuICAgICAgbGlzdGVuZXJzW2ldLmNhbGwoc2VsZiwgYXJnMSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGVtaXRUd28oaGFuZGxlciwgaXNGbiwgc2VsZiwgYXJnMSwgYXJnMikge1xuICBpZiAoaXNGbilcbiAgICBoYW5kbGVyLmNhbGwoc2VsZiwgYXJnMSwgYXJnMik7XG4gIGVsc2Uge1xuICAgIHZhciBsZW4gPSBoYW5kbGVyLmxlbmd0aDtcbiAgICB2YXIgbGlzdGVuZXJzID0gYXJyYXlDbG9uZShoYW5kbGVyLCBsZW4pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpXG4gICAgICBsaXN0ZW5lcnNbaV0uY2FsbChzZWxmLCBhcmcxLCBhcmcyKTtcbiAgfVxufVxuZnVuY3Rpb24gZW1pdFRocmVlKGhhbmRsZXIsIGlzRm4sIHNlbGYsIGFyZzEsIGFyZzIsIGFyZzMpIHtcbiAgaWYgKGlzRm4pXG4gICAgaGFuZGxlci5jYWxsKHNlbGYsIGFyZzEsIGFyZzIsIGFyZzMpO1xuICBlbHNlIHtcbiAgICB2YXIgbGVuID0gaGFuZGxlci5sZW5ndGg7XG4gICAgdmFyIGxpc3RlbmVycyA9IGFycmF5Q2xvbmUoaGFuZGxlciwgbGVuKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKVxuICAgICAgbGlzdGVuZXJzW2ldLmNhbGwoc2VsZiwgYXJnMSwgYXJnMiwgYXJnMyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZW1pdE1hbnkoaGFuZGxlciwgaXNGbiwgc2VsZiwgYXJncykge1xuICBpZiAoaXNGbilcbiAgICBoYW5kbGVyLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICBlbHNlIHtcbiAgICB2YXIgbGVuID0gaGFuZGxlci5sZW5ndGg7XG4gICAgdmFyIGxpc3RlbmVycyA9IGFycmF5Q2xvbmUoaGFuZGxlciwgbGVuKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKVxuICAgICAgbGlzdGVuZXJzW2ldLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICB9XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIGVtaXQodHlwZSkge1xuICB2YXIgZXIsIGhhbmRsZXIsIGxlbiwgYXJncywgaSwgZXZlbnRzO1xuICB2YXIgZG9FcnJvciA9ICh0eXBlID09PSAnZXJyb3InKTtcblxuICBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gIGlmIChldmVudHMpXG4gICAgZG9FcnJvciA9IChkb0Vycm9yICYmIGV2ZW50cy5lcnJvciA9PSBudWxsKTtcbiAgZWxzZSBpZiAoIWRvRXJyb3IpXG4gICAgcmV0dXJuIGZhbHNlO1xuXG4gIC8vIElmIHRoZXJlIGlzIG5vICdlcnJvcicgZXZlbnQgbGlzdGVuZXIgdGhlbiB0aHJvdy5cbiAgaWYgKGRvRXJyb3IpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpXG4gICAgICBlciA9IGFyZ3VtZW50c1sxXTtcbiAgICBpZiAoZXIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgdGhyb3cgZXI7IC8vIFVuaGFuZGxlZCAnZXJyb3InIGV2ZW50XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEF0IGxlYXN0IGdpdmUgc29tZSBraW5kIG9mIGNvbnRleHQgdG8gdGhlIHVzZXJcbiAgICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoJ1VuaGFuZGxlZCBcImVycm9yXCIgZXZlbnQuICgnICsgZXIgKyAnKScpO1xuICAgICAgZXJyLmNvbnRleHQgPSBlcjtcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaGFuZGxlciA9IGV2ZW50c1t0eXBlXTtcblxuICBpZiAoIWhhbmRsZXIpXG4gICAgcmV0dXJuIGZhbHNlO1xuXG4gIHZhciBpc0ZuID0gdHlwZW9mIGhhbmRsZXIgPT09ICdmdW5jdGlvbic7XG4gIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gIHN3aXRjaCAobGVuKSB7XG4gICAgICAvLyBmYXN0IGNhc2VzXG4gICAgY2FzZSAxOlxuICAgICAgZW1pdE5vbmUoaGFuZGxlciwgaXNGbiwgdGhpcyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIDI6XG4gICAgICBlbWl0T25lKGhhbmRsZXIsIGlzRm4sIHRoaXMsIGFyZ3VtZW50c1sxXSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIDM6XG4gICAgICBlbWl0VHdvKGhhbmRsZXIsIGlzRm4sIHRoaXMsIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgNDpcbiAgICAgIGVtaXRUaHJlZShoYW5kbGVyLCBpc0ZuLCB0aGlzLCBhcmd1bWVudHNbMV0sIGFyZ3VtZW50c1syXSwgYXJndW1lbnRzWzNdKTtcbiAgICAgIGJyZWFrO1xuICAgICAgLy8gc2xvd2VyXG4gICAgZGVmYXVsdDpcbiAgICAgIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0gMSk7XG4gICAgICBmb3IgKGkgPSAxOyBpIDwgbGVuOyBpKyspXG4gICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgZW1pdE1hbnkoaGFuZGxlciwgaXNGbiwgdGhpcywgYXJncyk7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbmZ1bmN0aW9uIF9hZGRMaXN0ZW5lcih0YXJnZXQsIHR5cGUsIGxpc3RlbmVyLCBwcmVwZW5kKSB7XG4gIHZhciBtO1xuICB2YXIgZXZlbnRzO1xuICB2YXIgZXhpc3Rpbmc7XG5cbiAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJylcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RlbmVyXCIgYXJndW1lbnQgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cbiAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHM7XG4gIGlmICghZXZlbnRzKSB7XG4gICAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHMgPSBvYmplY3RDcmVhdGUobnVsbCk7XG4gICAgdGFyZ2V0Ll9ldmVudHNDb3VudCA9IDA7XG4gIH0gZWxzZSB7XG4gICAgLy8gVG8gYXZvaWQgcmVjdXJzaW9uIGluIHRoZSBjYXNlIHRoYXQgdHlwZSA9PT0gXCJuZXdMaXN0ZW5lclwiISBCZWZvcmVcbiAgICAvLyBhZGRpbmcgaXQgdG8gdGhlIGxpc3RlbmVycywgZmlyc3QgZW1pdCBcIm5ld0xpc3RlbmVyXCIuXG4gICAgaWYgKGV2ZW50cy5uZXdMaXN0ZW5lcikge1xuICAgICAgdGFyZ2V0LmVtaXQoJ25ld0xpc3RlbmVyJywgdHlwZSxcbiAgICAgICAgICBsaXN0ZW5lci5saXN0ZW5lciA/IGxpc3RlbmVyLmxpc3RlbmVyIDogbGlzdGVuZXIpO1xuXG4gICAgICAvLyBSZS1hc3NpZ24gYGV2ZW50c2AgYmVjYXVzZSBhIG5ld0xpc3RlbmVyIGhhbmRsZXIgY291bGQgaGF2ZSBjYXVzZWQgdGhlXG4gICAgICAvLyB0aGlzLl9ldmVudHMgdG8gYmUgYXNzaWduZWQgdG8gYSBuZXcgb2JqZWN0XG4gICAgICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcbiAgICB9XG4gICAgZXhpc3RpbmcgPSBldmVudHNbdHlwZV07XG4gIH1cblxuICBpZiAoIWV4aXN0aW5nKSB7XG4gICAgLy8gT3B0aW1pemUgdGhlIGNhc2Ugb2Ygb25lIGxpc3RlbmVyLiBEb24ndCBuZWVkIHRoZSBleHRyYSBhcnJheSBvYmplY3QuXG4gICAgZXhpc3RpbmcgPSBldmVudHNbdHlwZV0gPSBsaXN0ZW5lcjtcbiAgICArK3RhcmdldC5fZXZlbnRzQ291bnQ7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHR5cGVvZiBleGlzdGluZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8gQWRkaW5nIHRoZSBzZWNvbmQgZWxlbWVudCwgbmVlZCB0byBjaGFuZ2UgdG8gYXJyYXkuXG4gICAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXSA9XG4gICAgICAgICAgcHJlcGVuZCA/IFtsaXN0ZW5lciwgZXhpc3RpbmddIDogW2V4aXN0aW5nLCBsaXN0ZW5lcl07XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIElmIHdlJ3ZlIGFscmVhZHkgZ290IGFuIGFycmF5LCBqdXN0IGFwcGVuZC5cbiAgICAgIGlmIChwcmVwZW5kKSB7XG4gICAgICAgIGV4aXN0aW5nLnVuc2hpZnQobGlzdGVuZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZXhpc3RpbmcucHVzaChsaXN0ZW5lcik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZm9yIGxpc3RlbmVyIGxlYWtcbiAgICBpZiAoIWV4aXN0aW5nLndhcm5lZCkge1xuICAgICAgbSA9ICRnZXRNYXhMaXN0ZW5lcnModGFyZ2V0KTtcbiAgICAgIGlmIChtICYmIG0gPiAwICYmIGV4aXN0aW5nLmxlbmd0aCA+IG0pIHtcbiAgICAgICAgZXhpc3Rpbmcud2FybmVkID0gdHJ1ZTtcbiAgICAgICAgdmFyIHcgPSBuZXcgRXJyb3IoJ1Bvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgbGVhayBkZXRlY3RlZC4gJyArXG4gICAgICAgICAgICBleGlzdGluZy5sZW5ndGggKyAnIFwiJyArIFN0cmluZyh0eXBlKSArICdcIiBsaXN0ZW5lcnMgJyArXG4gICAgICAgICAgICAnYWRkZWQuIFVzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvICcgK1xuICAgICAgICAgICAgJ2luY3JlYXNlIGxpbWl0LicpO1xuICAgICAgICB3Lm5hbWUgPSAnTWF4TGlzdGVuZXJzRXhjZWVkZWRXYXJuaW5nJztcbiAgICAgICAgdy5lbWl0dGVyID0gdGFyZ2V0O1xuICAgICAgICB3LnR5cGUgPSB0eXBlO1xuICAgICAgICB3LmNvdW50ID0gZXhpc3RpbmcubGVuZ3RoO1xuICAgICAgICBpZiAodHlwZW9mIGNvbnNvbGUgPT09ICdvYmplY3QnICYmIGNvbnNvbGUud2Fybikge1xuICAgICAgICAgIGNvbnNvbGUud2FybignJXM6ICVzJywgdy5uYW1lLCB3Lm1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uIGFkZExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gIHJldHVybiBfYWRkTGlzdGVuZXIodGhpcywgdHlwZSwgbGlzdGVuZXIsIGZhbHNlKTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnByZXBlbmRMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcHJlcGVuZExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICByZXR1cm4gX2FkZExpc3RlbmVyKHRoaXMsIHR5cGUsIGxpc3RlbmVyLCB0cnVlKTtcbiAgICB9O1xuXG5mdW5jdGlvbiBvbmNlV3JhcHBlcigpIHtcbiAgaWYgKCF0aGlzLmZpcmVkKSB7XG4gICAgdGhpcy50YXJnZXQucmVtb3ZlTGlzdGVuZXIodGhpcy50eXBlLCB0aGlzLndyYXBGbik7XG4gICAgdGhpcy5maXJlZCA9IHRydWU7XG4gICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICBjYXNlIDA6XG4gICAgICAgIHJldHVybiB0aGlzLmxpc3RlbmVyLmNhbGwodGhpcy50YXJnZXQpO1xuICAgICAgY2FzZSAxOlxuICAgICAgICByZXR1cm4gdGhpcy5saXN0ZW5lci5jYWxsKHRoaXMudGFyZ2V0LCBhcmd1bWVudHNbMF0pO1xuICAgICAgY2FzZSAyOlxuICAgICAgICByZXR1cm4gdGhpcy5saXN0ZW5lci5jYWxsKHRoaXMudGFyZ2V0LCBhcmd1bWVudHNbMF0sIGFyZ3VtZW50c1sxXSk7XG4gICAgICBjYXNlIDM6XG4gICAgICAgIHJldHVybiB0aGlzLmxpc3RlbmVyLmNhbGwodGhpcy50YXJnZXQsIGFyZ3VtZW50c1swXSwgYXJndW1lbnRzWzFdLFxuICAgICAgICAgICAgYXJndW1lbnRzWzJdKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyArK2kpXG4gICAgICAgICAgYXJnc1tpXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgdGhpcy5saXN0ZW5lci5hcHBseSh0aGlzLnRhcmdldCwgYXJncyk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIF9vbmNlV3JhcCh0YXJnZXQsIHR5cGUsIGxpc3RlbmVyKSB7XG4gIHZhciBzdGF0ZSA9IHsgZmlyZWQ6IGZhbHNlLCB3cmFwRm46IHVuZGVmaW5lZCwgdGFyZ2V0OiB0YXJnZXQsIHR5cGU6IHR5cGUsIGxpc3RlbmVyOiBsaXN0ZW5lciB9O1xuICB2YXIgd3JhcHBlZCA9IGJpbmQuY2FsbChvbmNlV3JhcHBlciwgc3RhdGUpO1xuICB3cmFwcGVkLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gIHN0YXRlLndyYXBGbiA9IHdyYXBwZWQ7XG4gIHJldHVybiB3cmFwcGVkO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbiBvbmNlKHR5cGUsIGxpc3RlbmVyKSB7XG4gIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09ICdmdW5jdGlvbicpXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0ZW5lclwiIGFyZ3VtZW50IG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICB0aGlzLm9uKHR5cGUsIF9vbmNlV3JhcCh0aGlzLCB0eXBlLCBsaXN0ZW5lcikpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucHJlcGVuZE9uY2VMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcHJlcGVuZE9uY2VMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0ZW5lclwiIGFyZ3VtZW50IG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICAgICAgdGhpcy5wcmVwZW5kTGlzdGVuZXIodHlwZSwgX29uY2VXcmFwKHRoaXMsIHR5cGUsIGxpc3RlbmVyKSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4vLyBFbWl0cyBhICdyZW1vdmVMaXN0ZW5lcicgZXZlbnQgaWYgYW5kIG9ubHkgaWYgdGhlIGxpc3RlbmVyIHdhcyByZW1vdmVkLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIHZhciBsaXN0LCBldmVudHMsIHBvc2l0aW9uLCBpLCBvcmlnaW5hbExpc3RlbmVyO1xuXG4gICAgICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKVxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RlbmVyXCIgYXJndW1lbnQgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cbiAgICAgIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgICAgIGlmICghZXZlbnRzKVxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgbGlzdCA9IGV2ZW50c1t0eXBlXTtcbiAgICAgIGlmICghbGlzdClcbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgIGlmIChsaXN0ID09PSBsaXN0ZW5lciB8fCBsaXN0Lmxpc3RlbmVyID09PSBsaXN0ZW5lcikge1xuICAgICAgICBpZiAoLS10aGlzLl9ldmVudHNDb3VudCA9PT0gMClcbiAgICAgICAgICB0aGlzLl9ldmVudHMgPSBvYmplY3RDcmVhdGUobnVsbCk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGRlbGV0ZSBldmVudHNbdHlwZV07XG4gICAgICAgICAgaWYgKGV2ZW50cy5yZW1vdmVMaXN0ZW5lcilcbiAgICAgICAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBsaXN0Lmxpc3RlbmVyIHx8IGxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgbGlzdCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBwb3NpdGlvbiA9IC0xO1xuXG4gICAgICAgIGZvciAoaSA9IGxpc3QubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICBpZiAobGlzdFtpXSA9PT0gbGlzdGVuZXIgfHwgbGlzdFtpXS5saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHtcbiAgICAgICAgICAgIG9yaWdpbmFsTGlzdGVuZXIgPSBsaXN0W2ldLmxpc3RlbmVyO1xuICAgICAgICAgICAgcG9zaXRpb24gPSBpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBvc2l0aW9uIDwgMClcbiAgICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgICBpZiAocG9zaXRpb24gPT09IDApXG4gICAgICAgICAgbGlzdC5zaGlmdCgpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgc3BsaWNlT25lKGxpc3QsIHBvc2l0aW9uKTtcblxuICAgICAgICBpZiAobGlzdC5sZW5ndGggPT09IDEpXG4gICAgICAgICAgZXZlbnRzW3R5cGVdID0gbGlzdFswXTtcblxuICAgICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBvcmlnaW5hbExpc3RlbmVyIHx8IGxpc3RlbmVyKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPVxuICAgIGZ1bmN0aW9uIHJlbW92ZUFsbExpc3RlbmVycyh0eXBlKSB7XG4gICAgICB2YXIgbGlzdGVuZXJzLCBldmVudHMsIGk7XG5cbiAgICAgIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgICAgIGlmICghZXZlbnRzKVxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgLy8gbm90IGxpc3RlbmluZyBmb3IgcmVtb3ZlTGlzdGVuZXIsIG5vIG5lZWQgdG8gZW1pdFxuICAgICAgaWYgKCFldmVudHMucmVtb3ZlTGlzdGVuZXIpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICB0aGlzLl9ldmVudHMgPSBvYmplY3RDcmVhdGUobnVsbCk7XG4gICAgICAgICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50c1t0eXBlXSkge1xuICAgICAgICAgIGlmICgtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwKVxuICAgICAgICAgICAgdGhpcy5fZXZlbnRzID0gb2JqZWN0Q3JlYXRlKG51bGwpO1xuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIGRlbGV0ZSBldmVudHNbdHlwZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIC8vIGVtaXQgcmVtb3ZlTGlzdGVuZXIgZm9yIGFsbCBsaXN0ZW5lcnMgb24gYWxsIGV2ZW50c1xuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdmFyIGtleXMgPSBvYmplY3RLZXlzKGV2ZW50cyk7XG4gICAgICAgIHZhciBrZXk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICBpZiAoa2V5ID09PSAncmVtb3ZlTGlzdGVuZXInKSBjb250aW51ZTtcbiAgICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCdyZW1vdmVMaXN0ZW5lcicpO1xuICAgICAgICB0aGlzLl9ldmVudHMgPSBvYmplY3RDcmVhdGUobnVsbCk7XG4gICAgICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIGxpc3RlbmVycyA9IGV2ZW50c1t0eXBlXTtcblxuICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lcnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnMpO1xuICAgICAgfSBlbHNlIGlmIChsaXN0ZW5lcnMpIHtcbiAgICAgICAgLy8gTElGTyBvcmRlclxuICAgICAgICBmb3IgKGkgPSBsaXN0ZW5lcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVyc1tpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuZnVuY3Rpb24gX2xpc3RlbmVycyh0YXJnZXQsIHR5cGUsIHVud3JhcCkge1xuICB2YXIgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHM7XG5cbiAgaWYgKCFldmVudHMpXG4gICAgcmV0dXJuIFtdO1xuXG4gIHZhciBldmxpc3RlbmVyID0gZXZlbnRzW3R5cGVdO1xuICBpZiAoIWV2bGlzdGVuZXIpXG4gICAgcmV0dXJuIFtdO1xuXG4gIGlmICh0eXBlb2YgZXZsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJylcbiAgICByZXR1cm4gdW53cmFwID8gW2V2bGlzdGVuZXIubGlzdGVuZXIgfHwgZXZsaXN0ZW5lcl0gOiBbZXZsaXN0ZW5lcl07XG5cbiAgcmV0dXJuIHVud3JhcCA/IHVud3JhcExpc3RlbmVycyhldmxpc3RlbmVyKSA6IGFycmF5Q2xvbmUoZXZsaXN0ZW5lciwgZXZsaXN0ZW5lci5sZW5ndGgpO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uIGxpc3RlbmVycyh0eXBlKSB7XG4gIHJldHVybiBfbGlzdGVuZXJzKHRoaXMsIHR5cGUsIHRydWUpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yYXdMaXN0ZW5lcnMgPSBmdW5jdGlvbiByYXdMaXN0ZW5lcnModHlwZSkge1xuICByZXR1cm4gX2xpc3RlbmVycyh0aGlzLCB0eXBlLCBmYWxzZSk7XG59O1xuXG5FdmVudEVtaXR0ZXIubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKGVtaXR0ZXIsIHR5cGUpIHtcbiAgaWYgKHR5cGVvZiBlbWl0dGVyLmxpc3RlbmVyQ291bnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gZW1pdHRlci5saXN0ZW5lckNvdW50KHR5cGUpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBsaXN0ZW5lckNvdW50LmNhbGwoZW1pdHRlciwgdHlwZSk7XG4gIH1cbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJDb3VudCA9IGxpc3RlbmVyQ291bnQ7XG5mdW5jdGlvbiBsaXN0ZW5lckNvdW50KHR5cGUpIHtcbiAgdmFyIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcblxuICBpZiAoZXZlbnRzKSB7XG4gICAgdmFyIGV2bGlzdGVuZXIgPSBldmVudHNbdHlwZV07XG5cbiAgICBpZiAodHlwZW9mIGV2bGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH0gZWxzZSBpZiAoZXZsaXN0ZW5lcikge1xuICAgICAgcmV0dXJuIGV2bGlzdGVuZXIubGVuZ3RoO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAwO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmV2ZW50TmFtZXMgPSBmdW5jdGlvbiBldmVudE5hbWVzKCkge1xuICByZXR1cm4gdGhpcy5fZXZlbnRzQ291bnQgPiAwID8gUmVmbGVjdC5vd25LZXlzKHRoaXMuX2V2ZW50cykgOiBbXTtcbn07XG5cbi8vIEFib3V0IDEuNXggZmFzdGVyIHRoYW4gdGhlIHR3by1hcmcgdmVyc2lvbiBvZiBBcnJheSNzcGxpY2UoKS5cbmZ1bmN0aW9uIHNwbGljZU9uZShsaXN0LCBpbmRleCkge1xuICBmb3IgKHZhciBpID0gaW5kZXgsIGsgPSBpICsgMSwgbiA9IGxpc3QubGVuZ3RoOyBrIDwgbjsgaSArPSAxLCBrICs9IDEpXG4gICAgbGlzdFtpXSA9IGxpc3Rba107XG4gIGxpc3QucG9wKCk7XG59XG5cbmZ1bmN0aW9uIGFycmF5Q2xvbmUoYXJyLCBuKSB7XG4gIHZhciBjb3B5ID0gbmV3IEFycmF5KG4pO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IG47ICsraSlcbiAgICBjb3B5W2ldID0gYXJyW2ldO1xuICByZXR1cm4gY29weTtcbn1cblxuZnVuY3Rpb24gdW53cmFwTGlzdGVuZXJzKGFycikge1xuICB2YXIgcmV0ID0gbmV3IEFycmF5KGFyci5sZW5ndGgpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHJldC5sZW5ndGg7ICsraSkge1xuICAgIHJldFtpXSA9IGFycltpXS5saXN0ZW5lciB8fCBhcnJbaV07XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gb2JqZWN0Q3JlYXRlUG9seWZpbGwocHJvdG8pIHtcbiAgdmFyIEYgPSBmdW5jdGlvbigpIHt9O1xuICBGLnByb3RvdHlwZSA9IHByb3RvO1xuICByZXR1cm4gbmV3IEY7XG59XG5mdW5jdGlvbiBvYmplY3RLZXlzUG9seWZpbGwob2JqKSB7XG4gIHZhciBrZXlzID0gW107XG4gIGZvciAodmFyIGsgaW4gb2JqKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgaykpIHtcbiAgICBrZXlzLnB1c2goayk7XG4gIH1cbiAgcmV0dXJuIGs7XG59XG5mdW5jdGlvbiBmdW5jdGlvbkJpbmRQb2x5ZmlsbChjb250ZXh0KSB7XG4gIHZhciBmbiA9IHRoaXM7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZuLmFwcGx5KGNvbnRleHQsIGFyZ3VtZW50cyk7XG4gIH07XG59XG4iXX0="}